if(window.jQuery){(function(a){a.extend({xml2json:function(g,b){if(!g){return{}
}function e(l,k){if(!l){return null
}var o="",n=null,r=null;
var q=l.nodeType,s=h(l.localName||l.nodeName);
var p=l.text||l.nodeValue||"";
if(l.childNodes){if(l.childNodes.length>0){a.each(l.childNodes,function(x,w){var u=w.nodeType,v=h(w.localName||w.nodeName);
var t=w.text||w.nodeValue||"";
if(u==8){return
}else{if(u==3||u==4||!v){if(t.match(/^\s+$/)){return
}o+=t.replace(/^\s+/,"").replace(/\s+$/,"")
}else{n=n||{};
if(n[v]){if(!n[v].length){n[v]=d(n[v])
}n[v]=d(n[v]);
n[v][n[v].length]=e(w,true);
n[v].length=n[v].length
}else{n[v]=e(w)
}}}})
}}if(l.attributes){if(l.attributes.length>0){r={};
n=n||{};
a.each(l.attributes,function(v,u){var w=h(u.name),t=u.value;
r[w]=t;
if(n[w]){n[cnn]=d(n[cnn]);
n[w][n[w].length]=t;
n[w].length=n[w].length
}else{n[w]=t
}})
}}if(n){n=a.extend((o!=""?new String(o):{}),n||{});
o=(n.text)?(typeof(n.text)=="object"?n.text:[n.text||""]).concat([o]):o;
if(o){n.text=o
}o=""
}var m=n||o;
if(b){if(o){m={}
}o=m.text||o||"";
if(o){m.text=o
}if(!k){m=d(m)
}}return m
}var h=function(k){return String(k||"").replace(/-/g,"_")
};
function j(k){var l=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;
return(typeof k=="number")||l.test(String((k&&typeof k=="string")?jQuery.trim(k):""))
}var d=function(k){if(!a.isArray(k)){k=[k]
}k.length=k.length;
return k
};
if(typeof g=="string"){g=a.text2xml(g)
}if(!g.nodeType){return
}if(g.nodeType==3||g.nodeType==4){return g.nodeValue
}var c=(g.nodeType==9)?g.documentElement:g;
var f=e(c,true);
g=null;
c=null;
return f
},text2xml:function(f){var c;
try{var b=(a.browser.msie)?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser();
b.async=false
}catch(d){throw new Error("XML Parser could not be instantiated")
}try{if(a.browser.msie){c=(b.loadXML(f))?b:false
}else{c=b.parseFromString(f,"text/xml")
}}catch(d){throw new Error("Error parsing XML string")
}return c
}})
})(jQuery);
/*!	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
}var swfobject=function(){var E="undefined",s="object",T="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",r="application/x-shockwave-flash",S="SWFObjectExprInst",y="onreadystatechange",P=window,k=document,u=navigator,U=false,V=[h],p=[],O=[],J=[],m,R,F,C,K=false,a=false,o,H,n=true,N=function(){var ab=typeof k.getElementById!=E&&typeof k.getElementsByTagName!=E&&typeof k.createElement!=E,ai=u.userAgent.toLowerCase(),Z=u.platform.toLowerCase(),af=Z?/win/.test(Z):/win/.test(ai),ad=Z?/mac/.test(Z):/mac/.test(ai),ag=/webkit/.test(ai)?parseFloat(ai.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,Y=!+"\v1",ah=[0,0,0],ac=null;
if(typeof u.plugins!=E&&typeof u.plugins[T]==s){ac=u.plugins[T].description;
if(ac&&!(typeof u.mimeTypes!=E&&u.mimeTypes[r]&&!u.mimeTypes[r].enabledPlugin)){U=true;
Y=false;
ac=ac.replace(/^.*\s+(\S+\s+\S+$)/,"$1");
ah[0]=parseInt(ac.replace(/^(.*)\..*$/,"$1"),10);
ah[1]=parseInt(ac.replace(/^.*\.(.*)\s.*$/,"$1"),10);
ah[2]=/[a-zA-Z]/.test(ac)?parseInt(ac.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0
}}else{if(typeof P.ActiveXObject!=E){try{var ae=new ActiveXObject(X);
if(ae){ac=ae.GetVariable("$version");
if(ac){Y=true;
ac=ac.split(" ")[1].split(",");
ah=[parseInt(ac[0],10),parseInt(ac[1],10),parseInt(ac[2],10)]
}}}catch(aa){}}}return{w3:ab,pv:ah,wk:ag,ie:Y,win:af,mac:ad}
}(),l=function(){if(!N.w3){return
}if((typeof k.readyState!=E&&k.readyState=="complete")||(typeof k.readyState==E&&(k.getElementsByTagName("body")[0]||k.body))){f()
}if(!K){if(typeof k.addEventListener!=E){k.addEventListener("DOMContentLoaded",f,false)
}if(N.ie&&N.win){k.attachEvent(y,function(){if(k.readyState=="complete"){k.detachEvent(y,arguments.callee);
f()
}});
if(P==top){(function(){if(K){return
}try{k.documentElement.doScroll("left")
}catch(Y){setTimeout(arguments.callee,0);
return
}f()
})()
}}if(N.wk){(function(){if(K){return
}if(!/loaded|complete/.test(k.readyState)){setTimeout(arguments.callee,0);
return
}f()
})()
}t(f)
}}();
function f(){if(K){return
}try{var aa=k.getElementsByTagName("body")[0].appendChild(D("span"));
aa.parentNode.removeChild(aa)
}catch(ab){return
}K=true;
var Y=V.length;
for(var Z=0;
Z<Y;
Z++){V[Z]()
}}function L(Y){if(K){Y()
}else{V[V.length]=Y
}}function t(Z){if(typeof P.addEventListener!=E){P.addEventListener("load",Z,false)
}else{if(typeof k.addEventListener!=E){k.addEventListener("load",Z,false)
}else{if(typeof P.attachEvent!=E){j(P,"onload",Z)
}else{if(typeof P.onload=="function"){var Y=P.onload;
P.onload=function(){Y();
Z()
}
}else{P.onload=Z
}}}}}function h(){if(U){W()
}else{I()
}}function W(){var Y=k.getElementsByTagName("body")[0];
var ab=D(s);
ab.setAttribute("type",r);
var aa=Y.appendChild(ab);
if(aa){var Z=0;
(function(){if(typeof aa.GetVariable!=E){var ac=aa.GetVariable("$version");
if(ac){ac=ac.split(" ")[1].split(",");
N.pv=[parseInt(ac[0],10),parseInt(ac[1],10),parseInt(ac[2],10)]
}}else{if(Z<10){Z++;
setTimeout(arguments.callee,10);
return
}}Y.removeChild(ab);
aa=null;
I()
})()
}else{I()
}}function I(){var ah=p.length;
if(ah>0){for(var ag=0;
ag<ah;
ag++){var Z=p[ag].id;
var ac=p[ag].callbackFn;
var ab={success:false,id:Z};
if(N.pv[0]>0){var af=c(Z);
if(af){if(G(p[ag].swfVersion)&&!(N.wk&&N.wk<312)){x(Z,true);
if(ac){ab.success=true;
ab.ref=A(Z);
ac(ab)
}}else{if(p[ag].expressInstall&&B()){var aj={};
aj.data=p[ag].expressInstall;
aj.width=af.getAttribute("width")||"0";
aj.height=af.getAttribute("height")||"0";
if(af.getAttribute("class")){aj.styleclass=af.getAttribute("class")
}if(af.getAttribute("align")){aj.align=af.getAttribute("align")
}var ai={};
var Y=af.getElementsByTagName("param");
var ad=Y.length;
for(var ae=0;
ae<ad;
ae++){if(Y[ae].getAttribute("name").toLowerCase()!="movie"){ai[Y[ae].getAttribute("name")]=Y[ae].getAttribute("value")
}}Q(aj,ai,Z,ac)
}else{q(af);
if(ac){ac(ab)
}}}}}else{x(Z,true);
if(ac){var aa=A(Z);
if(aa&&typeof aa.SetVariable!=E){ab.success=true;
ab.ref=aa
}ac(ab)
}}}}}function A(ab){var Y=null;
var Z=c(ab);
if(Z&&Z.nodeName=="OBJECT"){if(typeof Z.SetVariable!=E){Y=Z
}else{var aa=Z.getElementsByTagName(s)[0];
if(aa){Y=aa
}}}return Y
}function B(){return !a&&G("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)
}function Q(ab,ac,Y,aa){a=true;
F=aa||null;
C={success:false,id:Y};
var af=c(Y);
if(af){if(af.nodeName=="OBJECT"){m=g(af);
R=null
}else{m=af;
R=Y
}ab.id=S;
if(typeof ab.width==E||(!/%$/.test(ab.width)&&parseInt(ab.width,10)<310)){ab.width="310"
}if(typeof ab.height==E||(!/%$/.test(ab.height)&&parseInt(ab.height,10)<137)){ab.height="137"
}k.title=k.title.slice(0,47)+" - Flash Player Installation";
var ae=N.ie&&N.win?"ActiveX":"PlugIn",ad="MMredirectURL="+P.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ae+"&MMdoctitle="+k.title;
if(typeof ac.flashvars!=E){ac.flashvars+="&"+ad
}else{ac.flashvars=ad
}if(N.ie&&N.win&&af.readyState!=4){var Z=D("div");
Y+="SWFObjectNew";
Z.setAttribute("id",Y);
af.parentNode.insertBefore(Z,af);
af.style.display="none";
(function(){if(af.readyState==4){af.parentNode.removeChild(af)
}else{setTimeout(arguments.callee,10)
}})()
}v(ab,ac,Y)
}}function q(Z){if(N.ie&&N.win&&Z.readyState!=4){var Y=D("div");
Z.parentNode.insertBefore(Y,Z);
Y.parentNode.replaceChild(g(Z),Y);
Z.style.display="none";
(function(){if(Z.readyState==4){Z.parentNode.removeChild(Z)
}else{setTimeout(arguments.callee,10)
}})()
}else{Z.parentNode.replaceChild(g(Z),Z)
}}function g(ad){var ab=D("div");
if(N.win&&N.ie){ab.innerHTML=ad.innerHTML
}else{var Z=ad.getElementsByTagName(s)[0];
if(Z){var ae=Z.childNodes;
if(ae){var Y=ae.length;
for(var aa=0;
aa<Y;
aa++){if(!(ae[aa].nodeType==1&&ae[aa].nodeName=="PARAM")&&!(ae[aa].nodeType==8)){ab.appendChild(ae[aa].cloneNode(true))
}}}}}return ab
}function v(aj,ah,Z){var Y,ab=c(Z);
if(N.wk&&N.wk<312){return Y
}if(ab){if(typeof aj.id==E){aj.id=Z
}if(N.ie&&N.win){var ai="";
for(var af in aj){if(aj[af]!=Object.prototype[af]){if(af.toLowerCase()=="data"){ah.movie=aj[af]
}else{if(af.toLowerCase()=="styleclass"){ai+=' class="'+aj[af]+'"'
}else{if(af.toLowerCase()!="classid"){ai+=" "+af+'="'+aj[af]+'"'
}}}}}var ag="";
for(var ae in ah){if(ah[ae]!=Object.prototype[ae]){ag+='<param name="'+ae+'" value="'+ah[ae]+'" />'
}}ab.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ai+">"+ag+"</object>";
O[O.length]=aj.id;
Y=c(aj.id)
}else{var aa=D(s);
aa.setAttribute("type",r);
for(var ad in aj){if(aj[ad]!=Object.prototype[ad]){if(ad.toLowerCase()=="styleclass"){aa.setAttribute("class",aj[ad])
}else{if(ad.toLowerCase()!="classid"){aa.setAttribute(ad,aj[ad])
}}}}for(var ac in ah){if(ah[ac]!=Object.prototype[ac]&&ac.toLowerCase()!="movie"){e(aa,ac,ah[ac])
}}ab.parentNode.replaceChild(aa,ab);
Y=aa
}}return Y
}function e(aa,Y,Z){var ab=D("param");
ab.setAttribute("name",Y);
ab.setAttribute("value",Z);
aa.appendChild(ab)
}function z(Z){var Y=c(Z);
if(Y&&Y.nodeName=="OBJECT"){if(N.ie&&N.win){Y.style.display="none";
(function(){if(Y.readyState==4){b(Z)
}else{setTimeout(arguments.callee,10)
}})()
}else{Y.parentNode.removeChild(Y)
}}}function b(aa){var Z=c(aa);
if(Z){for(var Y in Z){if(typeof Z[Y]=="function"){Z[Y]=null
}}Z.parentNode.removeChild(Z)
}}function c(aa){var Y=null;
try{Y=k.getElementById(aa)
}catch(Z){}return Y
}function D(Y){return k.createElement(Y)
}function j(aa,Y,Z){aa.attachEvent(Y,Z);
J[J.length]=[aa,Y,Z]
}function G(aa){var Z=N.pv,Y=aa.split(".");
Y[0]=parseInt(Y[0],10);
Y[1]=parseInt(Y[1],10)||0;
Y[2]=parseInt(Y[2],10)||0;
return(Z[0]>Y[0]||(Z[0]==Y[0]&&Z[1]>Y[1])||(Z[0]==Y[0]&&Z[1]==Y[1]&&Z[2]>=Y[2]))?true:false
}function w(ad,Z,ae,ac){if(N.ie&&N.mac){return
}var ab=k.getElementsByTagName("head")[0];
if(!ab){return
}var Y=(ae&&typeof ae=="string")?ae:"screen";
if(ac){o=null;
H=null
}if(!o||H!=Y){var aa=D("style");
aa.setAttribute("type","text/css");
aa.setAttribute("media",Y);
o=ab.appendChild(aa);
if(N.ie&&N.win&&typeof k.styleSheets!=E&&k.styleSheets.length>0){o=k.styleSheets[k.styleSheets.length-1]
}H=Y
}if(N.ie&&N.win){if(o&&typeof o.addRule==s){o.addRule(ad,Z)
}}else{if(o&&typeof k.createTextNode!=E){o.appendChild(k.createTextNode(ad+" {"+Z+"}"))
}}}function x(aa,Y){if(!n){return
}var Z=Y?"visible":"hidden";
if(K&&c(aa)){c(aa).style.visibility=Z
}else{w("#"+aa,"visibility:"+Z)
}}function M(Z){var aa=/[\\\"<>\.;]/;
var Y=aa.exec(Z)!=null;
return Y&&typeof encodeURIComponent!=E?encodeURIComponent(Z):Z
}var d=function(){if(N.ie&&N.win){window.attachEvent("onunload",function(){var ad=J.length;
for(var ac=0;
ac<ad;
ac++){J[ac][0].detachEvent(J[ac][1],J[ac][2])
}var aa=O.length;
for(var ab=0;
ab<aa;
ab++){z(O[ab])
}for(var Z in N){N[Z]=null
}N=null;
for(var Y in swfobject){swfobject[Y]=null
}swfobject=null
})
}}();
return{registerObject:function(ac,Y,ab,aa){if(N.w3&&ac&&Y){var Z={};
Z.id=ac;
Z.swfVersion=Y;
Z.expressInstall=ab;
Z.callbackFn=aa;
p[p.length]=Z;
x(ac,false)
}else{if(aa){aa({success:false,id:ac})
}}},getObjectById:function(Y){if(N.w3){return A(Y)
}},embedSWF:function(ac,ai,af,ah,Z,ab,aa,ae,ag,ad){var Y={success:false,id:ai};
if(N.w3&&!(N.wk&&N.wk<312)&&ac&&ai&&af&&ah&&Z){x(ai,false);
L(function(){af+="";
ah+="";
var ak={};
if(ag&&typeof ag===s){for(var am in ag){ak[am]=ag[am]
}}ak.data=ac;
ak.width=af;
ak.height=ah;
var an={};
if(ae&&typeof ae===s){for(var al in ae){an[al]=ae[al]
}}if(aa&&typeof aa===s){for(var aj in aa){if(typeof an.flashvars!=E){an.flashvars+="&"+aj+"="+aa[aj]
}else{an.flashvars=aj+"="+aa[aj]
}}}if(G(Z)){var ao=v(ak,an,ai);
if(ak.id==ai){x(ai,true)
}Y.success=true;
Y.ref=ao
}else{if(ab&&B()){ak.data=ab;
Q(ak,an,ai,ad);
return
}else{x(ai,true)
}}if(ad){ad(Y)
}})
}else{if(ad){ad(Y)
}}},switchOffAutoHideShow:function(){n=false
},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}
},hasFlashPlayerVersion:G,createSWF:function(aa,Z,Y){if(N.w3){return v(aa,Z,Y)
}else{return undefined
}},showExpressInstall:function(aa,ab,Y,Z){if(N.w3&&B()){Q(aa,ab,Y,Z)
}},removeSWF:function(Y){if(N.w3){z(Y)
}},createCSS:function(ab,aa,Z,Y){if(N.w3){w(ab,aa,Z,Y)
}},addDomLoadEvent:L,addLoadEvent:t,getQueryParamValue:function(ab){var aa=k.location.search||k.location.hash;
if(aa){if(/\?/.test(aa)){aa=aa.split("?")[1]
}if(ab==null){return M(aa)
}var Z=aa.split("&");
for(var Y=0;
Y<Z.length;
Y++){if(Z[Y].substring(0,Z[Y].indexOf("="))==ab){return M(Z[Y].substring((Z[Y].indexOf("=")+1)))
}}}return""
},expressInstallCallback:function(){if(a){var Y=c(S);
if(Y&&m){Y.parentNode.replaceChild(m,Y);
if(R){x(R,true);
if(N.ie&&N.win){m.style.display="block"
}}if(F){F(C)
}}a=false
}}}
}();
if(typeof SNI=="undefined"){SNI={}
}if(typeof SNI.Player=="undefined"){SNI.Player={}
}SNI.Player.Settings=SNI.Player.Settings||{snap_swf_url:SNI.Config.snapBinary,flash_express_install_url:"http://common.scrippsnetworks.com/common/flash-express-install/expressInstall.swf",flash_minimum_version:"9",subscriber_authentication_config:"http://common.scrippsnetworks.com/common/snap/configs/mvpdconfig.xml"};
SNI.Player.UserInterfaceConfigs=SNI.Player.UserInterfaceConfigs||{FullSize:{enableSyncAdFix:1,dimensions:{width:"576",height:"636"},flashvars:{config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent",bgcolor:"#ffffff"}},FullSizeNoPlaylist:{enableSyncAdFix:1,dimensions:{width:"576",height:"460"},flashvars:{showCarousel:"false",},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},Blog:{enableSyncAdFix:1,dimensions:{width:"320",height:"263"},flashvars:{showCarousel:"false",config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},BlogNoPlaylist:{enableSyncAdFix:1,dimensions:{width:"320",height:"263"},flashvars:{showCarousel:"false",config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}}};
SNI.Player.getPlayerContainerDivId=function(){return this.container_div_id
};
SNI.Player.getPlayerInstanceId=function(){return this.instance_id
};
SNI.Player.wantsHTML5=function(){function a(d){var c=d.match(/Android\s*(\d\.\d)/);
var b=0;
if(c&&c.length>1){b=c[1]
}return b
}if(!!SNI.Config.DEBUG&&!!SNI.Config.DEBUG.fmt&&!!SNI.Config.snapEnableHTML5){return true
}return(!!SNI.Config.snapEnableHTML5&&(/iphone|ipad|ipod/i.test(window.navigator.platform)||a(window.navigator.userAgent)>=4.1))
};
SNI.Player.loadPlaylist=function(e,d,f){if(e=="undefined"){e=""
}if(d=="undefined"){d=""
}else{d=escape(d)
}if(f=="undefined"){f=""
}var c=this;
var a=c.getPlaylistUrl(e);
function b(k,g,h,l){var j=document.getElementById(c.instance_id);
if(j!="undefined"){j.setPlaylist(k,g,escape(h),l)
}}SNI.Player.doLoadPlaylist=SNI.Player.doLoadPlaylist||b;
SNI.Player.doLoadPlaylist(e,a,d,f)
};
SNI.Player.SNAP=function(c){if(typeof(c)=="undefined"){alert("Error loading video player");
return null
}if(c.container_div_id=="undefined"){alert("Error loading video player");
return null
}else{this.container_div_id=c.container_div_id;
this.instance_id=c.container_div_id+"-instance"
}if(c.ui_config=="undefined"){alert("Error loading video player configuration");
return null
}else{this.ui_config=c.ui_config
}if(typeof(c.fcn_build_playlist_url)=="undefined"||c.fcn_build_playlist_url==""){this.getPlaylistUrl=SNI.Player.getPlaylistUrl
}else{this.getPlaylistUrl=c.fcn_build_playlist_url
}this.loadPlaylist=SNI.Player.loadPlaylist;
this.channel_id=SNI.Player.getUrlParam("channelId")||c.channel_id;
if(typeof this.channel_id=="undefined"){alert("No playlist specified.");
return null
}else{SNI.Player.channelId=this.channel_id;
this.channel_url=this.getPlaylistUrl(this.channel_id);
SNI.Player.channelUrl=this.channel_url
}this.video_id=SNI.Player.getUrlParam("videoId")||c.video_id;
this.play=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.playerPlay){alert("play() not yet implemented");
return
}e.playerPlay()
}};
this.pause=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.playerPause){alert("pause() not yet implemented");
return
}e.playerPause()
}};
this.seek=function(f,e){if(f=="undefined"){f=0
}if(e=="undefined"){e=0
}var g=document.getElementById(this.instance_id);
if(g!="undefined"){if(!g.playerSeek){alert("seek() not yet implemented");
return
}g.playerSeek((f*60)+e)
}};
this.nextVideo=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.nextVideo){alert("nextVideo() not yet implemented");
return
}e.nextVideo()
}};
this.prevVideo=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.prevVideo){alert("prevVideo() not yet implemented");
return
}e.prevVideo()
}};
this.mute=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.mute){alert("mute() not yet implemented");
return
}e.mute()
}};
this.unmute=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.unmute){alert("unmute() not yet implemented");
return
}e.unmute()
}};
this.setPlaylistChannel=function(f,e){if(f=="undefined"){f=""
}if(e=="undefined"){e=""
}var g=document.getElementById(this.instance_id);
if(g!="undefined"){g.setPlaylistChannel(f,e)
}};
this.setPlaylistTitle=function(e){if(e=="undefined"){e=""
}var f=document.getElementById(this.instance_id);
if(f!="undefined"){f.setPlaylistTitle(e)
}};
this.setPlaylistVideo=function(f){if(f=="undefined"){f=""
}var e=document.getElementById(this.instance_id);
if(e!="undefined"){e.setPlaylistVideo(f)
}};
this.fullScreen=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.fullScreen){alert("fullScreen() not yet implemented");
return
}e.fullScreen()
}};
this.showMenu=function(e){if(e=="undefined"){e=""
}var f=document.getElementById(this.instance_id);
if(f!="undefined"){if(!f.showMenu){alert("showMenu() not yet implemented");
return
}f.showMenu(e)
}};
if(typeof(mdManager)!="undefined"){if(!mdManager.getParameter("VideoPlayer")){if(SNI.Player.wantsHTML5()){mdManager.addParameter("VideoPlayer","SNAPHTML5")
}else{mdManager.addParameter("VideoPlayer","SNAP")
}}}var b={id:this.instance_id,name:this.instance_id+" Player"};
var a=this.ui_config.flashvars;
a.minimumFlashVersion=a.minimumFlashVersion||SNI.Player.Settings.flash_minimum_version;
a.channel=this.channel_id,a.channelurl=this.channel_url,a.videoId=this.video_id,a.snapDivId=this.container_div_id;
if(typeof(c.playlist_title)!="undefined"){a.playlistTitle=escape(c.playlist_title)
}if(typeof(c.fcn_callback_system)!="undefined"){a.systemEventHandler=c.fcn_callback_system
}else{if(this.ui_config.enableSyncAdFix!="undefined"&&this.ui_config.enableSyncAdFix){a.systemEventHandler="SNI.Player.sysCbk"
}}if(typeof(c.fcn_callback_user)!="undefined"){a.userEventHandler=c.fcn_callback_user
}if(a.enableSubscriberAuth){a.autoPlay="false";
a.playerSWF=SNI.Player.Settings.snap_swf_url;
a.subscriberId="SNI";
a.subscriberResourceId="CookingChannel";
a.subscriberProvidersSWF="http://cooktv.sndimg.com/common/snap/snap-saproviders-1.1.5.swf";
SNI.Player.Settings.snap_swf_url="http://cooktv.sndimg.com/common/snap/snap-sawrapper-1.1.5.swf";
a.mvpdConfig=a.mvpdConfig||SNI.Player.Settings.subscriber_authentication_config;
a.mvpdLogoConfig="";
a.selectedProviderCallback="handleSelectedProvider";
a.convivaServiceURL="http://livepass.conviva.com";
a.convivaCustomerId="c3.ScrippsNetwork-Test"
}a.minimumFlashVersion=a.minimumFlashVersion||SNI.Player.Settings.flash_minimum_version;
if(mdManager.getParameter("VideoPlayer")==="SNAP"){swfobject.embedSWF(SNI.Player.Settings.snap_swf_url,this.container_div_id,this.ui_config.dimensions.width,this.ui_config.dimensions.height,a.minimumFlashVersion,SNI.Player.Settings.flash_express_install_url,a,this.ui_config.params,b)
}else{if(mdManager.getParameter("VideoPlayer")==="SNAPHTML5"){this.ui_config.alternativeContent="<p>The video player is starting up...</p>";
SNI.Player.SNAPHTML5.init({cfgArgs:a,dimensions:this.ui_config.dimensions,enableSyncAdFix:this.ui_config.enableSyncAdFix})
}}var d=document.getElementById(this.container_div_id);
if($(d).contents().length==0){$(d).html(this.ui_config.alternativeContent||'<p>Can\'t see the video?<br /><a href="http://www.adobe.com/go/getflashplayer"><img src="http://www.adobe.com/macromedia/style_guide/images/160x41_Get_Flash_Player.jpg" alt="Get Adobe Flash Player" width="160" height="41" /></a>')
}};
SNI.Player.getPlaylistUrl=function(b){var a=SNI.Config.domain;
if(window.location.hostname.search(/^(author|publish)/)>-1){a=window.location.host
}return"http://"+a+SNI.Config.snapPlayListUrl+b+".xml"
};
SNI.Player.getUrlParam=function(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var a="[\\?&]"+d+"=([^&#]*)";
var c=new RegExp(a);
var b=c.exec(window.location.href);
if(b==null){return""
}else{return b[1]
}};
SNI.Player.sysCbkInternal=function(a,b){var b=SNI.Util.ckParseJSON(b);
if(a=="playerReady"){if((b.isAutoPlay==="false"||b.hasPreroll==="false")&&(typeof setDefaultBigboxAd=="function")){setDefaultBigboxAd()
}}};
SNI.Player.sysCbk=function(a,b){SNI.Player.sysCbkInternal(a,b)
},SNI.Player.Observables={videoSelected:$.PubSub("videoSelected"),videoPlayed:$.PubSub("videoPlayed"),videoPaused:$.PubSub("videoPaused"),videoEnded:$.PubSub("videoEnded"),videoResumed:$.PubSub("videoResumed")};
SNI.Player.UIcbkInternal=function(a,b){var b=SNI.Util.ckParseJSON(b);
if(a==="playerReady"||(a==="itemBegin"&&b.itemType==="content")&&(SNI.Player.videoId!=b.videoId)){SNI.Player.videoId=b.videoId;
SNI.Player.Observables.videoSelected.publish(b.videoId)
}if(a==="itemBegin"&&b.itemType==="content"){SNI.Player.Observables.videoPlayed.publish(b.videoId)
}if(a=="itemPause"){SNI.Player.Observables.videoPaused.publish(b.videoId)
}if(a=="itemEnd"&&b.itemType==="content"){SNI.Player.Observables.videoEnded.publish(b.videoId)
}return
};
SNI.Player.UIcbk=function(a,b){SNI.Player.UIcbkInternal(a,b)
},SNI.Player.FullSize=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.FullSize),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.FullSizeNoPlaylist=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.FullSizeNoPlaylist),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.RightRail=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.RightRail),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.RightRailNoPlaylist=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.RightRailNoPlaylist),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.Blog=function(a,b,c,e,d){getPlaylistUrlForBlogs=function(f){return SNI.Config.snapPlayListUrl+"/channel/xml/0,,"+f+",00.xml"
};
return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.FullSizeNoPlaylist),channel_id:b,video_id:c,fcn_callback_user:getPlaylistUrlForBlogs})
};
SNI.Player.doWithVideoData=(function(){var e,c;
var a={};
var b={};
return function(g){function h(l){SNI.Player.playlistDta=l;
if(!$.isArray(SNI.Player.playlistDta.video)){SNI.Player.playlistDta.video=[SNI.Player.playlistDta.video]
}for(var k=0;
k<SNI.Player.playlistDta.video.length;
++k){a[SNI.Player.playlistDta.video[k].videoId]=k
}}function d(l){var k=a[l]||0;
var m=SNI.Player.playlistDta.video[k];
return{clipName:m.clipName,length_hms:SNI.Util.hhmmssClean(m.length),"abstract":m["abstract"],relatedTitle:m.relatedTitle,relatedUrl:m.relatedUrl}
}if(typeof e==="undefined"){var f=SNI.Player.channelUrl||g.channelUrl;
e=$.Deferred(function(){var l=this;
var k=$.get(f);
k.done(function(m){if($.isXMLDoc(m)){e.resolve($.xml2json(m))
}});
k.fail(function(o,m,n){e.reject("Unable to load playlist XML.")
})
});
var j=setTimeout(function(){e.reject("timeout")
},4*1000);
e.always(function(){clearTimeout(j)
});
e.done(function(k){h(k)
});
c=e.promise()
}c.done(function(){var k,n=null;
if(typeof g==="object"){k=g.eventType;
n=g.fn
}else{n=g
}if(k&&(k==="videoEnded")){var m=SNI.Player.playlistDta.video;
var l=$.grep(m,function(o,p){if(p>0&&(m[p-1].videoId===SNI.Player.videoId)){return true
}});
n(d(l.length>0?l[0].videoId:SNI.Player.videoId))
}else{if(k&&(k==="playerInit")){n(SNI.Player.playlistDta)
}else{n(d(SNI.Player.videoId))
}}})
}
})();
SNI.Player.PlaylistFactory=function(a){var b=new (function(){this.channelDta={};
this.vidhash={};
this.setChannelDta=function(d){$.extend(this.channelDta,d);
this.channelDta.video.forEach(function(f,g,e){e[g]["length_hms"]=SNI.Util.hhmmssClean(f.length)
});
for(var c=0;
c<this.channelDta.video.length;
++c){this.vidhash[this.channelDta.video[c].videoId]=c
}};
this.getChannelDta=function(){return this.channelDta
};
this.getDtaForVidByVidId=function(d){var c=this.vidhash[d]||0;
return this.getDtaForVidByIdx(c)
};
this.getDtaForVidByIdx=function(c){var d=this.channelDta.video[c];
return{clipName:d.clipName,length_hms:d.length_hms,"abstract":d["abstract"],relatedTitle:d.relatedTitle,relatedUrl:d.relatedUrl}
}
})();
b.setChannelDta(a);
return b
};
if(typeof SNI.Player=="undefined"){SNI.Player={}
}SNI.Player.SNAPHTML5=(function(a){return new function(){var b=this;
b.state={curVidIdx:0,playcount:0,embed:false,playbackQ:[]};
b.data={};
b.data.eff={cfgArgs:{},config:{},styles:{},Omniture:{},channel:{}};
b.data.extrn={};
b.data.defa={config:{enableSubscriberAuth:false,enableHomePageMode:false,playerSize:"",showCarousel:true,fullscreen:true,autoPlay:false,overrideAutoplay:false,enableRepeateMode:true,enableNextVideoOverlay:true,enableRelatedInfoIcon:true,enableStaticOverlayPlayIcon:true,enableNowPlayingOverlay:true,omnitureConfig:"",omnitureVersion:"default",shuffle:false,showPlaylistTitle:true,showAds:true,enableShare:true,enableEmail:true,enableRelatedMenu:true,showMenuButton:true,enableInteractiveMenu:false,enableAutoOpenInteractiveSteps:false,interactiveDataURL:"data/",showEmbedMenu:true,moreVideoURL:"http://www.foodnetwork.com/video-library/index.html",relatedOverlayDelay:"2",relatedOverlayInitialOpenTime:"4",enableEndFrame:false,endFrameText:"",endFrameURL:"",vendorsURL:"",jsSurveyHandler:"",convivaServiceURL:"",convivaCustomerId:"",email:{server:"http://www.foodnetwork.com/app/emailservice/sendEmail.html",params:{senderEmail:"from_email",senderName:"from_name",recipient:"to_emails",subject:"subject",message:"body",securityToken:"security_token"},paramValues:{securityToken:"68-91-143-161-245-213-218-70-154-90-195-249-151-254-139-24-214-245-53-141-94-96-245-11",senderEmail:"donotreply@foodnetwork.com"},texts:{subject:"$$SENDER_NAME$$ has sent you a FoodNetwork.com video",message:"$$SENDER_NAME$$ thought you might enjoy this FoodNetwork.com video:\n$$VIDEO_TITLE$$\n$$VIDEO_URL$$.\n\n$$COMMENTS$$\nView more FoodNetwork.com videos at http://www.foodnetwork.com/video-library/",comments:"Comments from $$SENDER_NAME$$:\n$$USER_MESSAGE$$"}}},styles:{config:{textButton:{bg:{normal:"",hover:"",press:"",disabled:""},textColors:{normal:"#81092C",hover:"#FF0012",press:"#FF0012",disabled:"#999999"}},playlistCarousel:{rightArrow:{normal:"",hover:"",press:"",disabled:""},leftArrow:{normal:"",hover:"",press:"",disabled:""},isBackground:false,bgURL:"",thumbnailBorder:"small",textColors:{normal:"#006699",hover:"#990000",selected:"#999999",secondary:"#CCCCCC"},borderColors:{normal:"#999999",hover:"#990000",selected:"#FFD65D"},paginationIcon:{normal:"",selected:""},paginationText:{color:"#000000",size:"11",font:"Trebuchet"},playlistTitle:{color:"#000000",font:"Trebuchet",size:"14"}},controlButtons:{buttonColors:{normal:"#454545",hover:"#b50938",press:"#6B0521",disabled:"#CCCCCC"}},overlayMenu:{textColors:{title:"#B50938",secondary:"#666666",body:"#FFFFFF"}},recallButton:{normal:"",hover:"",press:""},closeButton:{normal:"",hover:"",press:""},endFrameTextColor:"#53A8D5",endFrameHoverColor:"#53A8D5"}},Omniture:{accountName:"scrippsfoodnetnew",trackingServer:"sa.foodnetwork.com",vars:{variable:[{name:"Channel","default":""},{name:"Brand","default":"scrippsfoodnetnew"},{name:"PlayerName","default":"SNAP"},{name:"SiteID","default":"FOODNETWORK"},{name:"SlotNumber","default":""},{name:"OriginalSite","default":""},{name:"VideoTitle","default":""},{name:"PlayType","default":""},{name:"LCStation","default":""},{name:"DARTStation","default":""},{name:"PlayerAction","default":"PUP Video Play"},{name:"AssetID","default":""},{name:"VideoSearchKeyword","default":""},{name:"VideoScreenType","default":""},{name:"Sponsor","default":""},{name:"ShowName","default":""},{name:"MVPDId","default":""},{name:"Duration","default":""}]},formats:{customVars:{props:{prop:[{number:"4",value:"$PlayerAction$"},{number:"37",value:"$VideoTitle$"},{number:"38",value:"$VideoTitle$"}]},eVars:{eVar:[{number:"21",value:"$PlayerAction$"},{number:"22",value:"$VideoTitle$"},{number:"23",value:"$ShowName$"},{number:"24",value:"$PlayerName$"},{number:"25",value:"$Channel$"},{number:"26",value:"$MVPDId$"},{number:"27",value:"$OriginalSite$"},{number:"28",value:"$PlayType$"},{number:"29",value:"$DARTStation$"},{number:"30",value:"$AssetID$"},{number:"33",value:"$Duration$"},{number:"34",value:"$VideoScreenType$"},{number:"35",value:"$Sponsor$"},{number:"39",value:"$PlayerAction$"}]},hiers:{hier:[{number:"1",value:"$Brand$|$PlayerName$|$Channel$|$VideoTitle$"}]}}},events:{event:[{number:"2",name:"VideoAdStart"},{number:"3",name:"VideoAdStart2"},{number:"4",name:"VideoAdComplete"},{number:"5",name:"VideoContentStart"},{number:"6",name:"VideoContent10%"},{number:"7",name:"VideoContent50%"},{number:"8",name:"VideoContent90%"},{number:"9",name:"VideoContent100%"},{number:"51",name:"VideoNotFound"},{number:"63",name:"VideoPause"},{number:"64",name:"VideoResume"},{number:"65",name:"VideoMenuOpen"},{number:"66",name:"VideoFullScreenOpen"}]}},ads:{}};
b.Util={cleanStrForAdParam:function(c){return c.replace(/[^a-zA-Z0-9]/g,"_")
},sss2mmmdec:function(c){return Math.round(100*c/60,0).toString().replace(/(\d*)(\d\d)$/,"$1_$2")
},hhmmss2sss:function(d){var c=0;
a.each(d.split(":"),function(f,e){c*=60;
c+=+e
});
return c
},boolify:function(c){if(typeof c==="object"){a.each(Object.getOwnPropertyNames(c),function(e,d){if(typeof c[d]==="string"){if(c[d].toLowerCase()=="true"){c[d]=true
}else{if(c[d].toLowerCase()=="false"){c[d]=false
}}}})
}return
},getCORSProxyURL:function(c){return c
},fixStrForXML:function(c){c=a.trim(c);
if(/up:channel/.test(c)){if(c.search(/<title>\s*<!\[CDATA\[.*\]\]>\s*<\/title>/)==-1){c=c.replace(/<title>(.+?)<\/title>/,"<title><![CDATA[$1]]></title>")
}if(c.search(/<psaPlayerTitle>\s*<!\[CDATA\[.*\]\]>\s*<\/psaPlayerTitle>/)==-1){c=c.replace(/<psaPlayerTitle>(.+?)<\/psaPlayerTitle>/,"<psaPlayerTitle><![CDATA[$1]]></psaPlayerTitle>")
}}return c
},parseXML:function(f){var c="";
try{if(window.DOMParser){parser=new DOMParser();
c=parser.parseFromString(f,"text/xml")
}else{if(window.ActiveXObject){c=new ActiveXObject("Microsoft.XMLDOM");
c.loadXML(f)
}}}catch(d){}return c
},deviceAutoPlay:function(){return !/iphone|ipad|ipod/i.test(window.navigator.userAgent)
},getAdDescriptorURL:function(){var c="";
if(typeof getDartEnterpriseUrl==="function"){c=getDartEnterpriseUrl("VIDEO_XML_DESCRIPTOR",1)
}if(c.length==0){c="http://adsremote.scrippsnetworks.com/html.ng/site=FOOD&adtype=VIDEO_XML_DESCRIPTOR&Pagepos=1"
}var d="";
if(b.state.embed){d="&embed=true"
}return[c,"&","channelid=",b.state.channelId,"&","duration=",b.Util.sss2mmmdec(b.data.eff.channel.video[0].length_sss),"&","snapDivId=",b.state.containerID,"&","psaPlayerId=",b.data.eff.channel.playerId,"&","psaPlayerTitle=",b.Util.cleanStrForAdParam(b.data.eff.channel.psaPlayerTitle),"&","playertype=",b.state.playertype,"&","domain=",escape(window.location.href.toString()),"&","playerSize=",b.state.playerSize,"&","playerWidth=",b.state.dimensions.width,"&","rand=",(new Date()).valueOf().toString(),d].join("")
},getAdURLbyType:function(e){if(!!SNI.Config.DEBUG&&!!SNI.Config.DEBUG.cannedAds){return"/sites/sandbox/video/content/ads/cc_VAST_tmp.xml"
}var c="";
if(typeof getDartEnterpriseUrl==="function"){c=getDartEnterpriseUrl(e,1)
}if(c.length==0){c="http://adsremote.scrippsnetworks.com/html.ng/site=FOOD&adtype="+e+" &Pagepos=1"
}var d="";
if(b.state.embed){d="&embed=true"
}return[c,"&","playcount=",b.state.playcount,"&","playertype=",b.state.playertype,"&","title=",b.Util.cleanStrForAdParam(b.data.eff.channel.video[b.state.curVidIdx].clipName),"&","channelid=",b.state.channelId,"&","videoid=",b.data.eff.channel.video[b.state.curVidIdx].videoId,"&","psaPlayerId=",b.data.eff.channel.playerId,"&","psaPlayerTitle=",b.Util.cleanStrForAdParam(b.data.eff.channel.psaPlayerTitle),"&","snapDivId=",b.state.containerID,"&","domain=",escape(window.location.href.toString()),"&","duration=",b.data.eff.channel.video[b.state.curVidIdx].length_sss,"&","playerSize=",b.state.playerSize,"&","playerWidth=",b.state.dimensions.width,"&","rand=",(new Date()).valueOf().toString(),d].join("")
},getHLSvidURL:function(c){return"http://sni-i.akamaihd.net/i/"+c.substr(0,4)+"/"+c+"_,1,2,3,4,5,.mp4.csmil/master.m3u8"
},getVideoUrlForDevice:function(c){var d=c.videoUrl;
if(SNI.Player.wantsHTML5()){d=b.Util.getHLSvidURL(c.assetId)
}else{if(!!SNI.Config.DEBUG){SNI.Config.DEBUG.fmt=SNI.Config.DEBUG.fmt||"";
if(SNI.Config.DEBUG.fmt==="prog"){if(/safari/i.test(window.navigator.userAgent.toString().toLowerCase())){d=window.location.protocol+"//"+window.location.host+location.pathname.match(/(.*?)[^\/]*$/)[1]+"assets/static/"+c.videoId+".mp4"
}else{if(/firefox/i.test(window.navigator.userAgent.toString().toLowerCase())){d=window.location.protocol+"//"+window.location.host+location.pathname.match(/(.*?)[^\/]*$/)[1]+"assets/static/"+c.videoId+".ogg"
}}}else{if(SNI.Config.DEBUG.fmt==="allHLS"){d=b.Util.getHLSvidURL(c.assetId)
}}}}return d
},parseXMLtoObj:function(e,f,c){if(!a.isXMLDoc(e)){}else{var d=e.documentElement.localName;
console.log("parseXMLtoObj: "+d);
if(typeof f[d]!="object"){f[d]={}
}a.extend(f[d],a.xml2json(e));
if(typeof c=="function"){c()
}return
}},loadXML:function(c){function d(f,e){if(e==="success"){try{b.Util.parseXMLtoObj(a.parseXML(b.Util.fixStrForXML(f.responseText)),c.tgt||b,c.postProc)
}finally{a(b).trigger(c.ctrlID);
return
}}}a.ajax({url:c.url,dataType:"text",complete:d});
return
},pixelBeacon:function(c){c.forEach(function(d){(new Image()).src=d
});
return
},getVidImageForHeight:function(d,f,c){if(typeof f!="number"){f=500
}if(typeof c!="string"){c=""
}var g=[[92,69],[120,90],[160,120],[266,200],[400,300],[480,360],[616,462]];
var e=0;
while(!!g[e+1]&&g[e][1]<f){++e
}return c+"/up/images/"+d.substr(0,4)+"/"+d+"_"+g[e][0]+"x"+g[e][1]+".jpg"
},getVideoMissingHTML:function(){return'<div><p>Oops!  We\'re sorry, but this video is not available for your location or device.  Select <a href="/food-network-top-food-videos/videos/index.html">here</a> to browse our top videos.</p></div>'
},getLoadingHTML:function(){return'<div><p>Your video is loading.</p><span class="prog"></span></div><script>(function(O){O.Util.progressBar(O.VPlayer.UI.jVidWrap.find(".vid-over div span.prog"));})(SNI.Player.SNAPHTML5);<\/script>'
},getEndframeHTML:function(){return'<div><p>Select <a href="#" class="r">here</a> to restart this playlist</p><p>or <a href="/food-network-top-food-videos/videos/index.html">here</a> to browse our top videos.</p></div><script>(function(O){O.VPlayer.UI.jVidWrap.find(".vid-over div a.r").bind(O.Util.getUIselectEvent(), function() { O.state.curVidIdx= 0; O.VPlayer.Playlist.readyToPlayVid(); return false;}).click(function(){return false;})})(SNI.Player.SNAPHTML5);<\/script>'
},getUIselectEvent:function(c){if(typeof c==="undefined"){c=""
}else{c="."+c
}return(("ontouchend" in document?"touchend":"mouseup")+c)
},progressBar:function(c){a(c).bind("transitionend webkitTransitionEnd oTransitionEnd",function(d){a(d.target).toggleClass("on")
});
setTimeout(function(){a(c).addClass("on")
},500)
}};
b.StartUp={Tasks:{prepCfgArgsState:function(c){b.data.extrn.cfgArgs=c.cfgArgs;
a.extend(b.data.eff.cfgArgs,b.data.extrn.cfgArgs);
b.state.channelId=b.data.eff.cfgArgs.channel;
delete b.data.eff.cfgArgs.channel;
b.state.channelUrl=b.data.eff.cfgArgs.channelurl;
delete b.data.eff.cfgArgs.channelurl;
b.state.configFiles=b.data.eff.cfgArgs.config.split(",");
delete b.data.eff.cfgArgs.config;
b.state.containerID=b.data.eff.cfgArgs.snapDivId;
delete b.data.eff.cfgArgs.snapDivId;
b.state.playerSize=b.data.eff.cfgArgs.playerSize;
delete b.data.eff.cfgArgs.playerSize;
b.state.playertype=mdManager.getParameter("VideoPlayer");
b.state.dimensions=c.dimensions;
b.state.enableSyncAdFix=c.enableSyncAdFix;
b.state.videoId=b.data.eff.cfgArgs.videoId;
delete b.data.eff.cfgArgs.videoId;
delete b.data.eff.cfgArgs.minimumFlashVersion;
b.Util.boolify(b.data.eff.cfgArgs);
return
},prepPlaylist:function(){b.data.eff.channel={};
a.extend(true,b.data.eff.channel,b.data.extrn.channel);
if(!a.isArray(b.data.eff.channel.video)){b.data.eff.channel.video=[b.data.eff.channel.video]
}a.each(b.data.eff.channel.video,function(d,c){c.length_sss=b.Util.hhmmss2sss(c.length);
c.length_hms=SNI.Util.hhmmssClean(c.length);
c.cmpnRunTimes_sss=[];
if(typeof c.cmpnRunTimes!="undefined"){a.each(c.cmpnRunTimes.split(","),function(e,f){c.cmpnRunTimes_sss.push(b.Util.hhmmss2sss(f))
})
}c.videoUrl_eff=b.Util.getVideoUrlForDevice(c)
});
return
},loadPlaylist:function(){console.log(">> loading Playlist");
b.Util.loadXML({url:b.Util.getCORSProxyURL(b.state.channelUrl),tgt:b.data.extrn,postProc:this.prepPlaylist,ctrlID:"playlistLoaded"});
return
},prepConfig:function(){console.log("prepConfig");
a.extend(b.data.eff.config,b.data.defa.config,b.data.extrn.config);
b.Util.boolify(b.data.eff.config);
a.extend(b.data.eff.config,b.data.eff.cfgArgs);
return
},loadConfig:function(){console.log(">> loading Config");
b.Util.loadXML({url:b.state.configGenl,tgt:b.data.extrn,postProc:this.prepConfig,ctrlID:"configLoaded"});
return
},prepStyles:function(){console.log("prepConfig");
a.extend(b.data.eff.styles,b.data.defa.styles,b.data.extrn.styles);
return
},loadStyles:function(){console.log(">> loading Styles");
b.data.extrn.styles={};
b.Util.loadXML({url:b.state.configStyles,tgt:b.data.extrn.styles,postProc:this.prepStyles,ctrlID:"stylesLoaded"});
return
},loadOmniture:function(){console.log(">> loading Omniture");
if(typeof b.data.extrn.Omniture=="undefined"&&typeof b.data.extrn.config.omnitureConfig=="string"&&b.data.extrn.config.omnitureConfig.length>0){b.Util.loadXML({url:b.data.extrn.config.omnitureConfig,tgt:b.data.extrn,postProc:null,ctrlID:"omnitureLoaded"})
}return
},procAdDesc:function(){var d=b.data.eff.ads={};
var e=b.data.extrn.ads.video_descriptor;
b.Util.boolify(e.autoplay);
if(b.data.eff.config.overrideAutoplay&&(typeof e.autoplay.value==="boolean")){b.data.eff.config.autoPlay=e.autoplay.value
}e=e.ads.ad;
if(!a.isArray(e)){e=[e]
}for(var c=0;
c<e.length;
c++){if(e[c].template.toLowerCase()=="preroll"){d.preroll=true
}else{if(e[c].template.toLowerCase()=="overlay"){d.overlay={}
}else{if(e[c].template.toLowerCase()=="midroll"){}else{if(e[c].template.toLowerCase()=="postroll"){}}}}}return
},loadAdDesc:function(){console.log(">> loading Ad Desc");
b.data.extrn.ads={};
if(b.data.eff.config.showAds){b.Util.loadXML({url:b.Util.getAdDescriptorURL(),tgt:b.data.extrn.ads,postProc:this.procAdDesc,ctrlID:"adDescLoaded"})
}else{a(b).trigger("adDescLoaded")
}return
}},Controller:{init:function(){var e=[];
var c=["initialLoad","playlistLoaded","configLoaded","stylesLoaded","omnitureLoaded","adDescLoaded"];
var l=["playlistLoaded","adDescLoaded"];
var k=c;
function d(y,x){var A=[];
if(typeof y==="string"){A.push(y)
}else{if(a.isArray(y)){A=y
}else{return false
}}var z=true;
a.each(A,function(C,B){z=z&&(e.indexOf(B)>-1)
});
if(z){x()
}}function q(){console.log("attaching events");
a(b).bind({initialLoad:n,doLoadPlaylist:f,doLoadConfig:v,doLoadStyles:h,doLoadOmniture:r,doLoadAdDesc:m,playlistLoaded:g,configLoaded:o,stylesLoaded:u,omnitureLoaded:p,adDescLoaded:j,allInitLoaded:t,adLoaded:w,loadNewPlaylist:s});
return
}function n(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
a(b).trigger("doLoadPlaylist");
a(b).trigger("doLoadConfig");
a(b).trigger("doLoadStyles");
return
}function s(x){e=["initialLoad","configLoaded","stylesLoaded","omnitureLoaded"];
k=l;
a(b).trigger("doLoadPlaylist");
return
}function f(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadPlaylist();
return
}function v(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadConfig();
return
}function h(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadStyles();
return
}function r(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadOmniture();
return
}function m(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadAdDesc();
return
}function g(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
d("configLoaded",function(){a(b).trigger("doLoadAdDesc")
});
d(k,function(){b.initPlay()
});
return
}function o(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
a(b).trigger("doLoadOmniture");
d("playlistLoaded",function(){a(b).trigger("doLoadAdDesc")
});
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function u(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function p(x){console.log("C>>  "+x.type);
e.push(x.type);
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function j(x){console.log("C>>  "+x.type);
e.push(x.type);
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function t(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.initPlay();
return true
}function w(x){b.Ads.runAd();
return
}console.log("initializing events");
q();
return
}}};
b.VPlayer=(function(){return{UI:{itmsPerPanel:4},Playlist:{init:function(){bReload=(typeof b.VPlayer.UI.jPlayerWrap==="object");
if(!bReload){b.VPlayer.UI.jOuterWrap=a("#"+b.state.containerID);
b.VPlayer.UI.jOuterWrap.attr("id",b.state.containerID+"-instance").attr("class",b.state.playerSize.toLowerCase());
b.VPlayer.UI.jOuterWrap.empty().append('<div class="vid-html"></div>');
b.VPlayer.UI.jPlayerWrap=b.VPlayer.UI.jOuterWrap.find(".vid-html")
}if(b.data.eff.config.showCarousel){if(bReload){b.VPlayer.UI.jChNav.remove()
}b.VPlayer.Playlist.fmtCarousel();
b.VPlayer.Playlist.initPlaylistController()
}if(!bReload){b.VPlayer.VidElt.init()
}b.VPlayer.Playlist.findSelectedVid();
b.VPlayer.Playlist.readyToPlayVid(true);
return
},fmtCarousel:function(){var f=this;
var e=function(){var k=b.VPlayer.UI.itmsPerPanel;
var j=0;
var h=b.data.eff.channel.video.length;
var g=function(){return function(n,o){return o(++j%k==1?'<div class="item">':"")
}
};
var m=function(){return function(n,o){return o((j%k==0)||(j==h)?"</div>":"")
}
};
var l=function(){return function(n,o){return o(""+(j-1))
}
};
return{itmOpen:g,itmClose:m,itmIdx:l}
}();
var c=['<div class="tab-pane fade in active" id="tab1">','<div class="crsl vert" id="carousel-mixed-content-promo" data-nav="indices" data-scale="false">',"{{#video}}","{{#itmOpen}}{{/itmOpen}}",'<div class="group" data-vid="{{videoId}}" data-idx="{{#itmIdx}}{{/itmIdx}}">','<a href="#" class="ico-wrap label-wrap">','<div class="pillarbox">','<div class="lazy-img" width="96" height="71">{{thumbnailUrl}}</div>','<span class="ico"><i class="ss-play"></i></span>','<span class="caret"></span>',"</div>","<span><h6>{{clipName}}</h6>{{#length_hms}}<cite>&nbsp;({{length_hms}})</cite>{{/length_hms}}</span>","</a>","</div>","{{#itmClose}}{{/itmClose}}","{{/video}}","</div>","</div>"].join("");
var d=Mustache.render(c,a.extend({},b.data.eff.channel,e));
b.VPlayer.UI.jOuterWrap.append(d);
b.VPlayer.UI.jChNav=a("#ch-nav");
b.VPlayer.UI.jCrsl=b.VPlayer.UI.jOuterWrap.find(".crsl");
SNI.Food.Carousel({wrapper:b.VPlayer.UI.jCrsl,controlNavigation:b.VPlayer.UI.jCrsl.data("nav"),variation:b.VPlayer.UI.jCrsl.data("variation"),allowCSS3:(a.browser.msie&&a.browser.version==10)?false:true});
b.VPlayer.UI.RS=b.VPlayer.UI.jCrsl.data("royalSlider");
b.VPlayer.UI.jCrsl.addClass("carousel-show");
return
},updtCrslUI:function(){b.VPlayer.UI.RS.slidesJQ.forEach(function(d,e,c){d.find(".group.sel").removeClass("sel")
});
b.VPlayer.UI.jCrsl.find(".group").eq(b.state.curVidIdx%b.VPlayer.UI.itmsPerPanel).addClass("sel")
},updtCrslForIdx:function(d){var c=Math.floor(d/b.VPlayer.UI.itmsPerPanel);
if(b.VPlayer.UI.RS.currSlideId!=c){b.VPlayer.UI.RS.goTo(c);
b.VPlayer.UI.RS.slides[c].holder.one("rsAfterContentSet",b.VPlayer.Playlist.updtCrslUI)
}else{if(b.VPlayer.UI.jCrsl.find(".group").length==0){b.VPlayer.UI.RS.slides[c].holder.one("rsAfterContentSet",b.VPlayer.Playlist.updtCrslUI)
}else{b.VPlayer.Playlist.updtCrslUI()
}}},initPlaylistController:function(){function c(e){var d=a(e.currentTarget);
if(!d.hasClass("sel")){b.state.curVidIdx=d.attr("data-idx");
b.VPlayer.Playlist.readyToPlayVid()
}e.preventDefault()
}b.VPlayer.UI.jCrsl.on("click",".group",c)
},playNext:function(){if(b.state.curVidIdx<b.data.eff.channel.video.length-1){++b.state.curVidIdx;
b.VPlayer.Playlist.readyToPlayVid()
}else{b.VPlayer.UI.jVidElt.one("canplay",function(){b.VPlayer.VidElt.removeOverlay()
});
if(b.VPlayer.UI.dVidElt.webkitDisplayingFullscreen){b.VPlayer.UI.dVidElt.webkitExitFullscreen()
}b.VPlayer.VidElt.showOverlay(b.Util.getEndframeHTML(),"endframe")
}return
},playVideoByIdx:function(c){b.state.mode="content";
b.VPlayer.UI.jVidElt.trigger("playVideoByUrlSNI",{url:b.data.eff.channel.video[b.state.curVidIdx].videoUrl_eff,mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
},findSelectedVid:function(){if(b.state.videoId){a.each(b.data.eff.channel.video,function(d,c){if(c.videoId==b.state.videoId){b.state.curVidIdx=d;
return false
}})
}return
},readyToPlayVid:function(c){if(b.data.eff.config.showCarousel){b.VPlayer.Playlist.updtCrslForIdx(b.state.curVidIdx)
}b.Analytics.prepVideo();
b.state.playbackQ=[b.VPlayer.Playlist.playNext];
if(!b.data.eff.config.autoPlay||!b.Util.deviceAutoPlay()){b.VPlayer.VidElt.setPosterForVideo()
}if(c&&!b.data.eff.config.autoPlay&&b.Util.deviceAutoPlay()){b.VPlayer.UI.jVidElt.one("play.start",b.VPlayer.Playlist.playVid)
}if(!!b.state.enableSyncAdFix&&(!b.data.eff.config.autoPlay||!b.data.eff.ads.preroll||!b.Util.deviceAutoPlay())&&(typeof setDefaultBigboxAd==="function")){setDefaultBigboxAd();
b.state.enableSyncAdFix=false
}if(!c||b.data.eff.config.autoPlay||!b.Util.deviceAutoPlay()){b.VPlayer.UI.jVidElt.unbind("play.start");
b.VPlayer.Playlist.playVid()
}return
},playVid:function(){b.state.playcount++;
var c=(function(d){return function(){b.VPlayer.Playlist.playVideoByIdx(d)
}
})(b.state.curVidIdx);
if(b.data.eff.config.showAds&&b.data.eff.ads.preroll){b.state.playbackQ.push(c);
b.Ads.doPreroll()
}else{c()
}return
}},VidElt:{init:function(){b.VPlayer.UI.jPlayerWrap.prepend('<div class="vid-wrap"><video></video></div>');
b.VPlayer.UI.jVidWrap=b.VPlayer.UI.jOuterWrap.find(".vid-wrap");
b.VPlayer.UI.jVidElt=b.VPlayer.UI.jOuterWrap.find("video");
b.VPlayer.UI.dVidElt=b.VPlayer.UI.jVidElt.get(0);
b.VPlayer.UI.jVidElt.attr("controls","controls");
this.initMediaController();
if(typeof b.data.extrn.cfgArgs.userEventHandler==="function"){b.TVL.UIevents()
}return
},setPosterForVideo:function(){b.VPlayer.UI.jVidElt.attr("poster",b.Util.getVidImageForHeight(b.data.eff.channel.video[b.state.curVidIdx].assetId,b.VPlayer.UI.jVidElt.height(),b.data.eff.channel.video[b.state.curVidIdx].thumbnailUrl.match(/http:\/\/[^\/]*/)[0]));
return
},showOverlay:function(c,d){if(b.VPlayer.UI.jVidWrap.children(".vid-over").length==0){b.VPlayer.UI.jVidWrap.prepend("<div class='vid-over'></div>")
}if(b.VPlayer.UI.jVidWrap.children(".vid-over").attr("data-msg")!=d){b.VPlayer.UI.jVidWrap.children(".vid-over").html(c).attr("data-msg",d);
b.VPlayer.UI.jVidWrap.addClass("overlay")
}return
},removeOverlay:function(){if(b.VPlayer.UI.dVidElt.src){b.VPlayer.UI.jVidWrap.removeClass("overlay");
b.VPlayer.UI.jVidWrap.children(".vid-over").empty().removeAttr("data-msg");
return
}},initMediaController:function(){var z=b.VPlayer.UI.jVidElt;
var f=b.VPlayer.UI.dVidElt;
var t=0;
z.bind({play:u,pause:B,loadstart:j,loadedmetadata:D,loadeddata:m,canplay:A,canplaythrough:h,ended:C,playing:s,seeking:n,seeked:e,durationchange:k,progress:d,timeupdate:y,suspend:w,abort:x,error:l,emptied:p,stalled:v,waiting:o,togglePlaySNI:c,goTimeSNI:r,playVideoByUrlSNI:q,startedSNI:E,completeSNI:g});
function u(){console.log("M: video play event")
}function B(){console.log("M: video pause event")
}function j(){console.log("M: video loadstart event")
}function D(){console.log("M: video loadedmetadata event");
console.log("vid elt w/h "+a("video").width()+" / "+a("video").height()+" media w/h "+a("video")[0].videoWidth+" / "+a("video")[0].videoHeight)
}function m(){console.log("M: video loadeddata event")
}function A(){console.log("M: video canplay event");
if(f.src==""){f.pause()
}}function h(){console.log("M: video canplaythrough event |"+f.src+"|")
}function s(){console.log("M: video playing event")
}function n(){console.log("M: video seeking event")
}function e(){console.log("M: video seeked event")
}function k(){console.log("M: video durationchange event >>"+f.duration)
}function d(){console.log("M: video progress event")
}function y(){}function C(){console.log("M: video ended event");
f.pause();
z.trigger("completeSNI",{mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}function w(){console.log("M: suspend event")
}function x(){console.log("M: abort event")
}function l(F){console.log("M: error event "+(f.error?f.error.code:"")+" "+f.networkState);
if(!!f.error&&f.error.code==f.error.MEDIA_ERR_SRC_NOT_SUPPORTED&&f.networkState==f.NETWORK_NO_SOURCE){if(f.webkitDisplayingFullscreen){f.webkitExitFullscreen()
}z.one("startedSNI",function(){b.VPlayer.VidElt.removeOverlay()
});
b.VPlayer.VidElt.showOverlay(b.Util.getVideoMissingHTML(),"missing")
}else{z.attr("poster","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==")
}}function p(){console.log("M: emptied event")
}function v(){console.log("M: stalled event");
if((f.duration-f.currentTime)<0.1){f.pause();
z.trigger("completeSNI",{mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}}function o(){console.log("M: waiting event")
}function c(F){console.log("M: catch toggle play/pause")
}function r(F,G){console.log("M: catch go to time offset "+G.os)
}function E(F,G){console.log("M: catch custom SNI started handler: "+G.mode);
return
}function g(F,G){console.log("M: catch custom SNI complete handler: mode: |"+G.mode+"|  src: |"+z.attr("src")+"|");
if(b.state.mode){b.state.mode="";
z.removeAttr("src");
f.pause();
if(b.state.playbackQ.length>0){z.one("startedSNI",function(){b.VPlayer.VidElt.removeOverlay()
});
b.VPlayer.VidElt.showOverlay(b.Util.getLoadingHTML(),"loading");
(b.state.playbackQ.pop())()
}}return
}function q(F,G){console.log("M: catch custom SNI play video by URL handler "+G.url);
z.unbind(".vid");
console.log("binding custom startedSNI");
z.one("playing",function(){console.log("triggering custom play->startedSNI networkstate: "+f.networkState);
if(!f.error&&f.networkState!=f.NETWORK_NO_SOURCE){z.trigger("startedSNI",{mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}});
b.VPlayer.VidElt.playVideoByUrl(G.url);
return
}},playVideoByUrl:function(c){console.log("M: loading new "+c);
b.VPlayer.UI.dVidElt.src=c;
b.VPlayer.UI.dVidElt.load();
b.VPlayer.UI.dVidElt.play();
return
}},init:function(){this.Playlist.init();
return
}}
})();
b.Ads=(function(){return new function(){var f=this;
var e=function(){var j=b.Util.getAdURLbyType("preroll");
b.data.extrn.ads.cur={};
delete b.data.eff.ads.cur;
b.Util.loadXML({url:j,tgt:b.data.extrn.ads.cur,ctrlID:"adLoaded",postProc:function(){b.Ads.parseAd()
}})
};
f.doPreroll=e;
var g=function(){var j={};
try{var n,m,k;
var l=b.data.extrn.ads.cur.VAST.Ad.InLine.Creatives.Creative;
for(n=0;
n<l.length;
n++){if(typeof l[n].Linear!="undefined"){k=l[n].Linear.MediaFiles.MediaFile;
if(!a.isArray(k)){k=[k]
}for(m=0;
m<k.length;
m++){if((new RegExp(b.state.adMediaFmt)).test(k[m].type)){j.video=k[m].text;
break
}}j.dur=b.Util.hhmmss2sss(l[n].Linear.Duration);
if((typeof l[n].Linear.TrackingEvents!="undefined")&&(typeof l[n].Linear.TrackingEvents.Tracking!="undefined")){k=l[n].Linear.TrackingEvents.Tracking;
if(!a.isArray(k)){k=[k]
}j.tracking={};
for(m=0;
m<k.length;
m++){if(typeof k[m].text==="string"){j.tracking[k[m].event]=k[m].text
}}}}else{if(typeof l[n].CompanionAds!="undefined"){var k=l[n].CompanionAds.Companion;
j.sync=k.IFrameResource
}}}l=b.data.extrn.ads.cur.VAST.Ad.InLine;
if(typeof l.Impression!="undefined"){if(!a.isArray(l.Impression)){l.Impression=[l.Impression]
}j.impression=[];
l.Impression.forEach(function(o){if(o.toString()!=""){j.impression.push(o.toString())
}})
}}finally{b.data.eff.ads.cur=j;
return
}};
f.parseAd=g;
var h=function(){try{if(typeof b.data.eff.ads.cur.video!=="string"){throw"noVideo"
}b.VPlayer.UI.jVidElt.trigger("pause");
b.state.mode="ad";
b.VPlayer.UI.jVidElt.unbind(".ads");
b.VPlayer.UI.jVidElt.one("play.ads",function(){if(!b.VPlayer.UI.dVidElt.webkitDisplayingFullscreen){setDartEnterpriseBanner("BIGBOX",SNI.Player.SNAPHTML5.data.eff.ads.cur.sync)
}});
d();
b.VPlayer.UI.jVidElt.trigger("playVideoByUrlSNI",{url:b.data.eff.ads.cur.video,mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}catch(j){b.VPlayer.UI.jVidElt.unbind(".ads");
(b.state.playbackQ.pop())()
}finally{return
}};
f.runAd=h;
var c=[];
f.trackpts=c;
var d=function(){var k=b.VPlayer.UI.jVidElt;
c=[];
function j(m){var n,l=b.VPlayer.UI.dVidElt.currentTime;
while(c.length>0&&c[0].sss<l){n=c.shift();
b.Util.pixelBeacon(n.urls)
}return
}if(!!b.data.eff.ads.cur.impression||!!b.data.eff.ads.cur.tracking.start){k.one("play.ads",(function(l){return function(){b.Util.pixelBeacon(l);
return
}
})([].concat(b.data.eff.ads.cur.impression||[]).concat([b.data.eff.ads.cur.tracking.start]||[])))
}if(!!b.data.eff.ads.cur.tracking.complete){k.one("completeSNI.ads",(function(l){return function(){b.Util.pixelBeacon(l);
k.unbind(".ads");
return
}
})([b.data.eff.ads.cur.tracking.complete]))
}if(!!b.data.eff.ads.cur.tracking.midpoint){c.push({sss:b.data.eff.ads.cur.dur*0.5,urls:[b.data.eff.ads.cur.tracking.midpoint]})
}if(!!b.data.eff.ads.cur.tracking.firstQuartile){c.push({sss:b.data.eff.ads.cur.dur*0.25,urls:[b.data.eff.ads.cur.tracking.firstQuartile]})
}if(!!b.data.eff.ads.cur.tracking.thirdQuartile){c.push({sss:b.data.eff.ads.cur.dur*0.75,urls:[b.data.eff.ads.cur.tracking.thirdQuartile]})
}if(c.length>0){c=c.sort(function(m,l){return m.sss-l.sss
});
k.bind("timeupdate.ads",j)
}return
}
}
})();
b.Analytics=(function(){return new function(){var j=this;
var p,n;
var g=[];
if(!b.state.embed){g=[{internalName:"VideoSelect",eVars:[21,22,23,24,25,27,28,29,30,33,34,35],props:[37,38],hiers:[1]},{internalName:"VideoAdStart",cfgNames:["VideoAdStart","VideoAdStart2"]},{internalName:"VideoAdComplete"},{internalName:"VideoContentStart"},{internalName:"VideoContentComplete",cfgNames:["VideoContent100%"]},{internalName:"VideoNotFound"},{internalName:"VideoPause"},{internalName:"VideoResume"},{internalName:"VideoScrollLft",eVars:[39],props:[4]},{internalName:"VideoScrollRt",eVars:[39],props:[4]}]
}else{g=[{internalName:"VideoSelect",eVars:[27,28,33,34,35],props:[37,38],hiers:[1]},{internalName:"VideoPause"},{internalName:"VideoResume"}]
}j.ThingsToTrack=g;
var f={saved:[],working:[]};
j.trackpts=f;
var o=function(){p=a.isEmptyObject(b.data.extrn.Omniture)?b.data.defa.Omniture:b.data.extrn.Omniture;
n=b.data.eff.Omniture;
n.accountName=p.accountName;
n.trackingServer=p.trackingServer;
n.vars={};
if(!a.isArray(p.vars.variable)){p.vars.variable=[p.vars.variable]
}a.each(p.vars.variable,function(s,t){n.vars[t.name]={cur:"",defa:t["default"]}
});
n.evars={};
if(!a.isArray(p.formats.customVars.eVars.eVar)){p.formats.customVars.eVars.eVar=[p.formats.customVars.eVars.eVar]
}a.each(p.formats.customVars.eVars.eVar,function(s,t){n.evars[t.number]={cur:"",templ:t.text}
});
n.props={};
if(!a.isArray(p.formats.customVars.props.prop)){p.formats.customVars.props.prop=[p.formats.customVars.props.prop]
}a.each(p.formats.customVars.props.prop,function(s,t){n.props[t.number]={cur:"",templ:t.text}
});
n.hiers={};
if(!a.isArray(p.formats.customVars.hiers.hier)){p.formats.customVars.hiers.hier=[p.formats.customVars.hiers.hier]
}a.each(p.formats.customVars.hiers.hier,function(s,t){n.hiers[t.number]={cur:"",templ:t.text}
});
n.events={};
if(!a.isArray(p.events.event)){p.events.event=[p.events.event]
}a.each(p.events.event,function(s,t){n.events[t.name]={number:t.number}
});
var r=Object.getOwnPropertyNames(n.events).filter(function(u,t,s){return/VideoContent\d\d?%/.test(u)
});
if(r.length>0){a.each(r,function(s,t){f.saved.push({pct:/VideoContent(\d\d?)%/.exec(t)[1]})
});
f.saved=f.saved.sort(function(t,s){return t.pct-s.pct
})
}return
};
j.init=o;
var c=function(){var r=b.data.eff.channel;
var s=r.video[b.state.curVidIdx];
n.vars.Brand.cur=n.accountName;
n.vars.Channel.cur=r.title;
n.vars.PlayerName.cur=r.psaPlayerTitle;
n.vars.OriginalSite.cur=s.sourceNetwork;
n.vars.VideoTitle.cur=s.clipName;
n.vars.PlayType.cur="manual";
n.vars.DARTStation.cur=r.adLevel;
n.vars.PlayerAction.cur="HTML5 Video Play";
n.vars.AssetID.cur=s.assetId;
n.vars.Sponsor.cur=r.sponsorshipValue;
n.vars.ShowName.cur=s.showName;
n.vars.Duration.cur=s.length;
a.each(n.vars,function(t,u){if(u.cur==""){u.cur=u.defa
}});
a.each(n.evars,function(t,u){u.cur=n.vars[/\$(\w+)\$/.exec(u.templ)[1]].cur
});
a.each(n.props,function(t,u){u.cur=n.vars[/\$(\w+)\$/.exec(u.templ)[1]].cur
});
a.each(n.hiers,function(t,u){u.cur="";
a.each(u.templ.split("|"),function(v,w){if(v>0){u.cur+="|"
}u.cur+=n.vars[/\$(\w+)\$/.exec(w)[1]].cur
})
});
a.each(g,function(t,u){u.cleared=false
});
f.working=[];
a.each(f.saved,function(t,u){f.working[t]={pct:u.pct,sss:u.pct*s.length_sss/100}
});
l();
return
};
j.prepVideo=c;
var l=function(){var v=b.VPlayer.UI.jVidElt;
function s(A){var C,B=f.working,z=b.VPlayer.UI.dVidElt.currentTime;
if(b.state.mode!="content"){return
}while(B.length>0&&B[0].sss<z){C=B.shift()
}if(typeof C==="object"){q({events:[n.events["VideoContent"+C.pct+"%"].number],linkName:"Video Content",eVars:[],props:[],hiers:[]})
}return
}v.unbind(".omni");
if(b.data.eff.config.showCarousel){b.VPlayer.UI.jChNav.unbind(".omni")
}for(var x=0,y;
y=g[x];
x++){y.cleared=false;
var u=[],r="";
if(!a.isArray(y.cfgNames)){y.cfgNames=[y.internalName]
}for(var w=0;
w<y.cfgNames.length;
w++){if(typeof n.events[y.cfgNames[w]]==="object"){u.push(n.events[y.cfgNames[w]].number)
}}var t={idx:x,events:u,linkName:"",eVars:y.eVars||[],props:y.props||[],hiers:y.hiers||[]};
switch(y.internalName){case"VideoSelect":t.linkName="Video Select";
v.one("startedSNI.omni",(function(z){return function(A,B){if(!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoAdStart":t.linkName="Video Ad";
v.bind("startedSNI.omni",(function(z){return function(A,B){if(B.mode=="ad"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoAdComplete":t.linkName="Video Ad";
v.bind("completeSNI.omni",(function(z){return function(A,B){if(B.mode=="ad"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoContentStart":t.linkName="Video Content";
v.bind("startedSNI.omni",(function(z){return function(A,B){if(B.mode=="content"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoContentComplete":t.linkName="Video Content";
v.bind("completeSNI.omni",(function(z){return function(A,B){if(B.mode=="content"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoNotFound":break;
case"VideoPause":break;
case"VideoResume":break;
case"VideoScrollLft":if(b.data.eff.config.showCarousel){t.linkName="Video Player: Arrow Scroll";
t.varOverride={PlayerAction:"Video Player: Arrow Scroll Left"};
b.VPlayer.UI.jChNav.delegate(".prev-btn",b.Util.getUIselectEvent("omni"),(function(z){return function(A,B){if(!a(A.currentTarget).hasClass("disabled")){q(z)
}}
})(t))
}break;
case"VideoScrollRt":if(b.data.eff.config.showCarousel){t.linkName="Video Player: Arrow Scroll";
t.varOverride={PlayerAction:"Video Player: Arrow Scroll Right"};
b.VPlayer.UI.jChNav.delegate(".next-btn",b.Util.getUIselectEvent("omni"),(function(z){return function(A,B){if(!a(A.currentTarget).hasClass("disabled")){q(z)
}}
})(t))
}break
}}if(f.saved.length>0){v.bind("timeupdate.omni",s)
}return
};
var k={};
var e=function(u){function t(s,v){k[v]=u[v];
u[v]=""
}a.each(["usePlugins","channel","pageName","pageURL","events"],t);
for(var r=0;
r<50;
r++){t(r,"prop"+r);
t(r,"eVar"+r);
t(r,"hier"+r)
}k.trackingServer=u.trackingServer;
u.trackingServer=n.trackingServer;
u.usePlugins=false;
return
};
var d=function(u){function t(s,v){u[v]=k[v]
}a.each(["usePlugins","channel","pageName","pageURL","events"],t);
for(var r=0;
r<50;
r++){t(r,"prop"+r);
t(r,"eVar"+r);
t(r,"hier"+r)
}u.trackingServer=k.trackingServer;
return
};
var h=[];
var q=function(r){if(typeof r==="object"){h.push(r)
}m()
};
j.sendOmnitureEvent=q;
var m=function(){function x(){var s;
a.each(n.props,function(z,y){s=/\$(\w+)\$/.exec(y.templ)[1];
if(s in u.varOverride){y.sav=y.cur;
y.cur=u.varOverride[s]
}});
a.each(n.evars,function(z,y){s=/\$(\w+)\$/.exec(y.templ)[1];
if(s in u.varOverride){y.sav=y.cur;
y.cur=u.varOverride[s]
}});
return
}function r(){a.each(n.props,function(y,s){if(s.sav){s.cur=s.sav;
delete s.sav
}});
a.each(n.evars,function(y,s){if(s.sav){s.cur=s.sav;
delete s.sav
}});
return
}var v;
if(typeof s_gi!="function"){v=setTimeout(function(){clearTimeout(v);
v=null;
m()
},1000);
return false
}else{if(v!==null){clearTimeout(v);
v=null
}while(h.length>0){var u=h.pop();
var w=s_gi(n.accountName);
var t;
e(w);
w.events=[];
u.events.forEach(function(s){w.events.push("event"+s)
});
w.events=w.events.join(",");
w.linkTrackEvents=w.events;
w.linkTrackVars=[];
if(typeof u.varOverride==="object"){x()
}u.props.forEach(function(s){t="prop"+s;
w.linkTrackVars.push(t);
w[t]=n.props[s].cur
});
u.eVars.forEach(function(s){t="eVar"+s;
w.linkTrackVars.push(t);
w[t]=n.evars[s].cur
});
u.hiers.forEach(function(s){t="hier"+i;
w.linkTrackVars.push(t);
w[t]=n.hiers[s].cur
});
w.linkTrackVars=w.linkTrackVars.join(",");
if(w.linkTrackVars==""){w.linkTrackVars="None"
}console.log("OMNI: event "+w.events+" "+w.linkTrackVars);
w.tl(true,"o",u.linkName);
if(typeof u.varOverride==="object"){r()
}d(w)
}return true
}}
}
})();
b.TVL=(function(){return new function(){var d=this;
var c=function(){if(typeof b.data.extrn.cfgArgs.userEventHandler!="function"){return
}var e=b.VPlayer.UI.jVidElt;
b.data.extrn.cfgArgs.userEventHandler("playerReady",{itemType:b.state.mode,channelId:b.state.channelId,videoId:b.state.videoId});
e.bind("playVideoByUrlSNI",function(f,g){b.data.extrn.cfgArgs.userEventHandler("itemBegin",{itemType:g.mode||"ad",channelId:g.channelId,videoId:g.videoId})
});
e.bind("completeSNI",function(f,g){b.data.extrn.cfgArgs.userEventHandler("itemEnd",{itemType:g.mode||"ad",channelId:g.channelId,videoId:g.videoId})
});
e.bind("pause",function(){b.data.extrn.cfgArgs.userEventHandler("itemPause",{itemType:b.state.mode||"ad",channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
});
e.bind("play",function(){b.data.extrn.cfgArgs.userEventHandler("itemResume",{itemType:b.state.mode||"ad",channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
})
};
d.UIevents=c
}
})();
b.init=function(c){if(typeof a.parseXML!=="function"){a.parseXML=b.Util.parseXML
}if(!SNI.Config.DEBUG||!SNI.Config.DEBUG.log){console.log=function(){return
}
}console.log(c);
b.StartUp.Controller.init();
b.StartUp.Tasks.prepCfgArgsState(c);
if(/safari/i.test(window.navigator.userAgent)){b.state.adMediaFmt="mp4"
}else{if(/firefox/i.test(window.navigator.userAgent)){b.state.adMediaFmt="ogg"
}}b.state.configStyles=b.state.configFiles.filter(function(d){return/-style/.test(d)
})[0];
b.state.configGenl=b.state.configFiles.filter(function(d){return !/-style/.test(d)
})[0];
SNI.Player.doLoadPlaylist=b.setPlaylist;
a(b).trigger("initialLoad")
};
b.initPlay=function(){console.log("Ready to Play!!");
b.Analytics.init();
SNI.Player.loadPlaylist=b.loadNewChannel;
b.VPlayer.init();
return
};
b.setPlaylist=function(e,f,d,c){console.log("set playlist HTML5");
b.state.videoId=!!c?c:"";
b.state.mode="";
console.log("setPlaylist: "+e+" | "+f+" | "+d+" | "+c);
if(!!e&&b.state.channelId!=e){b.state.channelId=e;
b.state.channelUrl=f;
a(b).trigger("loadNewPlaylist")
}else{b.VPlayer.Playlist.findSelectedVid();
b.VPlayer.Playlist.readyToPlayVid()
}return
}
}
})(jQuery);
SNI.Player.getEmbed=function(h,g,b){var e="",f="",c="";
var a=SNI.Player.getPlaylistUrl(h+"-VIDEO");
var d="embedplayer.html";
e+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"';
e+=' codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,124,0"';
e+=' width="'+g+'" height="'+b+'">';
e+='<param name="movie" value="';
e+=SNI.Config.snapBinaryEmbed+"?channelurl="+encodeURIComponent(a)+"&channel="+h+'"/>';
e+='<param name="allowFullScreen" value="true"/><param name="allowscriptaccess" value="always"/><param name="bgcolor" value="#FFFFFF"/>';
e+='<embed src="';
e+=SNI.Config.snapBinaryEmbed+"?channelurl="+encodeURIComponent(a)+"&channel="+h+'"';
e+=' type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" bgcolor="#FFFFFF"';
e+=' width="'+g+'" height="'+b+'"/>';
e+="</object>";
if(SNI.Config.snapEnableHTML5){f+="<iframe";
f+=' width="'+g+'" height="'+b+'"';
f+=' src="'+d;
f+="?width="+g+"&height="+b+" &channelurl="+encodeURIComponent(a)+'">';
f+="</iframe>"
}if(!SNI.Config.snapEnableHTML5){return e
}else{c+='<script type="text/javascript">if (/iphone|ipad|ipod/i.test(window.navigator.userAgent)) {';
c+="document.write('"+f+"');";
c+="} else {";
c+="document.write('"+e+"')";
c+="}";
c+="<\/script>";
return c
}};
if(window.jQuery){(function(a){a.extend({xml2json:function(g,b){if(!g){return{}
}function e(l,k){if(!l){return null
}var o="",n=null,r=null;
var q=l.nodeType,s=h(l.localName||l.nodeName);
var p=l.text||l.nodeValue||"";
if(l.childNodes){if(l.childNodes.length>0){a.each(l.childNodes,function(x,w){var u=w.nodeType,v=h(w.localName||w.nodeName);
var t=w.text||w.nodeValue||"";
if(u==8){return
}else{if(u==3||u==4||!v){if(t.match(/^\s+$/)){return
}o+=t.replace(/^\s+/,"").replace(/\s+$/,"")
}else{n=n||{};
if(n[v]){if(!n[v].length){n[v]=d(n[v])
}n[v]=d(n[v]);
n[v][n[v].length]=e(w,true);
n[v].length=n[v].length
}else{n[v]=e(w)
}}}})
}}if(l.attributes){if(l.attributes.length>0){r={};
n=n||{};
a.each(l.attributes,function(v,u){var w=h(u.name),t=u.value;
r[w]=t;
if(n[w]){n[cnn]=d(n[cnn]);
n[w][n[w].length]=t;
n[w].length=n[w].length
}else{n[w]=t
}})
}}if(n){n=a.extend((o!=""?new String(o):{}),n||{});
o=(n.text)?(typeof(n.text)=="object"?n.text:[n.text||""]).concat([o]):o;
if(o){n.text=o
}o=""
}var m=n||o;
if(b){if(o){m={}
}o=m.text||o||"";
if(o){m.text=o
}if(!k){m=d(m)
}}return m
}var h=function(k){return String(k||"").replace(/-/g,"_")
};
function j(k){var l=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;
return(typeof k=="number")||l.test(String((k&&typeof k=="string")?jQuery.trim(k):""))
}var d=function(k){if(!a.isArray(k)){k=[k]
}k.length=k.length;
return k
};
if(typeof g=="string"){g=a.text2xml(g)
}if(!g.nodeType){return
}if(g.nodeType==3||g.nodeType==4){return g.nodeValue
}var c=(g.nodeType==9)?g.documentElement:g;
var f=e(c,true);
g=null;
c=null;
return f
},text2xml:function(f){var c;
try{var b=(a.browser.msie)?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser();
b.async=false
}catch(d){throw new Error("XML Parser could not be instantiated")
}try{if(a.browser.msie){c=(b.loadXML(f))?b:false
}else{c=b.parseFromString(f,"text/xml")
}}catch(d){throw new Error("Error parsing XML string")
}return c
}})
})(jQuery);
/*!	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
}var swfobject=function(){var E="undefined",s="object",T="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",r="application/x-shockwave-flash",S="SWFObjectExprInst",y="onreadystatechange",P=window,k=document,u=navigator,U=false,V=[h],p=[],O=[],J=[],m,R,F,C,K=false,a=false,o,H,n=true,N=function(){var ab=typeof k.getElementById!=E&&typeof k.getElementsByTagName!=E&&typeof k.createElement!=E,ai=u.userAgent.toLowerCase(),Z=u.platform.toLowerCase(),af=Z?/win/.test(Z):/win/.test(ai),ad=Z?/mac/.test(Z):/mac/.test(ai),ag=/webkit/.test(ai)?parseFloat(ai.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,Y=!+"\v1",ah=[0,0,0],ac=null;
if(typeof u.plugins!=E&&typeof u.plugins[T]==s){ac=u.plugins[T].description;
if(ac&&!(typeof u.mimeTypes!=E&&u.mimeTypes[r]&&!u.mimeTypes[r].enabledPlugin)){U=true;
Y=false;
ac=ac.replace(/^.*\s+(\S+\s+\S+$)/,"$1");
ah[0]=parseInt(ac.replace(/^(.*)\..*$/,"$1"),10);
ah[1]=parseInt(ac.replace(/^.*\.(.*)\s.*$/,"$1"),10);
ah[2]=/[a-zA-Z]/.test(ac)?parseInt(ac.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0
}}else{if(typeof P.ActiveXObject!=E){try{var ae=new ActiveXObject(X);
if(ae){ac=ae.GetVariable("$version");
if(ac){Y=true;
ac=ac.split(" ")[1].split(",");
ah=[parseInt(ac[0],10),parseInt(ac[1],10),parseInt(ac[2],10)]
}}}catch(aa){}}}return{w3:ab,pv:ah,wk:ag,ie:Y,win:af,mac:ad}
}(),l=function(){if(!N.w3){return
}if((typeof k.readyState!=E&&k.readyState=="complete")||(typeof k.readyState==E&&(k.getElementsByTagName("body")[0]||k.body))){f()
}if(!K){if(typeof k.addEventListener!=E){k.addEventListener("DOMContentLoaded",f,false)
}if(N.ie&&N.win){k.attachEvent(y,function(){if(k.readyState=="complete"){k.detachEvent(y,arguments.callee);
f()
}});
if(P==top){(function(){if(K){return
}try{k.documentElement.doScroll("left")
}catch(Y){setTimeout(arguments.callee,0);
return
}f()
})()
}}if(N.wk){(function(){if(K){return
}if(!/loaded|complete/.test(k.readyState)){setTimeout(arguments.callee,0);
return
}f()
})()
}t(f)
}}();
function f(){if(K){return
}try{var aa=k.getElementsByTagName("body")[0].appendChild(D("span"));
aa.parentNode.removeChild(aa)
}catch(ab){return
}K=true;
var Y=V.length;
for(var Z=0;
Z<Y;
Z++){V[Z]()
}}function L(Y){if(K){Y()
}else{V[V.length]=Y
}}function t(Z){if(typeof P.addEventListener!=E){P.addEventListener("load",Z,false)
}else{if(typeof k.addEventListener!=E){k.addEventListener("load",Z,false)
}else{if(typeof P.attachEvent!=E){j(P,"onload",Z)
}else{if(typeof P.onload=="function"){var Y=P.onload;
P.onload=function(){Y();
Z()
}
}else{P.onload=Z
}}}}}function h(){if(U){W()
}else{I()
}}function W(){var Y=k.getElementsByTagName("body")[0];
var ab=D(s);
ab.setAttribute("type",r);
var aa=Y.appendChild(ab);
if(aa){var Z=0;
(function(){if(typeof aa.GetVariable!=E){var ac=aa.GetVariable("$version");
if(ac){ac=ac.split(" ")[1].split(",");
N.pv=[parseInt(ac[0],10),parseInt(ac[1],10),parseInt(ac[2],10)]
}}else{if(Z<10){Z++;
setTimeout(arguments.callee,10);
return
}}Y.removeChild(ab);
aa=null;
I()
})()
}else{I()
}}function I(){var ah=p.length;
if(ah>0){for(var ag=0;
ag<ah;
ag++){var Z=p[ag].id;
var ac=p[ag].callbackFn;
var ab={success:false,id:Z};
if(N.pv[0]>0){var af=c(Z);
if(af){if(G(p[ag].swfVersion)&&!(N.wk&&N.wk<312)){x(Z,true);
if(ac){ab.success=true;
ab.ref=A(Z);
ac(ab)
}}else{if(p[ag].expressInstall&&B()){var aj={};
aj.data=p[ag].expressInstall;
aj.width=af.getAttribute("width")||"0";
aj.height=af.getAttribute("height")||"0";
if(af.getAttribute("class")){aj.styleclass=af.getAttribute("class")
}if(af.getAttribute("align")){aj.align=af.getAttribute("align")
}var ai={};
var Y=af.getElementsByTagName("param");
var ad=Y.length;
for(var ae=0;
ae<ad;
ae++){if(Y[ae].getAttribute("name").toLowerCase()!="movie"){ai[Y[ae].getAttribute("name")]=Y[ae].getAttribute("value")
}}Q(aj,ai,Z,ac)
}else{q(af);
if(ac){ac(ab)
}}}}}else{x(Z,true);
if(ac){var aa=A(Z);
if(aa&&typeof aa.SetVariable!=E){ab.success=true;
ab.ref=aa
}ac(ab)
}}}}}function A(ab){var Y=null;
var Z=c(ab);
if(Z&&Z.nodeName=="OBJECT"){if(typeof Z.SetVariable!=E){Y=Z
}else{var aa=Z.getElementsByTagName(s)[0];
if(aa){Y=aa
}}}return Y
}function B(){return !a&&G("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)
}function Q(ab,ac,Y,aa){a=true;
F=aa||null;
C={success:false,id:Y};
var af=c(Y);
if(af){if(af.nodeName=="OBJECT"){m=g(af);
R=null
}else{m=af;
R=Y
}ab.id=S;
if(typeof ab.width==E||(!/%$/.test(ab.width)&&parseInt(ab.width,10)<310)){ab.width="310"
}if(typeof ab.height==E||(!/%$/.test(ab.height)&&parseInt(ab.height,10)<137)){ab.height="137"
}k.title=k.title.slice(0,47)+" - Flash Player Installation";
var ae=N.ie&&N.win?"ActiveX":"PlugIn",ad="MMredirectURL="+P.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ae+"&MMdoctitle="+k.title;
if(typeof ac.flashvars!=E){ac.flashvars+="&"+ad
}else{ac.flashvars=ad
}if(N.ie&&N.win&&af.readyState!=4){var Z=D("div");
Y+="SWFObjectNew";
Z.setAttribute("id",Y);
af.parentNode.insertBefore(Z,af);
af.style.display="none";
(function(){if(af.readyState==4){af.parentNode.removeChild(af)
}else{setTimeout(arguments.callee,10)
}})()
}v(ab,ac,Y)
}}function q(Z){if(N.ie&&N.win&&Z.readyState!=4){var Y=D("div");
Z.parentNode.insertBefore(Y,Z);
Y.parentNode.replaceChild(g(Z),Y);
Z.style.display="none";
(function(){if(Z.readyState==4){Z.parentNode.removeChild(Z)
}else{setTimeout(arguments.callee,10)
}})()
}else{Z.parentNode.replaceChild(g(Z),Z)
}}function g(ad){var ab=D("div");
if(N.win&&N.ie){ab.innerHTML=ad.innerHTML
}else{var Z=ad.getElementsByTagName(s)[0];
if(Z){var ae=Z.childNodes;
if(ae){var Y=ae.length;
for(var aa=0;
aa<Y;
aa++){if(!(ae[aa].nodeType==1&&ae[aa].nodeName=="PARAM")&&!(ae[aa].nodeType==8)){ab.appendChild(ae[aa].cloneNode(true))
}}}}}return ab
}function v(aj,ah,Z){var Y,ab=c(Z);
if(N.wk&&N.wk<312){return Y
}if(ab){if(typeof aj.id==E){aj.id=Z
}if(N.ie&&N.win){var ai="";
for(var af in aj){if(aj[af]!=Object.prototype[af]){if(af.toLowerCase()=="data"){ah.movie=aj[af]
}else{if(af.toLowerCase()=="styleclass"){ai+=' class="'+aj[af]+'"'
}else{if(af.toLowerCase()!="classid"){ai+=" "+af+'="'+aj[af]+'"'
}}}}}var ag="";
for(var ae in ah){if(ah[ae]!=Object.prototype[ae]){ag+='<param name="'+ae+'" value="'+ah[ae]+'" />'
}}ab.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ai+">"+ag+"</object>";
O[O.length]=aj.id;
Y=c(aj.id)
}else{var aa=D(s);
aa.setAttribute("type",r);
for(var ad in aj){if(aj[ad]!=Object.prototype[ad]){if(ad.toLowerCase()=="styleclass"){aa.setAttribute("class",aj[ad])
}else{if(ad.toLowerCase()!="classid"){aa.setAttribute(ad,aj[ad])
}}}}for(var ac in ah){if(ah[ac]!=Object.prototype[ac]&&ac.toLowerCase()!="movie"){e(aa,ac,ah[ac])
}}ab.parentNode.replaceChild(aa,ab);
Y=aa
}}return Y
}function e(aa,Y,Z){var ab=D("param");
ab.setAttribute("name",Y);
ab.setAttribute("value",Z);
aa.appendChild(ab)
}function z(Z){var Y=c(Z);
if(Y&&Y.nodeName=="OBJECT"){if(N.ie&&N.win){Y.style.display="none";
(function(){if(Y.readyState==4){b(Z)
}else{setTimeout(arguments.callee,10)
}})()
}else{Y.parentNode.removeChild(Y)
}}}function b(aa){var Z=c(aa);
if(Z){for(var Y in Z){if(typeof Z[Y]=="function"){Z[Y]=null
}}Z.parentNode.removeChild(Z)
}}function c(aa){var Y=null;
try{Y=k.getElementById(aa)
}catch(Z){}return Y
}function D(Y){return k.createElement(Y)
}function j(aa,Y,Z){aa.attachEvent(Y,Z);
J[J.length]=[aa,Y,Z]
}function G(aa){var Z=N.pv,Y=aa.split(".");
Y[0]=parseInt(Y[0],10);
Y[1]=parseInt(Y[1],10)||0;
Y[2]=parseInt(Y[2],10)||0;
return(Z[0]>Y[0]||(Z[0]==Y[0]&&Z[1]>Y[1])||(Z[0]==Y[0]&&Z[1]==Y[1]&&Z[2]>=Y[2]))?true:false
}function w(ad,Z,ae,ac){if(N.ie&&N.mac){return
}var ab=k.getElementsByTagName("head")[0];
if(!ab){return
}var Y=(ae&&typeof ae=="string")?ae:"screen";
if(ac){o=null;
H=null
}if(!o||H!=Y){var aa=D("style");
aa.setAttribute("type","text/css");
aa.setAttribute("media",Y);
o=ab.appendChild(aa);
if(N.ie&&N.win&&typeof k.styleSheets!=E&&k.styleSheets.length>0){o=k.styleSheets[k.styleSheets.length-1]
}H=Y
}if(N.ie&&N.win){if(o&&typeof o.addRule==s){o.addRule(ad,Z)
}}else{if(o&&typeof k.createTextNode!=E){o.appendChild(k.createTextNode(ad+" {"+Z+"}"))
}}}function x(aa,Y){if(!n){return
}var Z=Y?"visible":"hidden";
if(K&&c(aa)){c(aa).style.visibility=Z
}else{w("#"+aa,"visibility:"+Z)
}}function M(Z){var aa=/[\\\"<>\.;]/;
var Y=aa.exec(Z)!=null;
return Y&&typeof encodeURIComponent!=E?encodeURIComponent(Z):Z
}var d=function(){if(N.ie&&N.win){window.attachEvent("onunload",function(){var ad=J.length;
for(var ac=0;
ac<ad;
ac++){J[ac][0].detachEvent(J[ac][1],J[ac][2])
}var aa=O.length;
for(var ab=0;
ab<aa;
ab++){z(O[ab])
}for(var Z in N){N[Z]=null
}N=null;
for(var Y in swfobject){swfobject[Y]=null
}swfobject=null
})
}}();
return{registerObject:function(ac,Y,ab,aa){if(N.w3&&ac&&Y){var Z={};
Z.id=ac;
Z.swfVersion=Y;
Z.expressInstall=ab;
Z.callbackFn=aa;
p[p.length]=Z;
x(ac,false)
}else{if(aa){aa({success:false,id:ac})
}}},getObjectById:function(Y){if(N.w3){return A(Y)
}},embedSWF:function(ac,ai,af,ah,Z,ab,aa,ae,ag,ad){var Y={success:false,id:ai};
if(N.w3&&!(N.wk&&N.wk<312)&&ac&&ai&&af&&ah&&Z){x(ai,false);
L(function(){af+="";
ah+="";
var ak={};
if(ag&&typeof ag===s){for(var am in ag){ak[am]=ag[am]
}}ak.data=ac;
ak.width=af;
ak.height=ah;
var an={};
if(ae&&typeof ae===s){for(var al in ae){an[al]=ae[al]
}}if(aa&&typeof aa===s){for(var aj in aa){if(typeof an.flashvars!=E){an.flashvars+="&"+aj+"="+aa[aj]
}else{an.flashvars=aj+"="+aa[aj]
}}}if(G(Z)){var ao=v(ak,an,ai);
if(ak.id==ai){x(ai,true)
}Y.success=true;
Y.ref=ao
}else{if(ab&&B()){ak.data=ab;
Q(ak,an,ai,ad);
return
}else{x(ai,true)
}}if(ad){ad(Y)
}})
}else{if(ad){ad(Y)
}}},switchOffAutoHideShow:function(){n=false
},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}
},hasFlashPlayerVersion:G,createSWF:function(aa,Z,Y){if(N.w3){return v(aa,Z,Y)
}else{return undefined
}},showExpressInstall:function(aa,ab,Y,Z){if(N.w3&&B()){Q(aa,ab,Y,Z)
}},removeSWF:function(Y){if(N.w3){z(Y)
}},createCSS:function(ab,aa,Z,Y){if(N.w3){w(ab,aa,Z,Y)
}},addDomLoadEvent:L,addLoadEvent:t,getQueryParamValue:function(ab){var aa=k.location.search||k.location.hash;
if(aa){if(/\?/.test(aa)){aa=aa.split("?")[1]
}if(ab==null){return M(aa)
}var Z=aa.split("&");
for(var Y=0;
Y<Z.length;
Y++){if(Z[Y].substring(0,Z[Y].indexOf("="))==ab){return M(Z[Y].substring((Z[Y].indexOf("=")+1)))
}}}return""
},expressInstallCallback:function(){if(a){var Y=c(S);
if(Y&&m){Y.parentNode.replaceChild(m,Y);
if(R){x(R,true);
if(N.ie&&N.win){m.style.display="block"
}}if(F){F(C)
}}a=false
}}}
}();
if(typeof SNI=="undefined"){SNI={}
}if(typeof SNI.Player=="undefined"){SNI.Player={}
}SNI.Player.Settings=SNI.Player.Settings||{snap_swf_url:SNI.Config.snapBinary,flash_express_install_url:"http://common.scrippsnetworks.com/common/flash-express-install/expressInstall.swf",flash_minimum_version:"9",subscriber_authentication_config:"http://common.scrippsnetworks.com/common/snap/configs/mvpdconfig.xml"};
SNI.Player.UserInterfaceConfigs=SNI.Player.UserInterfaceConfigs||{FullSize:{enableSyncAdFix:1,dimensions:{width:"576",height:"636"},flashvars:{config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent",bgcolor:"#ffffff"}},FullSizeNoPlaylist:{enableSyncAdFix:1,dimensions:{width:"576",height:"460"},flashvars:{showCarousel:"false",},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},Blog:{enableSyncAdFix:1,dimensions:{width:"320",height:"263"},flashvars:{showCarousel:"false",config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}},BlogNoPlaylist:{enableSyncAdFix:1,dimensions:{width:"320",height:"263"},flashvars:{showCarousel:"false",config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}}};
SNI.Player.getPlayerContainerDivId=function(){return this.container_div_id
};
SNI.Player.getPlayerInstanceId=function(){return this.instance_id
};
SNI.Player.wantsHTML5=function(){function a(d){var c=d.match(/Android\s*(\d\.\d)/);
var b=0;
if(c&&c.length>1){b=c[1]
}return b
}if(!!SNI.Config.DEBUG&&!!SNI.Config.DEBUG.fmt&&!!SNI.Config.snapEnableHTML5){return true
}return(!!SNI.Config.snapEnableHTML5&&(/iphone|ipad|ipod/i.test(window.navigator.platform)||a(window.navigator.userAgent)>=4.1))
};
SNI.Player.loadPlaylist=function(e,d,f){if(e=="undefined"){e=""
}if(d=="undefined"){d=""
}else{d=escape(d)
}if(f=="undefined"){f=""
}var c=this;
var a=c.getPlaylistUrl(e);
function b(k,g,h,l){var j=document.getElementById(c.instance_id);
if(j!="undefined"){j.setPlaylist(k,g,escape(h),l)
}}SNI.Player.doLoadPlaylist=SNI.Player.doLoadPlaylist||b;
SNI.Player.doLoadPlaylist(e,a,d,f)
};
SNI.Player.SNAP=function(c){if(typeof(c)=="undefined"){alert("Error loading video player");
return null
}if(c.container_div_id=="undefined"){alert("Error loading video player");
return null
}else{this.container_div_id=c.container_div_id;
this.instance_id=c.container_div_id+"-instance"
}if(c.ui_config=="undefined"){alert("Error loading video player configuration");
return null
}else{this.ui_config=c.ui_config
}if(typeof(c.fcn_build_playlist_url)=="undefined"||c.fcn_build_playlist_url==""){this.getPlaylistUrl=SNI.Player.getPlaylistUrl
}else{this.getPlaylistUrl=c.fcn_build_playlist_url
}this.loadPlaylist=SNI.Player.loadPlaylist;
this.channel_id=SNI.Player.getUrlParam("channelId")||c.channel_id;
if(typeof this.channel_id=="undefined"){alert("No playlist specified.");
return null
}else{SNI.Player.channelId=this.channel_id;
this.channel_url=this.getPlaylistUrl(this.channel_id);
SNI.Player.channelUrl=this.channel_url
}this.video_id=SNI.Player.getUrlParam("videoId")||c.video_id;
this.play=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.playerPlay){alert("play() not yet implemented");
return
}e.playerPlay()
}};
this.pause=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.playerPause){alert("pause() not yet implemented");
return
}e.playerPause()
}};
this.seek=function(f,e){if(f=="undefined"){f=0
}if(e=="undefined"){e=0
}var g=document.getElementById(this.instance_id);
if(g!="undefined"){if(!g.playerSeek){alert("seek() not yet implemented");
return
}g.playerSeek((f*60)+e)
}};
this.nextVideo=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.nextVideo){alert("nextVideo() not yet implemented");
return
}e.nextVideo()
}};
this.prevVideo=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.prevVideo){alert("prevVideo() not yet implemented");
return
}e.prevVideo()
}};
this.mute=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.mute){alert("mute() not yet implemented");
return
}e.mute()
}};
this.unmute=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.unmute){alert("unmute() not yet implemented");
return
}e.unmute()
}};
this.setPlaylistChannel=function(f,e){if(f=="undefined"){f=""
}if(e=="undefined"){e=""
}var g=document.getElementById(this.instance_id);
if(g!="undefined"){g.setPlaylistChannel(f,e)
}};
this.setPlaylistTitle=function(e){if(e=="undefined"){e=""
}var f=document.getElementById(this.instance_id);
if(f!="undefined"){f.setPlaylistTitle(e)
}};
this.setPlaylistVideo=function(f){if(f=="undefined"){f=""
}var e=document.getElementById(this.instance_id);
if(e!="undefined"){e.setPlaylistVideo(f)
}};
this.fullScreen=function(){var e=document.getElementById(this.instance_id);
if(e!="undefined"){if(!e.fullScreen){alert("fullScreen() not yet implemented");
return
}e.fullScreen()
}};
this.showMenu=function(e){if(e=="undefined"){e=""
}var f=document.getElementById(this.instance_id);
if(f!="undefined"){if(!f.showMenu){alert("showMenu() not yet implemented");
return
}f.showMenu(e)
}};
if(typeof(mdManager)!="undefined"){if(!mdManager.getParameter("VideoPlayer")){if(SNI.Player.wantsHTML5()){mdManager.addParameter("VideoPlayer","SNAPHTML5")
}else{mdManager.addParameter("VideoPlayer","SNAP")
}}}var b={id:this.instance_id,name:this.instance_id+" Player"};
var a=this.ui_config.flashvars;
a.minimumFlashVersion=a.minimumFlashVersion||SNI.Player.Settings.flash_minimum_version;
a.channel=this.channel_id,a.channelurl=this.channel_url,a.videoId=this.video_id,a.snapDivId=this.container_div_id;
if(typeof(c.playlist_title)!="undefined"){a.playlistTitle=escape(c.playlist_title)
}if(typeof(c.fcn_callback_system)!="undefined"){a.systemEventHandler=c.fcn_callback_system
}else{if(this.ui_config.enableSyncAdFix!="undefined"&&this.ui_config.enableSyncAdFix){a.systemEventHandler="SNI.Player.sysCbk"
}}if(typeof(c.fcn_callback_user)!="undefined"){a.userEventHandler=c.fcn_callback_user
}if(a.enableSubscriberAuth){a.autoPlay="false";
a.playerSWF=SNI.Player.Settings.snap_swf_url;
a.subscriberId="SNI";
a.subscriberResourceId="CookingChannel";
a.subscriberProvidersSWF="http://cooktv.sndimg.com/common/snap/snap-saproviders-1.1.5.swf";
SNI.Player.Settings.snap_swf_url="http://cooktv.sndimg.com/common/snap/snap-sawrapper-1.1.5.swf";
a.mvpdConfig=a.mvpdConfig||SNI.Player.Settings.subscriber_authentication_config;
a.mvpdLogoConfig="";
a.selectedProviderCallback="handleSelectedProvider";
a.convivaServiceURL="http://livepass.conviva.com";
a.convivaCustomerId="c3.ScrippsNetwork-Test"
}a.minimumFlashVersion=a.minimumFlashVersion||SNI.Player.Settings.flash_minimum_version;
if(mdManager.getParameter("VideoPlayer")==="SNAP"){swfobject.embedSWF(SNI.Player.Settings.snap_swf_url,this.container_div_id,this.ui_config.dimensions.width,this.ui_config.dimensions.height,a.minimumFlashVersion,SNI.Player.Settings.flash_express_install_url,a,this.ui_config.params,b)
}else{if(mdManager.getParameter("VideoPlayer")==="SNAPHTML5"){this.ui_config.alternativeContent="<p>The video player is starting up...</p>";
SNI.Player.SNAPHTML5.init({cfgArgs:a,dimensions:this.ui_config.dimensions,enableSyncAdFix:this.ui_config.enableSyncAdFix})
}}var d=document.getElementById(this.container_div_id);
if($(d).contents().length==0){$(d).html(this.ui_config.alternativeContent||'<p>Can\'t see the video?<br /><a href="http://www.adobe.com/go/getflashplayer"><img src="http://www.adobe.com/macromedia/style_guide/images/160x41_Get_Flash_Player.jpg" alt="Get Adobe Flash Player" width="160" height="41" /></a>')
}};
SNI.Player.getPlaylistUrl=function(b){var a=SNI.Config.domain;
if(window.location.hostname.search(/^(author|publish)/)>-1){a=window.location.host
}return"http://"+a+SNI.Config.snapPlayListUrl+b+".xml"
};
SNI.Player.getUrlParam=function(d){d=d.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");
var a="[\\?&]"+d+"=([^&#]*)";
var c=new RegExp(a);
var b=c.exec(window.location.href);
if(b==null){return""
}else{return b[1]
}};
SNI.Player.sysCbkInternal=function(a,b){var b=SNI.Util.ckParseJSON(b);
if(a=="playerReady"){if((b.isAutoPlay==="false"||b.hasPreroll==="false")&&(typeof setDefaultBigboxAd=="function")){setDefaultBigboxAd()
}}};
SNI.Player.sysCbk=function(a,b){SNI.Player.sysCbkInternal(a,b)
},SNI.Player.Observables={videoSelected:$.PubSub("videoSelected"),videoPlayed:$.PubSub("videoPlayed"),videoPaused:$.PubSub("videoPaused"),videoEnded:$.PubSub("videoEnded"),videoResumed:$.PubSub("videoResumed")};
SNI.Player.UIcbkInternal=function(a,b){var b=SNI.Util.ckParseJSON(b);
if(a==="playerReady"||(a==="itemBegin"&&b.itemType==="content")&&(SNI.Player.videoId!=b.videoId)){SNI.Player.videoId=b.videoId;
SNI.Player.Observables.videoSelected.publish(b.videoId)
}if(a==="itemBegin"&&b.itemType==="content"){SNI.Player.Observables.videoPlayed.publish(b.videoId)
}if(a=="itemPause"){SNI.Player.Observables.videoPaused.publish(b.videoId)
}if(a=="itemEnd"&&b.itemType==="content"){SNI.Player.Observables.videoEnded.publish(b.videoId)
}return
};
SNI.Player.UIcbk=function(a,b){SNI.Player.UIcbkInternal(a,b)
},SNI.Player.FullSize=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.FullSize),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.FullSizeNoPlaylist=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.FullSizeNoPlaylist),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.RightRail=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.RightRail),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.RightRailNoPlaylist=function(a,b,c,e,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.RightRailNoPlaylist),channel_id:b,video_id:c,fcn_callback_user:e})
};
SNI.Player.Blog=function(a,b,c,e,d){getPlaylistUrlForBlogs=function(f){return SNI.Config.snapPlayListUrl+"/channel/xml/0,,"+f+",00.xml"
};
return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,d,SNI.Player.UserInterfaceConfigs.FullSizeNoPlaylist),channel_id:b,video_id:c,fcn_callback_user:getPlaylistUrlForBlogs})
};
SNI.Player.doWithVideoData=(function(){var e,c;
var a={};
var b={};
return function(g){function h(l){SNI.Player.playlistDta=l;
if(!$.isArray(SNI.Player.playlistDta.video)){SNI.Player.playlistDta.video=[SNI.Player.playlistDta.video]
}for(var k=0;
k<SNI.Player.playlistDta.video.length;
++k){a[SNI.Player.playlistDta.video[k].videoId]=k
}}function d(l){var k=a[l]||0;
var m=SNI.Player.playlistDta.video[k];
return{clipName:m.clipName,length_hms:SNI.Util.hhmmssClean(m.length),"abstract":m["abstract"],relatedTitle:m.relatedTitle,relatedUrl:m.relatedUrl}
}if(typeof e==="undefined"){var f=SNI.Player.channelUrl||g.channelUrl;
e=$.Deferred(function(){var l=this;
var k=$.get(f);
k.done(function(m){if($.isXMLDoc(m)){e.resolve($.xml2json(m))
}});
k.fail(function(o,m,n){e.reject("Unable to load playlist XML.")
})
});
var j=setTimeout(function(){e.reject("timeout")
},4*1000);
e.always(function(){clearTimeout(j)
});
e.done(function(k){h(k)
});
c=e.promise()
}c.done(function(){var k,n=null;
if(typeof g==="object"){k=g.eventType;
n=g.fn
}else{n=g
}if(k&&(k==="videoEnded")){var m=SNI.Player.playlistDta.video;
var l=$.grep(m,function(o,p){if(p>0&&(m[p-1].videoId===SNI.Player.videoId)){return true
}});
n(d(l.length>0?l[0].videoId:SNI.Player.videoId))
}else{if(k&&(k==="playerInit")){n(SNI.Player.playlistDta)
}else{n(d(SNI.Player.videoId))
}}})
}
})();
SNI.Player.PlaylistFactory=function(a){var b=new (function(){this.channelDta={};
this.vidhash={};
this.setChannelDta=function(d){$.extend(this.channelDta,d);
this.channelDta.video.forEach(function(f,g,e){e[g]["length_hms"]=SNI.Util.hhmmssClean(f.length)
});
for(var c=0;
c<this.channelDta.video.length;
++c){this.vidhash[this.channelDta.video[c].videoId]=c
}};
this.getChannelDta=function(){return this.channelDta
};
this.getDtaForVidByVidId=function(d){var c=this.vidhash[d]||0;
return this.getDtaForVidByIdx(c)
};
this.getDtaForVidByIdx=function(c){var d=this.channelDta.video[c];
return{clipName:d.clipName,length_hms:d.length_hms,"abstract":d["abstract"],relatedTitle:d.relatedTitle,relatedUrl:d.relatedUrl}
}
})();
b.setChannelDta(a);
return b
};
if(typeof SNI.Player=="undefined"){SNI.Player={}
}SNI.Player.SNAPHTML5=(function(a){return new function(){var b=this;
b.state={curVidIdx:0,playcount:0,embed:false,playbackQ:[]};
b.data={};
b.data.eff={cfgArgs:{},config:{},styles:{},Omniture:{},channel:{}};
b.data.extrn={};
b.data.defa={config:{enableSubscriberAuth:false,enableHomePageMode:false,playerSize:"",showCarousel:true,fullscreen:true,autoPlay:false,overrideAutoplay:false,enableRepeateMode:true,enableNextVideoOverlay:true,enableRelatedInfoIcon:true,enableStaticOverlayPlayIcon:true,enableNowPlayingOverlay:true,omnitureConfig:"",omnitureVersion:"default",shuffle:false,showPlaylistTitle:true,showAds:true,enableShare:true,enableEmail:true,enableRelatedMenu:true,showMenuButton:true,enableInteractiveMenu:false,enableAutoOpenInteractiveSteps:false,interactiveDataURL:"data/",showEmbedMenu:true,moreVideoURL:"http://www.foodnetwork.com/video-library/index.html",relatedOverlayDelay:"2",relatedOverlayInitialOpenTime:"4",enableEndFrame:false,endFrameText:"",endFrameURL:"",vendorsURL:"",jsSurveyHandler:"",convivaServiceURL:"",convivaCustomerId:"",email:{server:"http://www.foodnetwork.com/app/emailservice/sendEmail.html",params:{senderEmail:"from_email",senderName:"from_name",recipient:"to_emails",subject:"subject",message:"body",securityToken:"security_token"},paramValues:{securityToken:"68-91-143-161-245-213-218-70-154-90-195-249-151-254-139-24-214-245-53-141-94-96-245-11",senderEmail:"donotreply@foodnetwork.com"},texts:{subject:"$$SENDER_NAME$$ has sent you a FoodNetwork.com video",message:"$$SENDER_NAME$$ thought you might enjoy this FoodNetwork.com video:\n$$VIDEO_TITLE$$\n$$VIDEO_URL$$.\n\n$$COMMENTS$$\nView more FoodNetwork.com videos at http://www.foodnetwork.com/video-library/",comments:"Comments from $$SENDER_NAME$$:\n$$USER_MESSAGE$$"}}},styles:{config:{textButton:{bg:{normal:"",hover:"",press:"",disabled:""},textColors:{normal:"#81092C",hover:"#FF0012",press:"#FF0012",disabled:"#999999"}},playlistCarousel:{rightArrow:{normal:"",hover:"",press:"",disabled:""},leftArrow:{normal:"",hover:"",press:"",disabled:""},isBackground:false,bgURL:"",thumbnailBorder:"small",textColors:{normal:"#006699",hover:"#990000",selected:"#999999",secondary:"#CCCCCC"},borderColors:{normal:"#999999",hover:"#990000",selected:"#FFD65D"},paginationIcon:{normal:"",selected:""},paginationText:{color:"#000000",size:"11",font:"Trebuchet"},playlistTitle:{color:"#000000",font:"Trebuchet",size:"14"}},controlButtons:{buttonColors:{normal:"#454545",hover:"#b50938",press:"#6B0521",disabled:"#CCCCCC"}},overlayMenu:{textColors:{title:"#B50938",secondary:"#666666",body:"#FFFFFF"}},recallButton:{normal:"",hover:"",press:""},closeButton:{normal:"",hover:"",press:""},endFrameTextColor:"#53A8D5",endFrameHoverColor:"#53A8D5"}},Omniture:{accountName:"scrippsfoodnetnew",trackingServer:"sa.foodnetwork.com",vars:{variable:[{name:"Channel","default":""},{name:"Brand","default":"scrippsfoodnetnew"},{name:"PlayerName","default":"SNAP"},{name:"SiteID","default":"FOODNETWORK"},{name:"SlotNumber","default":""},{name:"OriginalSite","default":""},{name:"VideoTitle","default":""},{name:"PlayType","default":""},{name:"LCStation","default":""},{name:"DARTStation","default":""},{name:"PlayerAction","default":"PUP Video Play"},{name:"AssetID","default":""},{name:"VideoSearchKeyword","default":""},{name:"VideoScreenType","default":""},{name:"Sponsor","default":""},{name:"ShowName","default":""},{name:"MVPDId","default":""},{name:"Duration","default":""}]},formats:{customVars:{props:{prop:[{number:"4",value:"$PlayerAction$"},{number:"37",value:"$VideoTitle$"},{number:"38",value:"$VideoTitle$"}]},eVars:{eVar:[{number:"21",value:"$PlayerAction$"},{number:"22",value:"$VideoTitle$"},{number:"23",value:"$ShowName$"},{number:"24",value:"$PlayerName$"},{number:"25",value:"$Channel$"},{number:"26",value:"$MVPDId$"},{number:"27",value:"$OriginalSite$"},{number:"28",value:"$PlayType$"},{number:"29",value:"$DARTStation$"},{number:"30",value:"$AssetID$"},{number:"33",value:"$Duration$"},{number:"34",value:"$VideoScreenType$"},{number:"35",value:"$Sponsor$"},{number:"39",value:"$PlayerAction$"}]},hiers:{hier:[{number:"1",value:"$Brand$|$PlayerName$|$Channel$|$VideoTitle$"}]}}},events:{event:[{number:"2",name:"VideoAdStart"},{number:"3",name:"VideoAdStart2"},{number:"4",name:"VideoAdComplete"},{number:"5",name:"VideoContentStart"},{number:"6",name:"VideoContent10%"},{number:"7",name:"VideoContent50%"},{number:"8",name:"VideoContent90%"},{number:"9",name:"VideoContent100%"},{number:"51",name:"VideoNotFound"},{number:"63",name:"VideoPause"},{number:"64",name:"VideoResume"},{number:"65",name:"VideoMenuOpen"},{number:"66",name:"VideoFullScreenOpen"}]}},ads:{}};
b.Util={cleanStrForAdParam:function(c){return c.replace(/[^a-zA-Z0-9]/g,"_")
},sss2mmmdec:function(c){return Math.round(100*c/60,0).toString().replace(/(\d*)(\d\d)$/,"$1_$2")
},hhmmss2sss:function(d){var c=0;
a.each(d.split(":"),function(f,e){c*=60;
c+=+e
});
return c
},boolify:function(c){if(typeof c==="object"){a.each(Object.getOwnPropertyNames(c),function(e,d){if(typeof c[d]==="string"){if(c[d].toLowerCase()=="true"){c[d]=true
}else{if(c[d].toLowerCase()=="false"){c[d]=false
}}}})
}return
},getCORSProxyURL:function(c){return c
},fixStrForXML:function(c){c=a.trim(c);
if(/up:channel/.test(c)){if(c.search(/<title>\s*<!\[CDATA\[.*\]\]>\s*<\/title>/)==-1){c=c.replace(/<title>(.+?)<\/title>/,"<title><![CDATA[$1]]></title>")
}if(c.search(/<psaPlayerTitle>\s*<!\[CDATA\[.*\]\]>\s*<\/psaPlayerTitle>/)==-1){c=c.replace(/<psaPlayerTitle>(.+?)<\/psaPlayerTitle>/,"<psaPlayerTitle><![CDATA[$1]]></psaPlayerTitle>")
}}return c
},parseXML:function(f){var c="";
try{if(window.DOMParser){parser=new DOMParser();
c=parser.parseFromString(f,"text/xml")
}else{if(window.ActiveXObject){c=new ActiveXObject("Microsoft.XMLDOM");
c.loadXML(f)
}}}catch(d){}return c
},deviceAutoPlay:function(){return !/iphone|ipad|ipod/i.test(window.navigator.userAgent)
},getAdDescriptorURL:function(){var c="";
if(typeof getDartEnterpriseUrl==="function"){c=getDartEnterpriseUrl("VIDEO_XML_DESCRIPTOR",1)
}if(c.length==0){c="http://adsremote.scrippsnetworks.com/html.ng/site=FOOD&adtype=VIDEO_XML_DESCRIPTOR&Pagepos=1"
}var d="";
if(b.state.embed){d="&embed=true"
}return[c,"&","channelid=",b.state.channelId,"&","duration=",b.Util.sss2mmmdec(b.data.eff.channel.video[0].length_sss),"&","snapDivId=",b.state.containerID,"&","psaPlayerId=",b.data.eff.channel.playerId,"&","psaPlayerTitle=",b.Util.cleanStrForAdParam(b.data.eff.channel.psaPlayerTitle),"&","playertype=",b.state.playertype,"&","domain=",escape(window.location.href.toString()),"&","playerSize=",b.state.playerSize,"&","playerWidth=",b.state.dimensions.width,"&","rand=",(new Date()).valueOf().toString(),d].join("")
},getAdURLbyType:function(e){if(!!SNI.Config.DEBUG&&!!SNI.Config.DEBUG.cannedAds){return"/sites/sandbox/video/content/ads/cc_VAST_tmp.xml"
}var c="";
if(typeof getDartEnterpriseUrl==="function"){c=getDartEnterpriseUrl(e,1)
}if(c.length==0){c="http://adsremote.scrippsnetworks.com/html.ng/site=FOOD&adtype="+e+" &Pagepos=1"
}var d="";
if(b.state.embed){d="&embed=true"
}return[c,"&","playcount=",b.state.playcount,"&","playertype=",b.state.playertype,"&","title=",b.Util.cleanStrForAdParam(b.data.eff.channel.video[b.state.curVidIdx].clipName),"&","channelid=",b.state.channelId,"&","videoid=",b.data.eff.channel.video[b.state.curVidIdx].videoId,"&","psaPlayerId=",b.data.eff.channel.playerId,"&","psaPlayerTitle=",b.Util.cleanStrForAdParam(b.data.eff.channel.psaPlayerTitle),"&","snapDivId=",b.state.containerID,"&","domain=",escape(window.location.href.toString()),"&","duration=",b.data.eff.channel.video[b.state.curVidIdx].length_sss,"&","playerSize=",b.state.playerSize,"&","playerWidth=",b.state.dimensions.width,"&","rand=",(new Date()).valueOf().toString(),d].join("")
},getHLSvidURL:function(c){return"http://sni-i.akamaihd.net/i/"+c.substr(0,4)+"/"+c+"_,1,2,3,4,5,.mp4.csmil/master.m3u8"
},getVideoUrlForDevice:function(c){var d=c.videoUrl;
if(SNI.Player.wantsHTML5()){d=b.Util.getHLSvidURL(c.assetId)
}else{if(!!SNI.Config.DEBUG){SNI.Config.DEBUG.fmt=SNI.Config.DEBUG.fmt||"";
if(SNI.Config.DEBUG.fmt==="prog"){if(/safari/i.test(window.navigator.userAgent.toString().toLowerCase())){d=window.location.protocol+"//"+window.location.host+location.pathname.match(/(.*?)[^\/]*$/)[1]+"assets/static/"+c.videoId+".mp4"
}else{if(/firefox/i.test(window.navigator.userAgent.toString().toLowerCase())){d=window.location.protocol+"//"+window.location.host+location.pathname.match(/(.*?)[^\/]*$/)[1]+"assets/static/"+c.videoId+".ogg"
}}}else{if(SNI.Config.DEBUG.fmt==="allHLS"){d=b.Util.getHLSvidURL(c.assetId)
}}}}return d
},parseXMLtoObj:function(e,f,c){if(!a.isXMLDoc(e)){}else{var d=e.documentElement.localName;
console.log("parseXMLtoObj: "+d);
if(typeof f[d]!="object"){f[d]={}
}a.extend(f[d],a.xml2json(e));
if(typeof c=="function"){c()
}return
}},loadXML:function(c){function d(f,e){if(e==="success"){try{b.Util.parseXMLtoObj(a.parseXML(b.Util.fixStrForXML(f.responseText)),c.tgt||b,c.postProc)
}finally{a(b).trigger(c.ctrlID);
return
}}}a.ajax({url:c.url,dataType:"text",complete:d});
return
},pixelBeacon:function(c){c.forEach(function(d){(new Image()).src=d
});
return
},getVidImageForHeight:function(d,f,c){if(typeof f!="number"){f=500
}if(typeof c!="string"){c=""
}var g=[[92,69],[120,90],[160,120],[266,200],[400,300],[480,360],[616,462]];
var e=0;
while(!!g[e+1]&&g[e][1]<f){++e
}return c+"/up/images/"+d.substr(0,4)+"/"+d+"_"+g[e][0]+"x"+g[e][1]+".jpg"
},getVideoMissingHTML:function(){return'<div><p>Oops!  We\'re sorry, but this video is not available for your location or device.  Select <a href="/food-network-top-food-videos/videos/index.html">here</a> to browse our top videos.</p></div>'
},getLoadingHTML:function(){return'<div><p>Your video is loading.</p><span class="prog"></span></div><script>(function(O){O.Util.progressBar(O.VPlayer.UI.jVidWrap.find(".vid-over div span.prog"));})(SNI.Player.SNAPHTML5);<\/script>'
},getEndframeHTML:function(){return'<div><p>Select <a href="#" class="r">here</a> to restart this playlist</p><p>or <a href="/food-network-top-food-videos/videos/index.html">here</a> to browse our top videos.</p></div><script>(function(O){O.VPlayer.UI.jVidWrap.find(".vid-over div a.r").bind(O.Util.getUIselectEvent(), function() { O.state.curVidIdx= 0; O.VPlayer.Playlist.readyToPlayVid(); return false;}).click(function(){return false;})})(SNI.Player.SNAPHTML5);<\/script>'
},getUIselectEvent:function(c){if(typeof c==="undefined"){c=""
}else{c="."+c
}return(("ontouchend" in document?"touchend":"mouseup")+c)
},progressBar:function(c){a(c).bind("transitionend webkitTransitionEnd oTransitionEnd",function(d){a(d.target).toggleClass("on")
});
setTimeout(function(){a(c).addClass("on")
},500)
}};
b.StartUp={Tasks:{prepCfgArgsState:function(c){b.data.extrn.cfgArgs=c.cfgArgs;
a.extend(b.data.eff.cfgArgs,b.data.extrn.cfgArgs);
b.state.channelId=b.data.eff.cfgArgs.channel;
delete b.data.eff.cfgArgs.channel;
b.state.channelUrl=b.data.eff.cfgArgs.channelurl;
delete b.data.eff.cfgArgs.channelurl;
b.state.configFiles=b.data.eff.cfgArgs.config.split(",");
delete b.data.eff.cfgArgs.config;
b.state.containerID=b.data.eff.cfgArgs.snapDivId;
delete b.data.eff.cfgArgs.snapDivId;
b.state.playerSize=b.data.eff.cfgArgs.playerSize;
delete b.data.eff.cfgArgs.playerSize;
b.state.playertype=mdManager.getParameter("VideoPlayer");
b.state.dimensions=c.dimensions;
b.state.enableSyncAdFix=c.enableSyncAdFix;
b.state.videoId=b.data.eff.cfgArgs.videoId;
delete b.data.eff.cfgArgs.videoId;
delete b.data.eff.cfgArgs.minimumFlashVersion;
b.Util.boolify(b.data.eff.cfgArgs);
return
},prepPlaylist:function(){b.data.eff.channel={};
a.extend(true,b.data.eff.channel,b.data.extrn.channel);
if(!a.isArray(b.data.eff.channel.video)){b.data.eff.channel.video=[b.data.eff.channel.video]
}a.each(b.data.eff.channel.video,function(d,c){c.length_sss=b.Util.hhmmss2sss(c.length);
c.length_hms=SNI.Util.hhmmssClean(c.length);
c.cmpnRunTimes_sss=[];
if(typeof c.cmpnRunTimes!="undefined"){a.each(c.cmpnRunTimes.split(","),function(e,f){c.cmpnRunTimes_sss.push(b.Util.hhmmss2sss(f))
})
}c.videoUrl_eff=b.Util.getVideoUrlForDevice(c)
});
return
},loadPlaylist:function(){console.log(">> loading Playlist");
b.Util.loadXML({url:b.Util.getCORSProxyURL(b.state.channelUrl),tgt:b.data.extrn,postProc:this.prepPlaylist,ctrlID:"playlistLoaded"});
return
},prepConfig:function(){console.log("prepConfig");
a.extend(b.data.eff.config,b.data.defa.config,b.data.extrn.config);
b.Util.boolify(b.data.eff.config);
a.extend(b.data.eff.config,b.data.eff.cfgArgs);
return
},loadConfig:function(){console.log(">> loading Config");
b.Util.loadXML({url:b.state.configGenl,tgt:b.data.extrn,postProc:this.prepConfig,ctrlID:"configLoaded"});
return
},prepStyles:function(){console.log("prepConfig");
a.extend(b.data.eff.styles,b.data.defa.styles,b.data.extrn.styles);
return
},loadStyles:function(){console.log(">> loading Styles");
b.data.extrn.styles={};
b.Util.loadXML({url:b.state.configStyles,tgt:b.data.extrn.styles,postProc:this.prepStyles,ctrlID:"stylesLoaded"});
return
},loadOmniture:function(){console.log(">> loading Omniture");
if(typeof b.data.extrn.Omniture=="undefined"&&typeof b.data.extrn.config.omnitureConfig=="string"&&b.data.extrn.config.omnitureConfig.length>0){b.Util.loadXML({url:b.data.extrn.config.omnitureConfig,tgt:b.data.extrn,postProc:null,ctrlID:"omnitureLoaded"})
}return
},procAdDesc:function(){var d=b.data.eff.ads={};
var e=b.data.extrn.ads.video_descriptor;
b.Util.boolify(e.autoplay);
if(b.data.eff.config.overrideAutoplay&&(typeof e.autoplay.value==="boolean")){b.data.eff.config.autoPlay=e.autoplay.value
}e=e.ads.ad;
if(!a.isArray(e)){e=[e]
}for(var c=0;
c<e.length;
c++){if(e[c].template.toLowerCase()=="preroll"){d.preroll=true
}else{if(e[c].template.toLowerCase()=="overlay"){d.overlay={}
}else{if(e[c].template.toLowerCase()=="midroll"){}else{if(e[c].template.toLowerCase()=="postroll"){}}}}}return
},loadAdDesc:function(){console.log(">> loading Ad Desc");
b.data.extrn.ads={};
if(b.data.eff.config.showAds){b.Util.loadXML({url:b.Util.getAdDescriptorURL(),tgt:b.data.extrn.ads,postProc:this.procAdDesc,ctrlID:"adDescLoaded"})
}else{a(b).trigger("adDescLoaded")
}return
}},Controller:{init:function(){var e=[];
var c=["initialLoad","playlistLoaded","configLoaded","stylesLoaded","omnitureLoaded","adDescLoaded"];
var l=["playlistLoaded","adDescLoaded"];
var k=c;
function d(y,x){var A=[];
if(typeof y==="string"){A.push(y)
}else{if(a.isArray(y)){A=y
}else{return false
}}var z=true;
a.each(A,function(C,B){z=z&&(e.indexOf(B)>-1)
});
if(z){x()
}}function q(){console.log("attaching events");
a(b).bind({initialLoad:n,doLoadPlaylist:f,doLoadConfig:v,doLoadStyles:h,doLoadOmniture:r,doLoadAdDesc:m,playlistLoaded:g,configLoaded:o,stylesLoaded:u,omnitureLoaded:p,adDescLoaded:j,allInitLoaded:t,adLoaded:w,loadNewPlaylist:s});
return
}function n(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
a(b).trigger("doLoadPlaylist");
a(b).trigger("doLoadConfig");
a(b).trigger("doLoadStyles");
return
}function s(x){e=["initialLoad","configLoaded","stylesLoaded","omnitureLoaded"];
k=l;
a(b).trigger("doLoadPlaylist");
return
}function f(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadPlaylist();
return
}function v(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadConfig();
return
}function h(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadStyles();
return
}function r(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadOmniture();
return
}function m(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.StartUp.Tasks.loadAdDesc();
return
}function g(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
d("configLoaded",function(){a(b).trigger("doLoadAdDesc")
});
d(k,function(){b.initPlay()
});
return
}function o(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
a(b).trigger("doLoadOmniture");
d("playlistLoaded",function(){a(b).trigger("doLoadAdDesc")
});
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function u(x){console.log("C>>  "+x.type+" "+x.timeStamp);
e.push(x.type);
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function p(x){console.log("C>>  "+x.type);
e.push(x.type);
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function j(x){console.log("C>>  "+x.type);
e.push(x.type);
d(k,function(){a(b).trigger("allInitLoaded")
});
return
}function t(x){console.log("C>>  "+x.type+" "+x.timeStamp);
b.initPlay();
return true
}function w(x){b.Ads.runAd();
return
}console.log("initializing events");
q();
return
}}};
b.VPlayer=(function(){return{UI:{itmsPerPanel:4},Playlist:{init:function(){bReload=(typeof b.VPlayer.UI.jPlayerWrap==="object");
if(!bReload){b.VPlayer.UI.jOuterWrap=a("#"+b.state.containerID);
b.VPlayer.UI.jOuterWrap.attr("id",b.state.containerID+"-instance").attr("class",b.state.playerSize.toLowerCase());
b.VPlayer.UI.jOuterWrap.empty().append('<div class="vid-html"></div>');
b.VPlayer.UI.jPlayerWrap=b.VPlayer.UI.jOuterWrap.find(".vid-html")
}if(b.data.eff.config.showCarousel){if(bReload){b.VPlayer.UI.jChNav.remove()
}b.VPlayer.Playlist.fmtCarousel();
b.VPlayer.Playlist.initPlaylistController()
}if(!bReload){b.VPlayer.VidElt.init()
}b.VPlayer.Playlist.findSelectedVid();
b.VPlayer.Playlist.readyToPlayVid(true);
return
},fmtCarousel:function(){var f=this;
var e=function(){var k=b.VPlayer.UI.itmsPerPanel;
var j=0;
var h=b.data.eff.channel.video.length;
var g=function(){return function(n,o){return o(++j%k==1?'<div class="item">':"")
}
};
var m=function(){return function(n,o){return o((j%k==0)||(j==h)?"</div>":"")
}
};
var l=function(){return function(n,o){return o(""+(j-1))
}
};
return{itmOpen:g,itmClose:m,itmIdx:l}
}();
var c=['<div class="tab-pane fade in active" id="tab1">','<div class="crsl vert" id="carousel-mixed-content-promo" data-nav="indices" data-scale="false">',"{{#video}}","{{#itmOpen}}{{/itmOpen}}",'<div class="group" data-vid="{{videoId}}" data-idx="{{#itmIdx}}{{/itmIdx}}">','<a href="#" class="ico-wrap label-wrap">','<div class="pillarbox">','<div class="lazy-img" width="96" height="71">{{thumbnailUrl}}</div>','<span class="ico"><i class="ss-play"></i></span>','<span class="caret"></span>',"</div>","<span><h6>{{clipName}}</h6>{{#length_hms}}<cite>&nbsp;({{length_hms}})</cite>{{/length_hms}}</span>","</a>","</div>","{{#itmClose}}{{/itmClose}}","{{/video}}","</div>","</div>"].join("");
var d=Mustache.render(c,a.extend({},b.data.eff.channel,e));
b.VPlayer.UI.jOuterWrap.append(d);
b.VPlayer.UI.jChNav=a("#ch-nav");
b.VPlayer.UI.jCrsl=b.VPlayer.UI.jOuterWrap.find(".crsl");
SNI.Food.Carousel({wrapper:b.VPlayer.UI.jCrsl,controlNavigation:b.VPlayer.UI.jCrsl.data("nav"),variation:b.VPlayer.UI.jCrsl.data("variation"),allowCSS3:(a.browser.msie&&a.browser.version==10)?false:true});
b.VPlayer.UI.RS=b.VPlayer.UI.jCrsl.data("royalSlider");
b.VPlayer.UI.jCrsl.addClass("carousel-show");
return
},updtCrslUI:function(){b.VPlayer.UI.RS.slidesJQ.forEach(function(d,e,c){d.find(".group.sel").removeClass("sel")
});
b.VPlayer.UI.jCrsl.find(".group").eq(b.state.curVidIdx%b.VPlayer.UI.itmsPerPanel).addClass("sel")
},updtCrslForIdx:function(d){var c=Math.floor(d/b.VPlayer.UI.itmsPerPanel);
if(b.VPlayer.UI.RS.currSlideId!=c){b.VPlayer.UI.RS.goTo(c);
b.VPlayer.UI.RS.slides[c].holder.one("rsAfterContentSet",b.VPlayer.Playlist.updtCrslUI)
}else{if(b.VPlayer.UI.jCrsl.find(".group").length==0){b.VPlayer.UI.RS.slides[c].holder.one("rsAfterContentSet",b.VPlayer.Playlist.updtCrslUI)
}else{b.VPlayer.Playlist.updtCrslUI()
}}},initPlaylistController:function(){function c(e){var d=a(e.currentTarget);
if(!d.hasClass("sel")){b.state.curVidIdx=d.attr("data-idx");
b.VPlayer.Playlist.readyToPlayVid()
}e.preventDefault()
}b.VPlayer.UI.jCrsl.on("click",".group",c)
},playNext:function(){if(b.state.curVidIdx<b.data.eff.channel.video.length-1){++b.state.curVidIdx;
b.VPlayer.Playlist.readyToPlayVid()
}else{b.VPlayer.UI.jVidElt.one("canplay",function(){b.VPlayer.VidElt.removeOverlay()
});
if(b.VPlayer.UI.dVidElt.webkitDisplayingFullscreen){b.VPlayer.UI.dVidElt.webkitExitFullscreen()
}b.VPlayer.VidElt.showOverlay(b.Util.getEndframeHTML(),"endframe")
}return
},playVideoByIdx:function(c){b.state.mode="content";
b.VPlayer.UI.jVidElt.trigger("playVideoByUrlSNI",{url:b.data.eff.channel.video[b.state.curVidIdx].videoUrl_eff,mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
},findSelectedVid:function(){if(b.state.videoId){a.each(b.data.eff.channel.video,function(d,c){if(c.videoId==b.state.videoId){b.state.curVidIdx=d;
return false
}})
}return
},readyToPlayVid:function(c){if(b.data.eff.config.showCarousel){b.VPlayer.Playlist.updtCrslForIdx(b.state.curVidIdx)
}b.Analytics.prepVideo();
b.state.playbackQ=[b.VPlayer.Playlist.playNext];
if(!b.data.eff.config.autoPlay||!b.Util.deviceAutoPlay()){b.VPlayer.VidElt.setPosterForVideo()
}if(c&&!b.data.eff.config.autoPlay&&b.Util.deviceAutoPlay()){b.VPlayer.UI.jVidElt.one("play.start",b.VPlayer.Playlist.playVid)
}if(!!b.state.enableSyncAdFix&&(!b.data.eff.config.autoPlay||!b.data.eff.ads.preroll||!b.Util.deviceAutoPlay())&&(typeof setDefaultBigboxAd==="function")){setDefaultBigboxAd();
b.state.enableSyncAdFix=false
}if(!c||b.data.eff.config.autoPlay||!b.Util.deviceAutoPlay()){b.VPlayer.UI.jVidElt.unbind("play.start");
b.VPlayer.Playlist.playVid()
}return
},playVid:function(){b.state.playcount++;
var c=(function(d){return function(){b.VPlayer.Playlist.playVideoByIdx(d)
}
})(b.state.curVidIdx);
if(b.data.eff.config.showAds&&b.data.eff.ads.preroll){b.state.playbackQ.push(c);
b.Ads.doPreroll()
}else{c()
}return
}},VidElt:{init:function(){b.VPlayer.UI.jPlayerWrap.prepend('<div class="vid-wrap"><video></video></div>');
b.VPlayer.UI.jVidWrap=b.VPlayer.UI.jOuterWrap.find(".vid-wrap");
b.VPlayer.UI.jVidElt=b.VPlayer.UI.jOuterWrap.find("video");
b.VPlayer.UI.dVidElt=b.VPlayer.UI.jVidElt.get(0);
b.VPlayer.UI.jVidElt.attr("controls","controls");
this.initMediaController();
if(typeof b.data.extrn.cfgArgs.userEventHandler==="function"){b.TVL.UIevents()
}return
},setPosterForVideo:function(){b.VPlayer.UI.jVidElt.attr("poster",b.Util.getVidImageForHeight(b.data.eff.channel.video[b.state.curVidIdx].assetId,b.VPlayer.UI.jVidElt.height(),b.data.eff.channel.video[b.state.curVidIdx].thumbnailUrl.match(/http:\/\/[^\/]*/)[0]));
return
},showOverlay:function(c,d){if(b.VPlayer.UI.jVidWrap.children(".vid-over").length==0){b.VPlayer.UI.jVidWrap.prepend("<div class='vid-over'></div>")
}if(b.VPlayer.UI.jVidWrap.children(".vid-over").attr("data-msg")!=d){b.VPlayer.UI.jVidWrap.children(".vid-over").html(c).attr("data-msg",d);
b.VPlayer.UI.jVidWrap.addClass("overlay")
}return
},removeOverlay:function(){if(b.VPlayer.UI.dVidElt.src){b.VPlayer.UI.jVidWrap.removeClass("overlay");
b.VPlayer.UI.jVidWrap.children(".vid-over").empty().removeAttr("data-msg");
return
}},initMediaController:function(){var z=b.VPlayer.UI.jVidElt;
var f=b.VPlayer.UI.dVidElt;
var t=0;
z.bind({play:u,pause:B,loadstart:j,loadedmetadata:D,loadeddata:m,canplay:A,canplaythrough:h,ended:C,playing:s,seeking:n,seeked:e,durationchange:k,progress:d,timeupdate:y,suspend:w,abort:x,error:l,emptied:p,stalled:v,waiting:o,togglePlaySNI:c,goTimeSNI:r,playVideoByUrlSNI:q,startedSNI:E,completeSNI:g});
function u(){console.log("M: video play event")
}function B(){console.log("M: video pause event")
}function j(){console.log("M: video loadstart event")
}function D(){console.log("M: video loadedmetadata event");
console.log("vid elt w/h "+a("video").width()+" / "+a("video").height()+" media w/h "+a("video")[0].videoWidth+" / "+a("video")[0].videoHeight)
}function m(){console.log("M: video loadeddata event")
}function A(){console.log("M: video canplay event");
if(f.src==""){f.pause()
}}function h(){console.log("M: video canplaythrough event |"+f.src+"|")
}function s(){console.log("M: video playing event")
}function n(){console.log("M: video seeking event")
}function e(){console.log("M: video seeked event")
}function k(){console.log("M: video durationchange event >>"+f.duration)
}function d(){console.log("M: video progress event")
}function y(){}function C(){console.log("M: video ended event");
f.pause();
z.trigger("completeSNI",{mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}function w(){console.log("M: suspend event")
}function x(){console.log("M: abort event")
}function l(F){console.log("M: error event "+(f.error?f.error.code:"")+" "+f.networkState);
if(!!f.error&&f.error.code==f.error.MEDIA_ERR_SRC_NOT_SUPPORTED&&f.networkState==f.NETWORK_NO_SOURCE){if(f.webkitDisplayingFullscreen){f.webkitExitFullscreen()
}z.one("startedSNI",function(){b.VPlayer.VidElt.removeOverlay()
});
b.VPlayer.VidElt.showOverlay(b.Util.getVideoMissingHTML(),"missing")
}else{z.attr("poster","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==")
}}function p(){console.log("M: emptied event")
}function v(){console.log("M: stalled event");
if((f.duration-f.currentTime)<0.1){f.pause();
z.trigger("completeSNI",{mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}}function o(){console.log("M: waiting event")
}function c(F){console.log("M: catch toggle play/pause")
}function r(F,G){console.log("M: catch go to time offset "+G.os)
}function E(F,G){console.log("M: catch custom SNI started handler: "+G.mode);
return
}function g(F,G){console.log("M: catch custom SNI complete handler: mode: |"+G.mode+"|  src: |"+z.attr("src")+"|");
if(b.state.mode){b.state.mode="";
z.removeAttr("src");
f.pause();
if(b.state.playbackQ.length>0){z.one("startedSNI",function(){b.VPlayer.VidElt.removeOverlay()
});
b.VPlayer.VidElt.showOverlay(b.Util.getLoadingHTML(),"loading");
(b.state.playbackQ.pop())()
}}return
}function q(F,G){console.log("M: catch custom SNI play video by URL handler "+G.url);
z.unbind(".vid");
console.log("binding custom startedSNI");
z.one("playing",function(){console.log("triggering custom play->startedSNI networkstate: "+f.networkState);
if(!f.error&&f.networkState!=f.NETWORK_NO_SOURCE){z.trigger("startedSNI",{mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}});
b.VPlayer.VidElt.playVideoByUrl(G.url);
return
}},playVideoByUrl:function(c){console.log("M: loading new "+c);
b.VPlayer.UI.dVidElt.src=c;
b.VPlayer.UI.dVidElt.load();
b.VPlayer.UI.dVidElt.play();
return
}},init:function(){this.Playlist.init();
return
}}
})();
b.Ads=(function(){return new function(){var f=this;
var e=function(){var j=b.Util.getAdURLbyType("preroll");
b.data.extrn.ads.cur={};
delete b.data.eff.ads.cur;
b.Util.loadXML({url:j,tgt:b.data.extrn.ads.cur,ctrlID:"adLoaded",postProc:function(){b.Ads.parseAd()
}})
};
f.doPreroll=e;
var g=function(){var j={};
try{var n,m,k;
var l=b.data.extrn.ads.cur.VAST.Ad.InLine.Creatives.Creative;
for(n=0;
n<l.length;
n++){if(typeof l[n].Linear!="undefined"){k=l[n].Linear.MediaFiles.MediaFile;
if(!a.isArray(k)){k=[k]
}for(m=0;
m<k.length;
m++){if((new RegExp(b.state.adMediaFmt)).test(k[m].type)){j.video=k[m].text;
break
}}j.dur=b.Util.hhmmss2sss(l[n].Linear.Duration);
if((typeof l[n].Linear.TrackingEvents!="undefined")&&(typeof l[n].Linear.TrackingEvents.Tracking!="undefined")){k=l[n].Linear.TrackingEvents.Tracking;
if(!a.isArray(k)){k=[k]
}j.tracking={};
for(m=0;
m<k.length;
m++){if(typeof k[m].text==="string"){j.tracking[k[m].event]=k[m].text
}}}}else{if(typeof l[n].CompanionAds!="undefined"){var k=l[n].CompanionAds.Companion;
j.sync=k.IFrameResource
}}}l=b.data.extrn.ads.cur.VAST.Ad.InLine;
if(typeof l.Impression!="undefined"){if(!a.isArray(l.Impression)){l.Impression=[l.Impression]
}j.impression=[];
l.Impression.forEach(function(o){if(o.toString()!=""){j.impression.push(o.toString())
}})
}}finally{b.data.eff.ads.cur=j;
return
}};
f.parseAd=g;
var h=function(){try{if(typeof b.data.eff.ads.cur.video!=="string"){throw"noVideo"
}b.VPlayer.UI.jVidElt.trigger("pause");
b.state.mode="ad";
b.VPlayer.UI.jVidElt.unbind(".ads");
b.VPlayer.UI.jVidElt.one("play.ads",function(){if(!b.VPlayer.UI.dVidElt.webkitDisplayingFullscreen){setDartEnterpriseBanner("BIGBOX",SNI.Player.SNAPHTML5.data.eff.ads.cur.sync)
}});
d();
b.VPlayer.UI.jVidElt.trigger("playVideoByUrlSNI",{url:b.data.eff.ads.cur.video,mode:b.state.mode,channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
}catch(j){b.VPlayer.UI.jVidElt.unbind(".ads");
(b.state.playbackQ.pop())()
}finally{return
}};
f.runAd=h;
var c=[];
f.trackpts=c;
var d=function(){var k=b.VPlayer.UI.jVidElt;
c=[];
function j(m){var n,l=b.VPlayer.UI.dVidElt.currentTime;
while(c.length>0&&c[0].sss<l){n=c.shift();
b.Util.pixelBeacon(n.urls)
}return
}if(!!b.data.eff.ads.cur.impression||!!b.data.eff.ads.cur.tracking.start){k.one("play.ads",(function(l){return function(){b.Util.pixelBeacon(l);
return
}
})([].concat(b.data.eff.ads.cur.impression||[]).concat([b.data.eff.ads.cur.tracking.start]||[])))
}if(!!b.data.eff.ads.cur.tracking.complete){k.one("completeSNI.ads",(function(l){return function(){b.Util.pixelBeacon(l);
k.unbind(".ads");
return
}
})([b.data.eff.ads.cur.tracking.complete]))
}if(!!b.data.eff.ads.cur.tracking.midpoint){c.push({sss:b.data.eff.ads.cur.dur*0.5,urls:[b.data.eff.ads.cur.tracking.midpoint]})
}if(!!b.data.eff.ads.cur.tracking.firstQuartile){c.push({sss:b.data.eff.ads.cur.dur*0.25,urls:[b.data.eff.ads.cur.tracking.firstQuartile]})
}if(!!b.data.eff.ads.cur.tracking.thirdQuartile){c.push({sss:b.data.eff.ads.cur.dur*0.75,urls:[b.data.eff.ads.cur.tracking.thirdQuartile]})
}if(c.length>0){c=c.sort(function(m,l){return m.sss-l.sss
});
k.bind("timeupdate.ads",j)
}return
}
}
})();
b.Analytics=(function(){return new function(){var j=this;
var p,n;
var g=[];
if(!b.state.embed){g=[{internalName:"VideoSelect",eVars:[21,22,23,24,25,27,28,29,30,33,34,35],props:[37,38],hiers:[1]},{internalName:"VideoAdStart",cfgNames:["VideoAdStart","VideoAdStart2"]},{internalName:"VideoAdComplete"},{internalName:"VideoContentStart"},{internalName:"VideoContentComplete",cfgNames:["VideoContent100%"]},{internalName:"VideoNotFound"},{internalName:"VideoPause"},{internalName:"VideoResume"},{internalName:"VideoScrollLft",eVars:[39],props:[4]},{internalName:"VideoScrollRt",eVars:[39],props:[4]}]
}else{g=[{internalName:"VideoSelect",eVars:[27,28,33,34,35],props:[37,38],hiers:[1]},{internalName:"VideoPause"},{internalName:"VideoResume"}]
}j.ThingsToTrack=g;
var f={saved:[],working:[]};
j.trackpts=f;
var o=function(){p=a.isEmptyObject(b.data.extrn.Omniture)?b.data.defa.Omniture:b.data.extrn.Omniture;
n=b.data.eff.Omniture;
n.accountName=p.accountName;
n.trackingServer=p.trackingServer;
n.vars={};
if(!a.isArray(p.vars.variable)){p.vars.variable=[p.vars.variable]
}a.each(p.vars.variable,function(s,t){n.vars[t.name]={cur:"",defa:t["default"]}
});
n.evars={};
if(!a.isArray(p.formats.customVars.eVars.eVar)){p.formats.customVars.eVars.eVar=[p.formats.customVars.eVars.eVar]
}a.each(p.formats.customVars.eVars.eVar,function(s,t){n.evars[t.number]={cur:"",templ:t.text}
});
n.props={};
if(!a.isArray(p.formats.customVars.props.prop)){p.formats.customVars.props.prop=[p.formats.customVars.props.prop]
}a.each(p.formats.customVars.props.prop,function(s,t){n.props[t.number]={cur:"",templ:t.text}
});
n.hiers={};
if(!a.isArray(p.formats.customVars.hiers.hier)){p.formats.customVars.hiers.hier=[p.formats.customVars.hiers.hier]
}a.each(p.formats.customVars.hiers.hier,function(s,t){n.hiers[t.number]={cur:"",templ:t.text}
});
n.events={};
if(!a.isArray(p.events.event)){p.events.event=[p.events.event]
}a.each(p.events.event,function(s,t){n.events[t.name]={number:t.number}
});
var r=Object.getOwnPropertyNames(n.events).filter(function(u,t,s){return/VideoContent\d\d?%/.test(u)
});
if(r.length>0){a.each(r,function(s,t){f.saved.push({pct:/VideoContent(\d\d?)%/.exec(t)[1]})
});
f.saved=f.saved.sort(function(t,s){return t.pct-s.pct
})
}return
};
j.init=o;
var c=function(){var r=b.data.eff.channel;
var s=r.video[b.state.curVidIdx];
n.vars.Brand.cur=n.accountName;
n.vars.Channel.cur=r.title;
n.vars.PlayerName.cur=r.psaPlayerTitle;
n.vars.OriginalSite.cur=s.sourceNetwork;
n.vars.VideoTitle.cur=s.clipName;
n.vars.PlayType.cur="manual";
n.vars.DARTStation.cur=r.adLevel;
n.vars.PlayerAction.cur="HTML5 Video Play";
n.vars.AssetID.cur=s.assetId;
n.vars.Sponsor.cur=r.sponsorshipValue;
n.vars.ShowName.cur=s.showName;
n.vars.Duration.cur=s.length;
a.each(n.vars,function(t,u){if(u.cur==""){u.cur=u.defa
}});
a.each(n.evars,function(t,u){u.cur=n.vars[/\$(\w+)\$/.exec(u.templ)[1]].cur
});
a.each(n.props,function(t,u){u.cur=n.vars[/\$(\w+)\$/.exec(u.templ)[1]].cur
});
a.each(n.hiers,function(t,u){u.cur="";
a.each(u.templ.split("|"),function(v,w){if(v>0){u.cur+="|"
}u.cur+=n.vars[/\$(\w+)\$/.exec(w)[1]].cur
})
});
a.each(g,function(t,u){u.cleared=false
});
f.working=[];
a.each(f.saved,function(t,u){f.working[t]={pct:u.pct,sss:u.pct*s.length_sss/100}
});
l();
return
};
j.prepVideo=c;
var l=function(){var v=b.VPlayer.UI.jVidElt;
function s(A){var C,B=f.working,z=b.VPlayer.UI.dVidElt.currentTime;
if(b.state.mode!="content"){return
}while(B.length>0&&B[0].sss<z){C=B.shift()
}if(typeof C==="object"){q({events:[n.events["VideoContent"+C.pct+"%"].number],linkName:"Video Content",eVars:[],props:[],hiers:[]})
}return
}v.unbind(".omni");
if(b.data.eff.config.showCarousel){b.VPlayer.UI.jChNav.unbind(".omni")
}for(var x=0,y;
y=g[x];
x++){y.cleared=false;
var u=[],r="";
if(!a.isArray(y.cfgNames)){y.cfgNames=[y.internalName]
}for(var w=0;
w<y.cfgNames.length;
w++){if(typeof n.events[y.cfgNames[w]]==="object"){u.push(n.events[y.cfgNames[w]].number)
}}var t={idx:x,events:u,linkName:"",eVars:y.eVars||[],props:y.props||[],hiers:y.hiers||[]};
switch(y.internalName){case"VideoSelect":t.linkName="Video Select";
v.one("startedSNI.omni",(function(z){return function(A,B){if(!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoAdStart":t.linkName="Video Ad";
v.bind("startedSNI.omni",(function(z){return function(A,B){if(B.mode=="ad"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoAdComplete":t.linkName="Video Ad";
v.bind("completeSNI.omni",(function(z){return function(A,B){if(B.mode=="ad"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoContentStart":t.linkName="Video Content";
v.bind("startedSNI.omni",(function(z){return function(A,B){if(B.mode=="content"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoContentComplete":t.linkName="Video Content";
v.bind("completeSNI.omni",(function(z){return function(A,B){if(B.mode=="content"&&!b.Analytics.ThingsToTrack[z.idx].cleared){b.Analytics.ThingsToTrack[z.idx].cleared=true;
q(z)
}}
})(t));
break;
case"VideoNotFound":break;
case"VideoPause":break;
case"VideoResume":break;
case"VideoScrollLft":if(b.data.eff.config.showCarousel){t.linkName="Video Player: Arrow Scroll";
t.varOverride={PlayerAction:"Video Player: Arrow Scroll Left"};
b.VPlayer.UI.jChNav.delegate(".prev-btn",b.Util.getUIselectEvent("omni"),(function(z){return function(A,B){if(!a(A.currentTarget).hasClass("disabled")){q(z)
}}
})(t))
}break;
case"VideoScrollRt":if(b.data.eff.config.showCarousel){t.linkName="Video Player: Arrow Scroll";
t.varOverride={PlayerAction:"Video Player: Arrow Scroll Right"};
b.VPlayer.UI.jChNav.delegate(".next-btn",b.Util.getUIselectEvent("omni"),(function(z){return function(A,B){if(!a(A.currentTarget).hasClass("disabled")){q(z)
}}
})(t))
}break
}}if(f.saved.length>0){v.bind("timeupdate.omni",s)
}return
};
var k={};
var e=function(u){function t(s,v){k[v]=u[v];
u[v]=""
}a.each(["usePlugins","channel","pageName","pageURL","events"],t);
for(var r=0;
r<50;
r++){t(r,"prop"+r);
t(r,"eVar"+r);
t(r,"hier"+r)
}k.trackingServer=u.trackingServer;
u.trackingServer=n.trackingServer;
u.usePlugins=false;
return
};
var d=function(u){function t(s,v){u[v]=k[v]
}a.each(["usePlugins","channel","pageName","pageURL","events"],t);
for(var r=0;
r<50;
r++){t(r,"prop"+r);
t(r,"eVar"+r);
t(r,"hier"+r)
}u.trackingServer=k.trackingServer;
return
};
var h=[];
var q=function(r){if(typeof r==="object"){h.push(r)
}m()
};
j.sendOmnitureEvent=q;
var m=function(){function x(){var s;
a.each(n.props,function(z,y){s=/\$(\w+)\$/.exec(y.templ)[1];
if(s in u.varOverride){y.sav=y.cur;
y.cur=u.varOverride[s]
}});
a.each(n.evars,function(z,y){s=/\$(\w+)\$/.exec(y.templ)[1];
if(s in u.varOverride){y.sav=y.cur;
y.cur=u.varOverride[s]
}});
return
}function r(){a.each(n.props,function(y,s){if(s.sav){s.cur=s.sav;
delete s.sav
}});
a.each(n.evars,function(y,s){if(s.sav){s.cur=s.sav;
delete s.sav
}});
return
}var v;
if(typeof s_gi!="function"){v=setTimeout(function(){clearTimeout(v);
v=null;
m()
},1000);
return false
}else{if(v!==null){clearTimeout(v);
v=null
}while(h.length>0){var u=h.pop();
var w=s_gi(n.accountName);
var t;
e(w);
w.events=[];
u.events.forEach(function(s){w.events.push("event"+s)
});
w.events=w.events.join(",");
w.linkTrackEvents=w.events;
w.linkTrackVars=[];
if(typeof u.varOverride==="object"){x()
}u.props.forEach(function(s){t="prop"+s;
w.linkTrackVars.push(t);
w[t]=n.props[s].cur
});
u.eVars.forEach(function(s){t="eVar"+s;
w.linkTrackVars.push(t);
w[t]=n.evars[s].cur
});
u.hiers.forEach(function(s){t="hier"+i;
w.linkTrackVars.push(t);
w[t]=n.hiers[s].cur
});
w.linkTrackVars=w.linkTrackVars.join(",");
if(w.linkTrackVars==""){w.linkTrackVars="None"
}console.log("OMNI: event "+w.events+" "+w.linkTrackVars);
w.tl(true,"o",u.linkName);
if(typeof u.varOverride==="object"){r()
}d(w)
}return true
}}
}
})();
b.TVL=(function(){return new function(){var d=this;
var c=function(){if(typeof b.data.extrn.cfgArgs.userEventHandler!="function"){return
}var e=b.VPlayer.UI.jVidElt;
b.data.extrn.cfgArgs.userEventHandler("playerReady",{itemType:b.state.mode,channelId:b.state.channelId,videoId:b.state.videoId});
e.bind("playVideoByUrlSNI",function(f,g){b.data.extrn.cfgArgs.userEventHandler("itemBegin",{itemType:g.mode||"ad",channelId:g.channelId,videoId:g.videoId})
});
e.bind("completeSNI",function(f,g){b.data.extrn.cfgArgs.userEventHandler("itemEnd",{itemType:g.mode||"ad",channelId:g.channelId,videoId:g.videoId})
});
e.bind("pause",function(){b.data.extrn.cfgArgs.userEventHandler("itemPause",{itemType:b.state.mode||"ad",channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
});
e.bind("play",function(){b.data.extrn.cfgArgs.userEventHandler("itemResume",{itemType:b.state.mode||"ad",channelId:b.state.channelId,videoId:b.data.eff.channel.video[b.state.curVidIdx].videoId})
})
};
d.UIevents=c
}
})();
b.init=function(c){if(typeof a.parseXML!=="function"){a.parseXML=b.Util.parseXML
}if(!SNI.Config.DEBUG||!SNI.Config.DEBUG.log){console.log=function(){return
}
}console.log(c);
b.StartUp.Controller.init();
b.StartUp.Tasks.prepCfgArgsState(c);
if(/safari/i.test(window.navigator.userAgent)){b.state.adMediaFmt="mp4"
}else{if(/firefox/i.test(window.navigator.userAgent)){b.state.adMediaFmt="ogg"
}}b.state.configStyles=b.state.configFiles.filter(function(d){return/-style/.test(d)
})[0];
b.state.configGenl=b.state.configFiles.filter(function(d){return !/-style/.test(d)
})[0];
SNI.Player.doLoadPlaylist=b.setPlaylist;
a(b).trigger("initialLoad")
};
b.initPlay=function(){console.log("Ready to Play!!");
b.Analytics.init();
SNI.Player.loadPlaylist=b.loadNewChannel;
b.VPlayer.init();
return
};
b.setPlaylist=function(e,f,d,c){console.log("set playlist HTML5");
b.state.videoId=!!c?c:"";
b.state.mode="";
console.log("setPlaylist: "+e+" | "+f+" | "+d+" | "+c);
if(!!e&&b.state.channelId!=e){b.state.channelId=e;
b.state.channelUrl=f;
a(b).trigger("loadNewPlaylist")
}else{b.VPlayer.Playlist.findSelectedVid();
b.VPlayer.Playlist.readyToPlayVid()
}return
}
}
})(jQuery);
SNI.Player.getEmbed=function(h,g,b){var e="",f="",c="";
var a=SNI.Player.getPlaylistUrl(h+"-VIDEO");
var d="embedplayer.html";
e+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"';
e+=' codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,124,0"';
e+=' width="'+g+'" height="'+b+'">';
e+='<param name="movie" value="';
e+=SNI.Config.snapBinaryEmbed+"?channelurl="+encodeURIComponent(a)+"&channel="+h+'"/>';
e+='<param name="allowFullScreen" value="true"/><param name="allowscriptaccess" value="always"/><param name="bgcolor" value="#FFFFFF"/>';
e+='<embed src="';
e+=SNI.Config.snapBinaryEmbed+"?channelurl="+encodeURIComponent(a)+"&channel="+h+'"';
e+=' type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" bgcolor="#FFFFFF"';
e+=' width="'+g+'" height="'+b+'"/>';
e+="</object>";
if(SNI.Config.snapEnableHTML5){f+="<iframe";
f+=' width="'+g+'" height="'+b+'"';
f+=' src="'+d;
f+="?width="+g+"&height="+b+" &channelurl="+encodeURIComponent(a)+'">';
f+="</iframe>"
}if(!SNI.Config.snapEnableHTML5){return e
}else{c+='<script type="text/javascript">if (/iphone|ipad|ipod/i.test(window.navigator.userAgent)) {';
c+="document.write('"+f+"');";
c+="} else {";
c+="document.write('"+e+"')";
c+="}";
c+="<\/script>";
return c
}};
if(typeof SNI=="undefined"){SNI={}
}if(typeof SNI.Food.Player=="undefined"){SNI.Food.Player={}
}SNI.Food.Player.Configs={FullSize:{dimensions:{width:616,height:540},flashvars:{playerSize:"FullScreenWide",config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"}},FullSizeNoPlaylist:{dimensions:{width:616,height:370},flashvars:{enableNextVideoOverlay:"false",playerSize:"FullScreenWide",config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"}},RecipePage:{dimensions:{width:"185",height:"162"},flashvars:{autoPlay:false,showMenu:false,enableNowPlayingOverlay:false,enableRelatedMenu:false,enableRelatedInfoIcon:false,enableEmail:false,enableShare:false,enableHomePageMode:true,playerSize:"Inline",config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-rr.xml"}},Blog:{dimensions:{width:"320",height:"263"},flashvars:{config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-rr.xml"}},Secondary:{enableSyncAdFix:1,dimensions:{width:"406",height:"251"},flashvars:{showCarousel:"false",playerSize:"Secondary",autoplay:false,config:SNI.Config.snapConfigs+"snap-style.xml,"+SNI.Config.snapConfigs+"snap-config-std.xml"},params:{menu:"false",scale:"noscale",allowFullScreen:"true",allowScriptAccess:"always",wmode:"transparent"}}};
SNI.Player.UserInterfaceConfigs=$.extend(true,SNI.Player.UserInterfaceConfigs,SNI.Food.Player.Configs);
SNI.Food.Player.vidTitleTempl=(function(){return['<div class="title-wrap">',"{{#h1}}<h1>{{clipName}}</h1>{{/h1}}","{{#h2}}<h2>{{clipName}}</h2>{{/h2}}","{{^maj}}<h6>{{clipName}}</h6>{{/maj}}","<cite>&nbsp;({{length_hms}})</cite>","</div>",'<p{{#maj}} class="intro sm"{{/maj}}>{{#relatedTitle}}<a href="{{relatedUrl}}" target="_blank">{{relatedTitle}}</a>&nbsp;|&nbsp;{{/relatedTitle}}{{abstract}}</p>'].join("")
})();
SNI.Food.Player.UIupdt=function(b){var a=$(".channel-component .tier-3");
if(!!a.length){if(!!a.find(" .title-wrap h2").length){b=$.extend(b,{h2:true,maj:true})
}else{if(!!a.find(".title-wrap h1").length){b=$.extend(b,{h1:true,maj:true})
}}a.find(".title-wrap, .title-wrap + p").remove();
a.append(Mustache.render(SNI.Food.Player.vidTitleTempl,b))
}};
SNI.Player.Observables.videoEnded.subscribe(function(){var a={eventType:"videoEnded",fn:SNI.Food.Player.UIupdt};
SNI.Player.doWithVideoData(a)
});
SNI.Player.Observables.videoSelected.subscribe(function(){var a={eventType:"videoSelected",fn:SNI.Food.Player.UIupdt};
SNI.Player.doWithVideoData(a)
});
SNI.Food.Player.sysCbkInternal=function(a,b){var b=SNI.Util.ckParseJSON(b);
SNI.Player.sysCbkInternal(a,b);
if(a=="itemBegin"&&b.itemType=="content"){SNI.Food.Taboola.push(videoData.videoId,videoData.videoUrl)
}return
};
SNI.Food.Player.sysCbk=function(a,b){SNI.Food.Player.sysCbkInternal(a,b)
},SNI.Food.Player.FullSize=function(a,b,c,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,{},SNI.Player.UserInterfaceConfigs.FullSize,d),channel_id:b,video_id:c,fcn_callback_user:SNI.Player.UIcbk,fcn_callback_system:SNI.Food.Player.sysCbk})
};
SNI.Food.Player.FullSizeNoPlaylist=function(a,b,c,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,{},SNI.Player.UserInterfaceConfigs.FullSizeNoPlaylist,d),channel_id:b,video_id:c,fcn_callback_user:SNI.Player.UIcbk,fcn_callback_system:SNI.Food.Player.sysCbk})
};
SNI.Food.Player.Secondary=function(a,b,c,d){return new SNI.Player.SNAP({container_div_id:a,ui_config:$.extend(true,{},SNI.Player.UserInterfaceConfigs.Secondary,d),channel_id:b,video_id:c,fcn_callback_user:SNI.Player.UIcbk,fcn_callback_system:SNI.Food.Player.sysCbk})
};
SNI.Food.Player.Inline=function(g,c,f,e){var j=$(".inline-video-lead figcaption").height();
var b=$(".inline-video-lead figcaption").css("padding-top");
var k=$(".inline-video-lead figcaption").css("padding-bottom");
var d=[j,b,k].reduce(function(l,m){return l+parseInt(m)
},0);
function h(){function l(){$(".inline-video-lead figcaption").animate({height:d,"padding-top":b,"padding-bottom":k})
}$(".inline-video-lead figure").css({display:"block"});
$(".inline-video-lead figure").animate({opacity:1,height:$(".inline-video-lead figure img").height()},{duration:400,complete:l})
}function a(){function l(){$(".inline-video-lead figure").animate({opacity:0,height:$(".inline-video-lead .vid-wrap").height()},{duration:400,complete:function(){$(".inline-video-lead figure").css({display:"none"});
if(!!$("#vlp-player-instance").length){try{$("#vlp-player-instance").get(0).playerPlay()
}catch(m){}}}})
}$(".inline-video-lead figcaption").animate({height:0,"padding-top":0,"padding-bottom":0},{duration:400,complete:l})
}SNI.Player.Observables.videoPaused.subscribe(h);
SNI.Player.Observables.videoEnded.subscribe(h);
$(".inline-video-lead a.vid-play").on("click",function(){if(!$("#vlp-player-instance").length){var l=new SNI.Food.Player.FullSizeNoPlaylist(g,c,"","")
}a();
return false
})
};
SNI.Food.Player.fmtVidCarousel=function(b,c){var e=this;
var c=c||{};
c=$.extend(c,{itmsPerPanel:3});
var d=function(){var j=c.itmsPerPanel;
var h=0;
var g=b.video.length;
var f=function(){return function(m,n){return n(++h%j==1?'<div class="item">':"")
}
};
var l=function(){return function(m,n){return n((h%j==0)||(h==g)?"</div>":"")
}
};
var k=function(){return function(m,n){return n(""+(h-1))
}
};
return{itmOpen:f,itmClose:l,itmIdx:k}
}();
var a=['<div class="tab-pane fade in active light" id="tab1">','<div class="crsl vert" id="carousel-mixed-content-promo" data-nav="indices" data-scale="false">',"{{#video}}","{{#itmOpen}}{{/itmOpen}}",'<div class="group">',"{{#endSlideLink}}",'<div class="pillarbox endslide">','<p>{{{endSlideLink}}}<i class="ss-right"></i></p>',"</div>","{{/endSlideLink}}","{{^endSlideLink}}",'<a href="#" class="ico-wrap label-wrap" data-videoId="{{videoId}}">','<div class="pillarbox">','<div class="lazy-img" width="121" height="91">{{thumbnailUrl}}</div>','<span class="ico"><i class="ss-play"></i></span>','<span class="caret"></span>',"</div>","<span><h6>{{clipName}}</h6>{{#length}}<cite>&nbsp;({{length}})</cite>{{/length}}</span>","</a>","{{/endSlideLink}}","</div>","{{#itmClose}}{{/itmClose}}","{{/video}}","</div>","</div>"].join("");
crsldta=$.extend({},b,d);
return Mustache.render(a,crsldta)
};
SNI.Food.Player.GenericOne=function(m,f,r,p,t){var z=$("#vlp-player").closest(".inline-video-lead.v2");
var c=z.find(".mod-bod");
var e=z.find("figcaption");
var a;
var x;
var y;
var l=e.height();
var b=e.css("padding-top");
var n=e.css("padding-bottom");
var g=[l,b,n].reduce(function(B,C){return B+parseInt(C)
},0);
var s=SNI.Player.PlaylistFactory(t.channel);
var k=s.getChannelDta();
function q(){e.css({display:"block"});
e.animate({height:g,"padding-top":b,"padding-bottom":n})
}function v(B){if(typeof B!="function"){B=function(){e.css({display:"none"})
}
}e.animate({height:0,"padding-top":0,"padding-bottom":0},{duration:400,complete:B})
}function j(){$(".inline-video-lead figure").css({display:"block"});
$(".inline-video-lead figure").animate({opacity:1,height:$(".inline-video-lead figure img").height()},{duration:400,complete:q})
}function w(){$(".inline-video-lead figure").animate({opacity:0,height:$(".inline-video-lead .vid-wrap").height()},{duration:400,complete:function(){$(".inline-video-lead figure").css({display:"none"});
if(!!$("#vlp-player-instance").length){try{$("#vlp-player-instance").get(0).playerPlay()
}catch(B){}}}})
}function u(){v(w)
}function h(B){function C(G){var E=$(G.currentTarget);
var F=E.attr("data-videoId");
if(typeof F!="undefined"){A(F);
o();
w()
}G.stopPropagation();
G.preventDefault()
}function D(){var F=$.extend(true,{},B);
var E=F.video[0];
if(typeof p=="string"&&p.length>0){F.video.push({endSlideLink:p})
}return['<div class="crsl-screen"></div>','<div class="crsl-frame">','<a href="#" class="btn direct med light close" ><i class="ss-delete"></i></a><h5>You Might Also Like</h5>',SNI.Food.Player.fmtVidCarousel(F),'<div class="watch">',"<p>Start Watching:</p>",'<p><a href="#">'+E.clipName+" ("+SNI.Util.hhmmssClean(E.length)+")</a></p>","</div>","</div>"].join("")
}v();
c.append(D());
y=c.find(".crsl-frame");
x=c.find(".crsl");
SNI.Food.Carousel({wrapper:x,controlNavigation:x.data("nav"),variation:x.data("variation"),allowCSS3:($.browser.msie&&$.browser.version==10)?false:true,loop:false});
y.find(".btn.close").click(function(E){o();
if(typeof a=="undefined"){q()
}else{a.playerPlay()
}E.stopPropagation();
E.preventDefault()
});
y.find(".watch").on("click","a",function(E){o();
if(typeof a!="undefined"){a.playerPlay()
}else{w();
A()
}E.stopPropagation();
E.preventDefault()
});
x.on("click",".group a",C);
x.addClass("carousel-show")
}function d(B){function C(E){var D=["<p>Continue Watching:</p>",'<p><a href="#">'+E.clipName+" ("+E.length_hms+")</a></p>"].join("");
y.find(".watch").html(D);
return true
}if(c.find(".crsl").length==0){h(k)
}if(B!=null){C(s.getDtaForVidByVidId(SNI.Player.videoId))
}c.find(".crsl-screen").show();
y.show()
}function o(){y.hide();
c.find(".crsl-screen").hide()
}function A(C){if(typeof a=="undefined"){var B=new SNI.Food.Player.FullSizeNoPlaylist(m,f,C,"");
a=document.getElementById("vlp-player-instance")
}else{a.setPlaylistVideo(C)
}}if(!SNI.Player.wantsHTML5()){SNI.Player.Observables.videoPaused.subscribe(d)
}$(".inline-video-lead a.vid-play").on("click",function(B){A();
w();
B.stopPropagation();
B.preventDefault()
});
$(".inline-video-lead a.more-cta").on("click",function(B){v();
d();
B.stopPropagation();
B.preventDefault()
})
};
SNI.Food.Player.SecondaryInline=function(n,d,k,c){var e=4;
var g=$("#vlp-player-sec-inl").closest(".secondary-inline-video");
var j=g.children(".bd");
var p=j.children(".vid-list");
var l;
var f=SNI.Player.PlaylistFactory(c.channel);
var a=f.getChannelDta();
m({video:a.video.slice(0,e)});
b();
o(0);
SNI.Player.Observables.videoPlayed.subscribe(h);
function h(q){p.find(".tabbed-list li a").removeClass("selected");
p.find(".tabbed-list li a[data-videoId='"+q+"']").addClass("selected")
}function m(s){var q=['<ul class="tabbed-list">',"{{#video}}","<li>",'<a href="#" data-videoId="{{videoId}}">',"<h6>{{clipName}}</h6> {{#length_hms}}<cite>&nbsp;({{length_hms}})</cite>{{/length_hms}}",'<span class="caret"></span>',"</a>","</li>","{{/video}}","</ul>"].join("");
p.html(Mustache.render(q,s));
function r(v){var t=$(v.currentTarget);
if(!t.hasClass("selected")){p.find(".tabbed-list li a").removeClass("selected");
t.addClass("selected");
var u=t.attr("data-videoId");
if(typeof u!="undefined"){b(u)
}}v.stopPropagation();
v.preventDefault()
}p.on("click",".tabbed-list li a",r)
}function o(q){p.find("li").eq(q).children("a").addClass("selected")
}function b(r){if(SNI.Player.wantsHTML5()){if(!SNI.Player.SNAPHTML5.data.extrn.hasOwnProperty("channel")){var q=new SNI.Food.Player.Secondary(n,d,r)
}else{SNI.Player.SNAPHTML5.state.videoId=r;
SNI.Player.SNAPHTML5.state.curVidIdx=f.vidhash[r];
SNI.Player.SNAPHTML5.VPlayer.Playlist.playVid()
}}else{if(typeof l=="undefined"){var q=new SNI.Food.Player.Secondary(n,d,r);
l=q.instance_id
}else{document.getElementById(l).setPlaylistVideo(r);
document.getElementById(l).playerPlay()
}}}};
SNI.Food.Player.Blog=function(a,b,c,d){buildChannelFeedUrlForBlogs=function(e){return"http://www.foodnetwork.com/food/channel/xml/0,,"+e+",00.xml"
};
return new SNI.Player.Blog(a,b,c,buildChannelFeedUrlForBlogs,d)
};
SNI.Food.Player.RecipePage=function(a,b,c,d){return new SNI.Food.Player.FullSizeNoPlaylist(a,b,c,null,$.extend(true,{},SNI.Player.UserInterfaceConfigs.RecipePage,d))
};