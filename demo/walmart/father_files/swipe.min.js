function Swipe(e,t){"use strict";function d(){o=s.children;f=o.length;if(o.length<2)t.continuous=false;if(i.transitions&&t.continuous&&o.length<3){s.appendChild(o[0].cloneNode(true));s.appendChild(s.children[1].cloneNode(true));o=s.children}u=new Array(o.length);a=e.getBoundingClientRect().width||e.offsetWidth;s.style.width=o.length*a+"px";var n=o.length;while(n--){var r=o[n];r.style.width=a+"px";r.setAttribute("data-index",n);if(i.transitions){r.style.left=n*-a+"px";b(n,l>n?-a:l<n?a:0,0)}}if(t.continuous&&i.transitions){b(g(l-1),-a,0);b(g(l+1),a,0)}if(!i.transitions)s.style.left=l*-a+"px";e.style.visibility="visible"}function v(){if(t.continuous)y(l-1);else if(l)y(l-1)}function m(){if(t.continuous)y(l+1);else if(l<o.length-1)y(l+1)}function g(e){return(o.length+e%o.length)%o.length}function y(e,n){if(l==e)return;if(i.transitions){var s=Math.abs(l-e)/(l-e);if(t.continuous){var f=s;s=-u[g(e)]/a;if(s!==f)e=-s*o.length+e}var h=Math.abs(l-e)-1;while(h--)b(g((e>l?e:l)-h-1),a*s,0);e=g(e);b(l,a*s,n||c);b(e,0,n||c);if(t.continuous)b(g(e-s),-(a*s),0)}else{e=g(e);E(l*-a,e*-a,n||c)}l=e;r(t.callback&&t.callback(l,o[l]))}function b(e,t,n){w(e,t,n);u[e]=t}function w(e,t,n){var r=o[e];var i=r&&r.style;if(!i)return;i.webkitTransitionDuration=i.MozTransitionDuration=i.msTransitionDuration=i.OTransitionDuration=i.transitionDuration=n+"ms";i.webkitTransform="translate("+t+"px,0)"+"translateZ(0)";i.msTransform=i.MozTransform=i.OTransform="translateX("+t+"px)"}function E(e,n,r){if(!r){s.style.left=n+"px";return}var i=+(new Date);var u=setInterval(function(){var a=+(new Date)-i;if(a>r){s.style.left=n+"px";if(S)T();t.transitionEnd&&t.transitionEnd.call(event,l,o[l]);clearInterval(u);return}s.style.left=(n-e)*(Math.floor(a/r*100)/100)+e+"px"},4)}function T(){x=setTimeout(m,S)}function N(){S=0;clearTimeout(x)}var n=function(){};var r=function(e){setTimeout(e||n,0)};var i={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(e.style[t[n]]!==undefined)return true;return false}(document.createElement("swipe"))};if(!e)return;var s=e.children[0];var o,u,a,f;t=t||{};var l=parseInt(t.startSlide,10)||0;var c=t.speed||300;t.continuous=t.continuous!==undefined?t.continuous:true;var h=t.swipeDuration||250;var p=t.swipeDistance||2;var S=t.auto||0;var x;var C={};var k={};var L;var A={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":r(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":r(this.transitionEnd(e));break;case"resize":r(d.call());break}if(t.stopPropagation)e.stopPropagation()},start:function(e){var t=e.touches[0];C={x:t.pageX,y:t.pageY,time:+(new Date)};L=undefined;k={};s.addEventListener("touchmove",this,false);s.addEventListener("touchend",this,false)},move:function(e){if(e.touches.length>1||e.scale&&e.scale!==1)return;if(t.disableScroll)e.preventDefault();var n=e.touches[0];k={x:n.pageX-C.x,y:n.pageY-C.y};if(typeof L=="undefined"){L=!!(L||Math.abs(k.x)<Math.abs(k.y))}if(!L){e.preventDefault();N();if(t.continuous){w(g(l-1),k.x+u[g(l-1)],0);w(l,k.x+u[l],0);w(g(l+1),k.x+u[g(l+1)],0)}else{k.x=k.x/(!l&&k.x>0||l==o.length-1&&k.x<0?Math.abs(k.x)/a+1:1);w(l-1,k.x+u[l-1],0);w(l,k.x+u[l],0);w(l+1,k.x+u[l+1],0)}}},end:function(e){var n=+(new Date)-C.time;var r=Number(n)<h&&Math.abs(k.x)>10||Math.abs(k.x)>a/p;var i=!l&&k.x>0||l==o.length-1&&k.x<0;if(t.continuous)i=false;var f=k.x<0;if(!L){if(r&&!i){if(f){if(t.continuous){b(g(l-1),-a,0);b(g(l+2),a,0)}else{b(l-1,-a,0)}b(l,u[l]-a,c);b(g(l+1),u[g(l+1)]-a,c);l=g(l+1)}else{if(t.continuous){b(g(l+1),a,0);b(g(l-2),-a,0)}else{b(l+1,a,0)}b(l,u[l]+a,c);b(g(l-1),u[g(l-1)]+a,c);l=g(l-1)}t.callback&&t.callback(l,o[l])}else{if(t.continuous){b(g(l-1),-a,c);b(l,0,c);b(g(l+1),a,c)}else{b(l-1,-a,c);b(l,0,c);b(l+1,a,c)}}}s.removeEventListener("touchmove",A,false);s.removeEventListener("touchend",A,false)},transitionEnd:function(e){if(parseInt(e.target.getAttribute("data-index"),10)==l){if(S)T();t.transitionEnd&&t.transitionEnd.call(e,l,o[l])}}};d();if(S)T();if(i.addEventListener){if(i.touch)s.addEventListener("touchstart",A,false);if(i.transitions){s.addEventListener("webkitTransitionEnd",A,false);s.addEventListener("msTransitionEnd",A,false);s.addEventListener("oTransitionEnd",A,false);s.addEventListener("otransitionend",A,false);s.addEventListener("transitionend",A,false)}window.addEventListener("resize",A,false)}else{window.onresize=function(){d()}}return{setup:function(){d()},slide:function(e,t){N();y(e,t)},prev:function(){N();v()},next:function(){N();m()},getPos:function(){return l},getNumSlides:function(){return f},kill:function(){N();s.style.width="auto";s.style.left=0;var e=o.length;while(e--){var t=o[e];t.style.width="100%";t.style.left=0;if(i.transitions)w(e,0,0)}if(i.addEventListener){s.removeEventListener("touchstart",A,false);s.removeEventListener("webkitTransitionEnd",A,false);s.removeEventListener("msTransitionEnd",A,false);s.removeEventListener("oTransitionEnd",A,false);s.removeEventListener("otransitionend",A,false);s.removeEventListener("transitionend",A,false);window.removeEventListener("resize",A,false)}else{window.onresize=null}}}}if(window.jQuery||window.Zepto){(function(e){e.fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}})(window.jQuery||window.Zepto)}