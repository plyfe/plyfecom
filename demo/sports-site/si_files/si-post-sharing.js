(function($){'use strict';function SISharing(facebookDiv,twitterDiv){var shareTwitter,shareFacebook,refocus,getCanonical,initialize;initialize=function(){$(facebookDiv).on('click',function(event){shareFacebook();event.preventDefault();});$(twitterDiv).on('click',function(event){shareTwitter();event.preventDefault();});};refocus=function(newWindow){if(typeof window.focus==='function'&&typeof newWindow!=='undefined'){newWindow.focus();}};getCanonical=function(){var can_url=$('link[rel=canonical]').attr('href');if(typeof can_url==='undefined'||!can_url){can_url=window.location.href;}
return can_url;};shareTwitter=function(){var share,shareUrl,url,newWindow,globalAcct,shareTitle;shareUrl=getCanonical();shareTitle=$.trim($('.body h1').first().text());if(shareTitle.length>70){shareTitle=shareTitle.substr(0,70);shareTitle=shareTitle.substr(0,shareTitle.lastIndexOf(' '))+'...';}
share=shareTitle+' - '+shareUrl;share=share.replace(/%A0/g,'%20');share=share.replace(/%E4/g,'a');globalAcct=(typeof window.SI_TWITTER_ACCOUNT!=='undefined'&&window.SI_TWITTER_ACCOUNT)?window.SI_TWITTER_ACCOUNT:'SI_ExtraMustard';url='https://twitter.com/intent/tweet?via='+globalAcct+'&text='+encodeURIComponent(share);newWindow=window.open(url,'si_share_hotclicks','height=400,width=500,toolbar=no,resizable=no,scrollbars=yes');refocus(newWindow);};shareFacebook=function(){var share,shareUrl,url,newWindow,thumb,summary;shareUrl=getCanonical();share=$.trim($('title').text());share=share.replace(/%A0/g,'%20');shareUrl=shareUrl.replace(/%A0/g,'%20');shareUrl=shareUrl.replace(/#/g,'%23');if(window.SI_FACEBOOK_SHARE!==''){thumb=escape(window.SI_FACEBOOK_SHARE);}else if($('meta[property="og:image"]').length){thumb=$('meta[property="og:image"]').attr('content');}else{thumb=escape('http://i.cdn.turner.com/si/.e1d/img/4.0/global/logos/si_100x100.jpg?w=300');}
share=encodeURIComponent(share);if(typeof(window.SI_FACEBOOK_SUMMARY)!=='undefined'&&window.SI_FACEBOOK_SUMMARY!==''){summary=encodeURI(window.SI_FACEBOOK_SUMMARY);}else{summary=share;}
url='http://www.facebook.com/sharer.php?s=100&p[title]='+share+'&p[images][0]='+thumb+'&p[summary]='+summary+'&p[url]='+shareUrl;newWindow=window.open(url,'si_share_hotclicks','height=400,width=500,toolbar=no,resizable=no,scrollbars=yes');refocus(newWindow);};try{initialize();}catch(exception){console.log(exception);}}
function onReady(){var sharing=new SISharing('.post-share-facebook','.post-share-twitter');}
$(document).on('ready',onReady);}(jQuery));