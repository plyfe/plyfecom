/* uverse - v6.2.0 - 
 * Copyright (c) 2014 AT&T. All rights reserved.
 */

(function() {
"use strict";


angular.module("common-modules.animations",["ngAnimate"]),angular.module("common-modules.animations").animation(".flyout-fade",function(){function a(a,b,c,d){function e(){a.css("visibility",h),g.removeEvents(),b()}var f=$(a[0]);f.set("tween",{duration:d,property:"opacity",link:"cancel"});var g=f.get("tween"),h=a.css("visibility");a.css("visibility","visible"),g.addEvent("complete",e),g.addEvent("cancel",e),g.start(c)}return{addClass:function(b,c,d){"open"==c&&a(b,d,1,500)},removeClass:function(b,c,d){"open"==c&&a(b,d,0,200)}}}),angular.module("common-modules.animations").animation(".standard-fade",function(){function a(a,b,c,d){function e(){a.removeClass("animating"),g.removeEvents(),b()}var f=$(a[0]);f.set("tween",{duration:d,property:"opacity",link:"cancel",transition:"linear"});var g=f.get("tween");a.addClass("animating"),g.addEvent("complete",e),g.addEvent("cancel",e),g.start(1-c,c)}return{addClass:function(b,c,d){"standard-fade-in"==c&&a(b,d,1,500)},removeClass:function(b,c,d){"standard-fade-in"==c&&a(b,d,0,500)}}}),angular.module("common-modules.animations").factory("jsAnimate",[function(){function a(a,b,c,d){function e(){a.css("display",h),a.css("visibility",i),g.removeEvents()}var f=$(a[0]);f.set("tween",{duration:b,property:"opacity",link:"cancel",transition:c});var g=f.get("tween"),h=a.css("display"),i=a.css("visibility");a.css("display","block"),a.css("visibility","visible"),g.addEvent("complete",e),g.addEvent("cancel",e),g.start(d)}return{fadeIn:function(b,c,d){a(b,c,d,1)},fadeOut:function(b,c,d){a(b,c,d,0)}}}]),angular.module("common-modules.parental-controls",[]).config(["$locationProvider",function(a){a.html5Mode(!0)}]),angular.module("common-modules.parental-controls").controller("ChangeLevelCtrl",["$scope","ParentalControlsService","ParentalControlsConfig","ParentalControlsConstants",function(a,b,c,d){a.status.steps=d.views.CHANGE_LEVEL.steps,a.status.step=0,a.data.newPin=null,a.data.newPinConfirmation=null,a.data.newLevel=a.currentLevel,a.setNewLevel=function(b){a.data.newLevel=b,a.nextStep()},a.setNewPin=function(d){a.data.newPin=d;var e=b.changeLevel(a.data.newLevel,a.data.newPin),f=c.messages.notices.levelUpdated,g=c.messages.errors.wrongPIN;b.submitPin(a,e,f,g).then(function(b){b.success?a.currentLevel=a.data.newLevel:a.$broadcast("pinCheckError",g)})}}]),angular.module("common-modules.parental-controls").controller("ChangePinCtrl",["$scope","ParentalControlsService","ParentalControlsConfig","ParentalControlsConstants",function(a,b,c,d){a.status.steps=d.views.CHANGE_PIN.steps,a.status.step=1,a.checkCurrentPin=function(d){a.data.currentPin=d,b.checkPin(a.data.currentPin).then(function(b){if(b)a.nextStep();else{var d=c.messages.errors.wrongPIN;a.$broadcast("pinCheckError",d),a.resetPins(),a.showMessage(d,!0)}})},a.goToConfirmPin=function(b){a.data.newPin=b,a.nextStep()},a.submitPinChange=function(e){a.data.newPinConfirm=e;var f=c.messages.notices.PINUpdated,g=c.messages.errors.confirmPIN,h=2;b.doPinsMatch(a.data.newPin,a.data.newPinConfirm).then(function(){b.changePin(a.data.currentPin,a.data.newPin).then(function(b){a.resetPins(),b?(a.setStep(0),a.updateCurrentLevel(),a.changeMode(d.views.CHANGE_LEVEL),a.showMessage(f)):a.showMessage(g,!0)})}).catch(function(){a.$broadcast("pinCheckError",g),a.resetPins(!1,!1,!0),a.setStep(h),a.showMessage(g,!0)})}}]),angular.module("common-modules.parental-controls").controller("CreatePinCtrl",["$scope","ParentalControlsService","ParentalControlsConfig","ParentalControlsConstants",function(a,b,c,d){a.status.steps=d.views.CREATE_PIN.steps,a.status.step=0,a.data.newPin=null,a.data.newPinConfirmation=null,a.data.newLevel=b.getLevel(),a.setNewLevel=function(b){a.data.newLevel=b,a.nextStep()},a.setNewPin=function(b){a.data.newPin=b,a.nextStep()},a.setPinConfirmation=function(e){a.data.newPinConfirm=e;var f=c.messages.notices.levelUpdated,g=c.messages.errors.confirmPIN,h=1;b.doPinsMatch(a.data.newPin,a.data.newPinConfirm).then(function(){b.createPin(a.data.newPin,a.data.newLevel).then(function(b){a.resetPins(),b?(a.setStep(0),a.updateCurrentLevel(),a.setParentalControlActivated(),a.changeMode(d.views.CHANGE_LEVEL),a.showMessage(f)):a.showMessage(g,!0)})}).catch(function(){a.$broadcast("pinCheckError",g),a.resetPins(!1,!1,!0),a.setStep(h),a.showMessage(g,!0)})}}]),angular.module("common-modules.parental-controls").controller("SettingsCtrl",["$scope","$q","ParentalControlsService","ParentalControlsConfig","ParentalControlsConstants","$interpolate","$timeout",function(a,b,c,d,e,f,g){var h=this;_.extend(h,{initController:function(){h.getParentalControlActivationStatus(),h.getUserRating()},getParentalControlActivationStatus:function(){c.isActivated().then(function(a){h.isParentalControlActivated=a,h.updateStatusMode(a)})},getUserRating:function(){c.getLevel().then(function(b){a.currentLevel=b})},updateStatusMode:function(){h.view=h.isParentalControlActivated?e.views.CHANGE_LEVEL:e.views.CREATE_PIN,h.mode=h.view.id}}),h.initController(),a.message={error:!1,text:"",visible:!1},a.status={step:0,loading:!1},a.data={newPin:null,newPinConfirmation:null,newLevel:null,currentPin:null};var i={_hideMessage:function(){a.message.visible=!1}};_.extend(a,{changeMode:function(a){i._hideMessage(),h.view=e.views[a]?e.views[a]:a,h.mode=h.view.id},updateCurrentLevel:function(){a.data.newLevel&&(a.currentLevel=a.data.newLevel)},isCurrentView:function(a){return h.mode==e.views[a].id},getTrackComponentOfCurrentView:function(){return h.view.trackComponent[a.status.step]},nextStep:function(){i._hideMessage(),a.status.step+=1},setStep:function(b){i._hideMessage(),a.status.step=b},previousStep:function(){i._hideMessage(),a.status.step-=1,0===a.status.step&&h.updateStatusMode()},setParentalControlActivated:function(){h.isParentalControlActivated=!0},emailPin:function(){c.emailPin().then(function(b){var c=b.message;a.showMessage(c,!b.success,!0)})},showMessage:function(b,c,d){a.message.text=b,a.message.isError=!!c,a.message.visible=!0,c||d||g(i._hideMessage,e.toastTimeout)},resetPins:function(b,c,d){a.data.newPin=b?a.data.newPin:"",a.data.newPinConfirmation=c?a.data.newPinConfirmation:"",a.data.currentPin=d?a.data.currentPin:""}})}]),angular.module("common-modules.parental-controls").controller("LevelSelectorCtrl",["ParentalControlsConfig","ParentalControlsService","$scope","$sce","$interpolate","Tracking",function(a,b,c,d,e,f){var g=this;_.extend(g,{getRatingList:function(){b.getRatingList().then(function(a){c.levels=a.names,c.levelsMessages=a.keys,c.level=c.currentLevel,c.changeDisplayLevel(c.currentLevel)})}}),_.extend(c,{changeDisplayLevel:function(b,h){if(c.displayLevel=b,c.displayLevelIndex=c.levels.indexOf(b),h){var i=angular.element(g.levelEl.children()[c.displayLevelIndex]);f.trackElement(i,{defaults:{action:"hover"},requires:"metadata"})}var j=_.first(c.levels)==b,k=_.last(c.levels)==b,l="<strong>"+c.levelsMessages[c.displayLevelIndex]+"</strong>";if(j){var m=a.messages.levels.noRestriction;c.restrictionsMessage=d.trustAsHtml(m)}else{var n=e(a.messages.levels.restrictedTo)({ratings:l});if(k)c.restrictionsMessage=d.trustAsHtml(n);else{var o=e(a.messages.levels.lower)({message:n});c.restrictionsMessage=d.trustAsHtml(o)}}}})}]).directive("levelSelector",function(){return{restrict:"E",scope:{newLevel:"=level",currentLevel:"@",change:"&",levels:"&",levelsMessages:"&"},controller:"LevelSelectorCtrl",replace:!0,templateUrl:UvJsOptions.jsSrc+"common-modules/parental-controls/templates/level-selector.tpl",link:function(a,b,c,d){d.levelEl=b,a.level=a.newLevel,d.getRatingList(),a.isDisplayLevel=function(b){return b==a.displayLevel},a.isLowerDisplayLevel=function(b){return b>a.displayLevelIndex},a.isCurrent=function(b){return b==a.currentLevel},a.triggerChange=function(b){a.level=b,a.isCurrent(a.displayLevel)||a.change({val:a.displayLevel})}}}}),angular.module("common-modules.parental-controls").controller("PinInputCtrl",["$scope","$timeout","Tracking",function(a,b,c){var d=this;d.pinElements=[],a.pinSize=4,_.extend(d,{initializePins:function(){a.pins=_.map(Array(a.pinSize),function(){return{value:""}})},addPin:function(a){d.pinElements.push(a)},focusPin:function(a){b(function(){a.focus()},1)},focusPrevious:function(a,b){if(a>0){var c=d.pinElements[a-1];d.focusPin(c),b&&d.replacePinValue(a-1)}},focusNext:function(b){if(b<a.pins.length-1){var c=d.pinElements[b+1];d.focusPin(c)}},replacePinValue:function(b){a.pins[b].value=""}}),_.extend(a,{formatInputAndFocusNext:function(a,b){var c=Number.from(String.fromCharCode(b.charCode));return _.isNumber(c)?(d.replacePinValue(a),void d.focusNext(a)):void b.preventDefault()},focusMovement:function(b,c){var e={LEFT:37,RIGHT:39,BACKSPACE:8};switch(c.keyCode){case e.BACKSPACE:!a.pins[b].value&&b>0&&d.focusPrevious(b,!0);break;case e.LEFT:d.focusPrevious(b);break;case e.RIGHT:d.focusNext(b)}},submitIfValid:function(){var b=_.flatten(a.pins,"value").join("");if(a.newPin=b,b.length===a.pinSize){var e=angular.element(_.last(d.pinElements));c.trackElement(e,{defaults:{action:"key press"},requires:"metadata"}),a.change({val:b})}}}),a.$on("pinCheckError",function(a,b){var e=angular.element(_.last(d.pinElements));c.trackElement(e,{defaults:{action:"key press",metadata:b},requires:"metadata"})}),a.$watch("newPin",function(b){""===b&&(d.initializePins(),d.pinElements.length===a.pinSize&&d.focusPin(d.pinElements[0]))})}]).directive("pinInput",function(){return{restrict:"E",scope:{newPin:"=pin",change:"&",size:"=?"},replace:!0,controller:"PinInputCtrl",templateUrl:UvJsOptions.jsSrc+"common-modules/parental-controls/templates/pin-input.tpl",link:function(a,b,c,d){a.pinSize=c.size?+c.size:a.pinSize,d.initializePins()}}}).directive("pinInputField",function(){return{rescrict:"A",replace:!0,require:"^pinInput",link:function(a,b,c,d){var e=b[0];d.addPin(e),0===a.$index&&d.focusPin(e)}}}),angular.module("common-modules.parental-controls").value("ParentalControlsConfig",Uverse.config.parentalControls).constant("ParentalControlsConstants",{toastTimeout:2e3,views:{CHANGE_LEVEL:{id:"changeLevel",steps:2,trackComponent:["PIN set","Enter current PIN"]},CREATE_PIN:{id:"createPin",steps:3,trackComponent:["","Enter current PIN","Confirm PIN"]},CHANGE_PIN:{id:"changePin",steps:4,trackComponent:["PIN set","Enter current PIN","Set PIN","Confirm PIN"]}}}),angular.module("common-modules.parental-controls").factory("ParentalControlsService",["ParentalControlsConfig","ParentalControlsConstants","$http","$q",function(a,b,c,d){var e={getRatingList:function(){return c.get("/parentalControls/getRatingsList.json").then(function(a){var b={names:_.map(a.data.ratings,function(a){return a.name}),keys:_.map(a.data.ratings,function(a){return a.ratingKeys})};return b})},getUserRating:function(){return c.get("/parentalControls/getUserRating.json").then(function(a){return a.data.rating})},changeLevel:function(a,b){var d={currentPin:b,rating:a};return c.post("/parentalControls/setUserRating.json",d).then(function(a){return a.data.success})},changePin:function(a,b){var d={currentPin:a,newPin:b};return c.post("/parentalControls/changePin.json",d).then(function(a){return a.data.success})},createPin:function(a,b){var d={newPin:a};return c.post("/parentalControls/setPin.json",d).then(function(a){return a.data.success}).then(function(){return e.changeLevel(b,a)})},checkPin:function(a){var b={pin1:a[0],pin2:a[1],pin3:a[2],pin4:a[3]};return c.get("/parentalControls/enterPin.json",{params:b}).then(function(a){return a.data.success})},getLevel:function(){return c.get("/parentalControls/getUserRating.json").then(function(a){return a.data.rating})},emailPin:function(){return c.post("/parentalControls/reminder.json").then(function(a){return a.data})},isActivated:function(){return c.get("/parentalControls/retrieveParentalControls.json").then(function(a){return"true"===a.data})},doPinsMatch:function(a,b){var c=d.defer();return a==b?c.resolve():c.reject(),c.promise},submitIfPinMatch:function(a,c,d,f,g,h,i){e.doPinsMatch(c,d).then(function(){e.submitPin(a,f(),g,h).then(function(c){c.success&&(a.changeMode(b.views.CHANGE_LEVEL),a.updateCurrentLevel())})}).catch(function(){a.resetPins(!1,!1,!0),a.setStep(i),a.showMessage(h,!0)})},submitPin:function(a,b,c,d){return b.then(function(b){return a.resetPins(),b?(a.setStep(0),a.showMessage(c),{success:!0}):(a.showMessage(d,!0),{success:!1})})}};return e}]),angular.module("common-modules.player",[]),angular.module("common-modules.player").factory("PlayVideo",[function(){return{playUrl:function(a,b){var c={windowTitle:b.videoTitle,replaceHistory:!1};Uverse.page.loadDeepLink(a.replace("?","#"),b,c)}}}]),angular.module("common-modules.site-utils",[]),angular.module("common-modules.site-utils").constant("EllipsifyElements",{ELLIPSIS:"ELLIPSIS",EXPAND:"EXPAND",COLLAPSE:"COLLAPSE"}).controller("EllipsifyCtrl",["$scope",function(a){this.$elements={},this.expand=function(){a.$apply(function(){a.isExpanded=!0})},this.collapse=function(){a.$apply(function(){a.isExpanded=!1})}}]).directive("ellipsify",["EllipsifyElements","EllipsifyHelper","PostDigest",function(a,b,c){function d(a){a&&a.parentNode&&a.parentNode.removeChild(a)}return{controller:"EllipsifyCtrl",scope:{truncateTo:"@",textEllipsis:"@",ellipsify:"@",isExpanded:"=?"},require:["?^ellipsifyParent","ellipsify"],link:function(e,f,g,h){function i(){(r||u).removeClass("ellipsify-collapsed").addClass("ellipsify-expanded"),k(f,u)}function j(){(r||f).removeClass("ellipsify-expanded").addClass("ellipsify-collapsed"),k(u,f)}function k(a,b){a.css("display","none"),b.css("display",v)}function l(a){"html"==g.mode?f[0].innerHTML=a:f[0].textContent=a,m(),u&&d(u[0]),u=f.clone(),f.after(u),k(u,f),p&&u.append(p)}function m(){h[0]&&(r=h[0].$element,_.extend(t,{ellipsifyParent:r}))}var n=h[1].$elements,o=n[a.EXPAND],p=n[a.COLLAPSE],q=n[a.ELLIPSIS],r=null,s=o||q||angular.element(document.createTextNode(e.textEllipsis||"...")),t={ellipsifyElement:f,truncateTo:e.truncateTo||"letter",ellipsis:s},u,v=f.css("display");e.$watch("ellipsify",function(a){l(a),c(function(){var a=b.ellipsify(t);!a&&p&&d(p[0]),e.isExpanded&&k(f,u)})}),e.$watch("isExpanded",function(a,b){a!==b&&(a?i():j())})}}}]).controller("EllipsifyParentCtrl",function(){this.$element=null}).directive("ellipsifyParent",function(){return{controller:"EllipsifyParentCtrl",link:function(a,b,c,d){d.$element=b}}}).directive("ellipsifyEllipsis",["EllipsifyElements",function(a){return{require:"^ellipsify",link:function(b,c,d,e){e.$elements[a.ELLIPSIS]=c}}}]).directive("ellipsifyExpand",["EllipsifyElements",function(a){return{require:"^ellipsify",link:function(b,c,d,e){e.$elements[a.EXPAND]=c,c.on("click",e.expand)}}}]).directive("ellipsifyCollapse",["EllipsifyElements",function(a){return{require:"^ellipsify",link:function(b,c,d,e){e.$elements[a.COLLAPSE]=c,c.on("click",e.collapse)}}}]),angular.module("common-modules.site-utils").filter("choice",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return 2==b.length?1===a||a===!0?b[0]:b[1]:b[a]}}),angular.module("common-modules.site-utils").factory("BrowserHelper",["$sniffer","UvConstants",function(a,b){var c={getUnsupportedBrowserName:function(a,c){var d=_.find(b.unsupportedBrowsers,function(b){return a.match(b.regex)});if(!_.isEmpty(d)){var e=d.name;return e}return!1}};return c}]),angular.module("common-modules.site-utils").service("DurationHelper",[function(){this.getDurationObj=function(a){return moment.duration(1e3*a)},this.pad=function(a){return 10>a?"0"+a:a}}]),angular.module("common-modules.site-utils").factory("EllipsifyHelper",function(){function a(a){var b=a.parentNode;b&&(b.removeChild(a),b.appendChild(a))}function b(a,b,c,d){for(var e;;){if(1===c.length)e=c[0];else{var f=c.length-1;do f--,e=c[f],b.removeChild(e);while(f>0&&a());b.insertBefore(e,d)}if(!(e&&e.childNodes&&e.childNodes.length))break;b=e,c=e.childNodes,d=null}return e}function c(a,b,c){if(b){var e=3;if(b.nodeType!==e||"node"==c)return void b.parentNode.removeChild(b);var f=b.nodeValue,g;"word"==c?(f=f.split(/\b/g),g=function(c,d){return b.nodeValue=f.slice(0,c).join(""),d?a()?-1:1:void 0}):g=function(c,d){return b.nodeValue=f.substr(0,c),d?a()?-1:1:void 0};var h=d(f.length,g);return g(h-1,!1),h<f.length}}function d(a,b){for(var c=0,d=0;a>0;){d=c+(a>>1);var e=b(d,!0);if(e>0)d++,a+=c-d,c=d;else{if(!(0>e))return d;a=d-c}}return d}var e={ellipsify:function(d){var e=d.ellipsifyParent||d.ellipsifyElement,f=d.ellipsifyElement[0].childNodes,g=d.ellipsis[0].parentNode;g&&g.removeChild(d.ellipsis[0]);var h=e[0].offsetHeight,i=function(){return a(d.ellipsis[0]),h<e[0].scrollHeight};if(i()){d.ellipsifyElement.append(d.ellipsis);var j=b(i,d.ellipsifyElement[0],f,d.ellipsis[0]);return c(i,j,d.truncateTo)}}};return e}),angular.module("common-modules.site-utils").factory("PostDigest",["$rootScope",function(a){return function(b){a.$$postDigest(b)}}]),angular.module("common-modules.site-utils").service("TimeHelper",["UserHelper",function(a){var b=this;_.extend(b,{adjustedTime:function(b){var c,d=a.getTimeZoneDetail();return _.isEmpty(d)?b:(c=b<d.nextChange?-d.offset:-d.nextOffset,b.utc().zone(c))},moment:function(){var a=moment.apply(null,arguments);return b.adjustedTime(a)}})}]),angular.module("common-modules.site-utils").service("TransitionHelper",["$window","$document","$timeout",function a(b,c,d){function e(a){var b=k.documentElement.style;if(a in b)return a;var c=["Webkit","Moz","O","ms"],d=c.length,e=0;for(a=a.charAt(0).toUpperCase()+a.slice(1);d>e;){var f=c[e]+a;if(f in b)return f;e++}return a.toLowerCase()}function f(a){return"number"!=typeof a||isNaN(a)?a:a+"px"}function g(a){var b=/[\d\.\-]+/g,c=a.match(b),d=c.length>6,e=d?c[14]:c[5],f=d?c[13]:c[4];return{X:parseFloat(f),Y:parseFloat(e)}}function h(a,b){var c=$(a);c.set("tween",{duration:550,property:"left",link:"cancel"});var d=c.get("tween");d.addEvent("complete",function(){d.removeEvents()}),d.start(b)}function i(a){return function(){m.transitionEnd=a,p[0].parentNode.removeChild(p[0]),p=null}}function j(){p.setAttribute("style","position:absolute;top:0px;transition:top 1ms ease;-webkit-transition:top 1ms ease;-moz-transition:top 1ms ease;-o-transition:top 1ms ease"),p=angular.element(p),l.append(p),_.forEach(o,function(a){p.on(a,i(a))}),d(function(){p[0].style.top="1px"},0)}var k=c[0],l=angular.element(k.body),m=this,n=this.props={transform:e("transform"),transition:e("transition"),transitionDuration:e("transitionDuration")};this.parseTransform=g,this.rAF=(b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){b.setTimeout(a,1e3/60)}).bind(b),this.translate=function(a,b,c){var d=a.getComputedStyle(n.transform);"none"==d&&(a.style[n.transform]="translate3d(0,0,0)",d=a.getComputedStyle(n.transform));var e=f("X"===c?b:g(d).X),h=f("Y"===c?b:g(d).Y);a.style[n.transform]="translate3d("+e+","+h+",0)"},this.translate2d=function(a,b,c){var d=f(b),e=f(c);a.style?a.style[n.transform]="translate("+d+","+e+") translateZ(0)":this.rAF(function(){a.style&&(a.style[n.transform]="translate("+d+","+e+") translateZ(0)")})},this.translateX=function(a,b){a.style.hasOwnProperty(n.transition)?this.translate(a,b,"X"):h(a,b)},this.translateY=function(a,b){this.translate(a,b,"Y")},this.transition=function(a,b){a.style[n.transition]=b},this.duration=function(a,b){if(null==b){var c=a.getComputedStyle(n.transitionDuration);return c.length?(c=_.reduce(c.split(","),function(a,b){return a+parseFloat(b)||0},0),1e3*c):0}"number"!=typeof b||isNaN(b)||(b+="ms"),a.style?a.style[n.transitionDuration]=b:this.rAF(function(){a.style&&(a.style[n.transitionDuration]=b)})},this.addPx=function(a){return a+"px"};var o=["transitionend","webkitTransitionEnd","oTransitionEnd"],p=document.createElement("div");this.transitionEnd="",j()}]),angular.module("common-modules.site-utils").constant("UvConstants",{cookies:{hd:"NEXTGEN_HD",zip:"NEXTGEN_ZIP",user:"NEXTGEN_NAME",uverse:"NEXTGEN_UVERSE",epgZip:"EPG_Custom_Zip_Code",entitlement:"NEXTGEN_PACKAGES",added_packages:"NEXTGEN_ADDED_PACKAGES",hideMyAccountMessage:"HIDE_MY_ACCOUNT_MESSAGE"},urls:{coupons:{save:"/coupons/save.json"},banners:{bannerCampaign:"/bannerCampaign.json"},favorites:{save:"/favorites.addItem",remove:"/favorites.removeItem"}},urlParams:{resume:"&resume"},header:{height:59},unsupportedBrowsers:[{name:"Internet Explorer",src:"unsupported-browser.png",url:"/unsupported-browser",regex:/MSIE [1-6]\.\d/},{name:"Internet Explorer 7",src:"",url:"/unsupported-browser",regex:/MSIE 7\.\d/,disabledBanner:!0},{name:"Internet Explorer 8",src:"",url:"/unsupported-browser",regex:/MSIE 8\.\d/,disabledBanner:!0},{name:"Firefox",src:"unsupported-browser.png",url:"http://getfirefox.com",regex:/Firefox\/[0-6]\.\d/},{name:"iPad",src:"ipad-banner.png",url:"http://itunes.apple.com/us/app/at-t-u-verse/id410354613?mt=8#",regex:/iPad/,disabledToast:!0},{name:"Android",src:"",url:"",regex:/Android/,disabledToast:!0},{name:"Safari 4",src:"unsupported-browser.png",url:"http://www.apple.com/safari/",regex:/Version\/4(.*)Safari/}],contentTypes:{movies:"movies",tv:"tv",music:"music",rental:"rental",live:"live"}}),angular.module("common-modules.tabs",[]),angular.module("common-modules.tabs").controller("TabsetController",["$scope",function b(a){var b=this,c=b.tabs=[],d=b.headings=[];_.extend(b,{headingsElem:null,select:function(a){_.forEach(d,function(a){a.active=!1,a.$parent.tab.active=!1}),a.active=!0,a.$parent.tab.active=!0},addHeading:function(a,c){b.headingsElem&&(b.headingsElem.append(a),d.push(c),1===d.length&&(c.active=!0,c.$parent.tab.active=!0))},addTab:function(a){c.push(a)}})}]).directive("tabset",function(){return{replace:!0,restrict:"EA",controller:"TabsetController",templateUrl:UvJsOptions.jsSrc+"common-modules/tabs/templates/tabset.tpl",link:function(a,b,c){}}}).directive("tab",[function(){return{restrict:"E",scope:{tab:"="},template:'<div ng-include="tab.templateUrl"></div>',replace:!0,require:"^tabset",link:function(a,b,c,d){d.addTab(b)}}}]).directive("tabHeadings",function(){return{restrict:"A",require:"^tabset",link:function(a,b,c,d){d.headingsElem=b}}}).directive("tabHeading",["$compile","Tracking",function(a,b){return{restrict:"E",templateUrl:UvJsOptions.jsSrc+"common-modules/tabs/templates/tab-heading.tpl",replace:!0,require:"^tabset",transclude:!0,link:function(c,d,e,f,g){g(function(b){f.addHeading(d,c),a(b,c)}),c.select=function(){c.disabled||(f.select(c),b.trackElement(d,{defaults:{action:"click"}}))}}}}]),angular.module("common-modules.user",["ngCookies"]),angular.module("common-modules.user").factory("EntitlementHelper",["EntitlementStatus","UserHelper",function(a,b){function c(c){if(!c)return a.ALLOWED;if(!b.isSignedIn())return a.SIGNIN;var e=f(c);if(g(c)&&!e){if(c.split(",").length>2)return a.HDUPGRADE;if(!this.hasHDPremiumPackage())return a.HDPREM}return d(c)&&!e?a.BROADBAND:e?a.ALLOWED:a.UPGRADE}function d(a){return e(a,"D>")}function e(a,b){if(!a)return!1;var c=_.some(a.split(","),function(a){return a.length>b.length&&a.substring(0,2)==b?!0:void 0});return c}function f(a){var c=b.entitlementPackages().hash,d=_.some(a.split(","),function(a){return c[a]?!0:void 0});return d}function g(a){return a?a.split(",").indexOf("P>HDPREM")>-1:!1}return{getEntitlementStatus:c}}]),angular.module("common-modules.user").factory("UserHelper",["$cookies","$interpolate","$window","UvConstants",function c(a,b,d,e){var f=b(UvJsOptions.links.signInUrlTemplate),g={isSignedIn:function(){return!!a[e.cookies.user]},isUverseUser:function(){return!!a[e.cookies.uverse]},uversePackage:function(){return a[e.cookies.uverse]},signInUrl:function(a){return a||(a=d.location.href),f({returnUrl:a})},entitlementPackages:function(){var b={},c=a[e.cookies.entitlement];if(c){c=c.replace(/"/g,""),b.string=c,b.list=b.string.split(",");var d={};_.forEach(b.list,function(a){d[a]=!0}),b.hash=d}return c=a[e.cookies.added_packages],c&&(c=c.replace(/"/g,""),b.addons=c.split(",")),b},hasPackageAddon:function(a){var b=!1;return _.forEach(a,function(a){_.contains(g.entitlementPackages().addons,a)&&(b=!0)}),b},getTimeZoneDetail:function(){Uverse.page.personalization.uverseData.getTimeZoneInfo()}};return g}]),angular.module("common-modules.user").value("BadgeState",{FREE:"FREE",WATCH:"WATCH",NEW:"NEW"}),angular.module("common-modules.user").value("EntitlementStatus",{SIGNIN:"SIGNIN",UPGRADE:"UPGRADE",BROADBAND:"BROADBAND",HDPREM:"HDPREM",HDUPGRADE:"HDUPGRADE",ALLOWED:"ALLOWED"}),angular.module("piksel.navigate",[]),angular.module("piksel.navigate").directive("ngHref",["$log",function(a){var b=function(b,c,d){a.error("[ngHref-obsolete.js]","[ng-href] is obsolete; please use [uv-href] instead.",c[0])};return b}]),angular.module("piksel.navigate").directive("uvHref",["navigateTo",function(a){var b={priority:99,link:function(b,c,d){function e(){var a=!_.isEmpty(d.uvHref),b=!d.target||"_self"===d.target;return a&&b}d.$observe("uvHref",function(a){a&&d.$set("href",a)}),c.on("click",function(b){e()&&(b.preventDefault(),a(d.uvHref))})}};return b}]),angular.module("piksel.navigate").factory("navigateTo",["$window","$rootScope","$q","$timeout",function(a,b,c,d){var e=function(d,e){var g=[],h={deferUntil:function(a){g.push(a)}};b.$emit("navigate",h);var i=f(c.all(g),500);i.finally(function(){e?a.location.replace(d):a.location=d})},f=function(a,b){var e=c.defer();return a.then(e.resolve,e.reject),d(e.reject,b),e.promise};return e}]),angular.module("piksel.tracking",["common-modules.site-utils"]),angular.module("piksel.tracking").run(["$document","Tracking",function(a,b){a.capture("click",function(a){var c=angular.element(a.target),d=c.closest("[data-track-component]");if(d.length){var e;if(e=d.is("[href], [ui-sref]")?"click":d.is("input[type=submit], button[type=submit]")?"submit":d.is("input[type=checkbox]")?d.is(":checked")?"unchecked":"checked":d.is("input[type=radio], [btn-radio]")?"radio":d.is("select, option")?"select":d.is("[data-track-click], input, textarea, [ng-click], [uv-tap]")?"click":null){var f={defaults:{action:e,click:!0},requires:"click"};b.trackElement(c,f)}}})}]),angular.module("piksel.tracking").run(["GoogleAnalytics","$rootScope",function(a,b){b.$on("tracking-event",function(b,c){var d={category:c.getData("component",!0).join(" > "),action:c.getData("action"),label:c.getData("metadata",!0).join(" | ")},e=a.trackEvent(d);c.setRunning(e)});var c=_.debounce(function(){a.trackPageView()},100);b.$on("$stateChangeSuccess",function(a,b,d,e,f){c()})}]),angular.module("piksel.tracking").factory("GoogleAnalytics",["$script","$window","$log","$location","$q",function(a,b,c,d,e){!function g(){a("//www.google-analytics.com/analytics.js",{async:!0}),b.GoogleAnalyticsObject="ga",b.ga=b.ga||function(){(b.ga.q=b.ga.q||[]).push(arguments)},b.ga.l=1*new Date,b.ga("create",UvJsOptions.googleAnalytics.accountNumber,"auto")}();var f={trackPageView:function(a){a=a||d.absUrl(),b.ga("send","pageview",a),c.log("[GoogleAnalytics]","Tracking pageview",a)},trackEvent:function(a){var d=e.defer();return b.ga("send",{hitType:"event",eventCategory:a.category,eventAction:a.action,eventLabel:a.label,hitCallback:function(){d.resolve()}}),c.log("[GoogleAnalytics]","Tracking event",a.action,a.category,a.label),d.promise}};return f}]),angular.module("piksel.tracking").factory("Tracking",["$rootScope","$log","$q",function(a,b,c){function d(a){var b="data-track-",c=null,d=null;return a.attrs(function(e,f){if(0===f.indexOf(b)){if(c||(c={},d=a.scope()),f=f.substr(b.length).camelCase(),d){var g=null;e.contains("$innerText")&&(g={$innerText:a.text().replace(/\s\s+/g," ")}),e=d.$eval(e,g)}c[f]=e}}),c}function e(a){this._trackingData=a}var f=[],g={trackElement:function(c,f){for(var g=[];c.length;){var h=d(c);h&&g.unshift(h),c=c.parent()}f&&f.defaults&&g.unshift(f.defaults);var i=new e(g);if(f&&f.requires){var j=i.getData(f.requires);if(!j)return b.log("[Tracking]","Tracking skipped; '",f.requires,"' was ",j),i}return a.$emit("tracking-event",i),i}};return e.prototype={_trackingData:null,getData:function(a,b){if(0===arguments.length)return _.merge.apply(_,[{}].concat(this._trackingData));1===arguments.length||b===!1?b=1:b===!0&&(b=-1);var c=[];return _.forEachRight(this._trackingData,function(d){return a in d&&c.unshift(d[a]),c.length===b?!1:void 0}),c=_.flatten(c),1===b?c[0]:c},setRunning:function(a){f.push(a),a.finally(function(){f.remove(a)})}},a.$on("navigate",function(a,b){var d=c.all(f);b.deferUntil(d)}),g}]),angular.module("piksel.utils",[]),angular.module("piksel.utils").filter("url",["$window",function(a){return function b(c){return a.encodeURIComponent(c)}}]),angular.module("piksel.utils").factory("$exceptionHandler",[function(){var a=function(a){setTimeout(function(){throw a},1)};return a}]),angular.module("piksel.utils").factory("$script",[function(){var a=function(a,b){var c=document.createElement("script");b&&b.async&&(c.async=1),c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)};return a}]),function(){function a(a){return"_"+a}function b(a,b){return _.isDefined(b)&&(a=a.camelCase(),b=_.isNumber(b)&&!_.isNaN(b)?e[a]?b:b+"px":b),[a,b]}var c=angular.element,d=c.prototype,e={zoom:!0,order:!0,zIndex:!0,widows:!0,orphans:!0,opacity:!0,lineHeight:!0,fontWeight:!0,columnCount:!0,fillOpacity:!0},f={css:b};_.forIn(f,function(c,e){function f(){return b.apply(arguments[0],_.slice(arguments,1))}var g=d[a(e)]=d[e];d[e]=function(a,b){var d=this,e=d[0],h=_.isObject(a),i=c.length>arguments.length&&!h,j;if(i)j=f(e,a);else if(h){var k={};_.forIn(a,function(a,b){var c=f(e,b,a);k[c[0]]=c[1]}),j=[k]}else j=f(e,a,b);return g.apply(d,j)}})}(),function(){var a;_.extend(angular.element.prototype,{is:function(b){var c=this[0],d;a||(a=c.matches||c.matchesSelector||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector);try{d=a.call(c,b)}catch(e){d=!1}return d},attrs:function(a){if(!this.length)return null;if("string"==typeof a){var b=a;a=function(a,c){return 0===c.indexOf(b)}}var c=null,d=this[0].attributes;if(d&&d.length)for(var e=0,f=d.length;f>e;e++){var g=d[e],h=g.nodeValue,i=g.nodeName;(!a||a(h,i))&&((c||(c={}))[i]=h)}return c},closest:function(a){for(var b=this;b.length;){if(b.is(a))return b;b=b.parent()}return b},capture:function(a,b){a=a.split(" ");var c=this[0];_.forEach(a,function(a){c.addEventListener(a,b,!0)})}})}(),function(){Function.prototype.bind||_.extend(Function.prototype,{bind:function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}}),_.extend(Element.prototype,{getComputedStyle:function(a){var b=window.getComputedStyle(this);return b[a]},getClosest:Element.prototype.getClosest||function(a){for(var b=this;b.parentElement;){if(angular.element(b).hasClass(a))return b;b=b.parentElement}return null},getTop:function(){for(var a=this.offsetTop,b=this.offsetParent;b;)a+=b.offsetTop,b=b.offsetParent;return a}});var a=/([\:\-\_]+(.))/g,b=/^moz([A-Z])/,c=/[&;]/;_.extend(String.prototype,{capitalize:function(){return this.charAt(0).toUpperCase()+this.slice(1)},camelCase:function(){return this.replace(a,function(_,a,b,c){return c?b.toUpperCase():b}).replace(b,"Moz$1")},parseQueryString:function(){var a=this.split("?"),b=(1===a.length?a[0]:a[1]).split(c),d={};return _.forEach(b,function(a){if(!_.isEmpty(a)){var b=a.split("="),c=b[0],e=b[1];null!=c&&(d[c]=e)}}),d},contains:function(a){return this.indexOf(a)>-1},startsWith:function(a){return 0===this.indexOf(a)}}),_.extend(Array.prototype,{remove:function(a){var b=this.indexOf(a);b>-1&&this.splice(b,1)}})}(),function(){function a(a,c,d){return b.call(a,c,d)}var b=[].slice;_.mixin({hasContent:function(a){return!_.isEmpty(a)},lastIndex:function(a){return _.size(a)-1},isDefined:function(a){return!_.isUndefined(a)},slice:a,toArrayFast:function(b){return a(b)},mapKeys:function(a,b,c){var d={};for(var e in a){var f=b[e];
f?d[f]=a[e]:c&&(d[e]=a[e])}return d},chunk:function(a,b){for(var c=[],d=0,e=a.length;e>d;d+=b){var f=Math.min(d+b,e),g=a.slice(d,f);c.push(g)}return c}})}(),moment.lang("uvm",{calendar:{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"ddd MMM D",nextWeek:"ddd MMM D",sameElse:"ddd MMM D"},longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",l:"M/D/YYYY",LL:"MMMM Do YYYY",ll:"MMM D YYYY",LLL:"MMMM Do YYYY LT",lll:"MMM D YYYY LT",LLLL:"dddd, MMMM Do YYYY LT",llll:"ddd, MMM D YYYY LT"}}),_.extend(moment.fn,{setSame:function(a,b){var c=moment(a);switch(b=void 0!==b?b:"millisecond",b=moment.normalizeUnits(b)){case"millisecond":this.milliseconds(c.milliseconds());case"second":this.seconds(c.seconds());case"minute":this.minutes(c.minutes());case"hour":this.hours(c.hours());case"day":this.date(c.date());case"month":this.month(c.month());case"year":this.year(c.year())}return this}}),angular.module("uv",["ngAnimate","uv.components-page","uv.components-shared","uv.components","common-modules.site-utils","common-modules.user","common-modules.animations","common-modules.player","common-modules.tabs","common-modules.parental-controls","uv.cards","uv.flyouts","snes-tpls","piksel.utils","piksel.tracking","piksel.navigate"]),angular.module("uv.cards",["uv.flyouts"]),angular.module("uv.cards").controller("CardCtrl",["$scope","Flyout","ComponentDataCache","Tracking","PlayVideo","EntitlementHelper","EntitlementStatus","UvConstants",function(a,b,c,d,e,f,g,h){var i=null;this.cardEl=null;var j=this;a.isHovered=!1,a.jsSrc=UvJsOptions.jsSrc,a.contentTypes=h.contentTypes,a.isEntitled=function(){return f.getEntitlementStatus(a.cardData.entitlementLevel)===g.ALLOWED},a.setHovered=function(a,b){this.isHovered=b,b&&d.trackElement(j.cardEl,{defaults:{action:"hover"},requires:"metadata"})},a.playVideo=function(a){var b={videoTitle:this.title,videoSubtitle:this.episodeTitle,videoDescription:this.description,videoNetwork:this.network};e.playUrl(a,b)},a.$watch("isHovered",function(d){if(d&&!i){var e=c.getData(a.cardData.flyoutEndpoint,a.cardData.flyoutData);i=b.newFlyout(j.cardEl,e)}i&&(d?i.open():i.close())})}]).directive("card",["CardTemplates",function(a){return{restrict:"E",replace:!0,controller:"CardCtrl",templateUrl:UvJsOptions.jsSrc+"uv/cards/templates/card-wrapper.tpl",scope:{cardData:"=",isHovered:"="},link:function(b,c,d,e){b.template=a[b.cardData.cardType.toUpperCase()],e.cardEl=c}}}]),angular.module("uv").controller("cardBadgeCtrl",["$scope","UserHelper","EntitlementHelper","EntitlementStatus","BadgeState",function(a,b,c,d,e){var f=c.getEntitlementStatus(a.cardData.entitlementLevel);a.badgeState="",f===d.ALLOWED&&(a.badgeState=b.isSignedIn()?e.WATCH:e.FREE),a.cardData.isNew&&a.cardData.isNew===!0&&(a.badgeState=e.NEW)}]).directive("cardBadge",function(){return{replace:!0,restrict:"E",templateUrl:UvJsOptions.jsSrc+"uv/cards/templates/card-badge.tpl",controller:"cardBadgeCtrl"}}),angular.module("uv.cards").constant("CardTemplates",{COUPON:UvJsOptions.jsSrc+"uv/cards/templates/coupon-card.tpl",LANDSCAPE_VIDEO:UvJsOptions.jsSrc+"uv/cards/templates/landscape-video-card.tpl",CATEGORY:UvJsOptions.jsSrc+"uv/cards/templates/category-card.tpl"}),angular.module("uv.components-page",[]),angular.module("uv.components-page").controller("ComponentsPageCtrl",["$scope","ComponentsPageRequest","ComponentsPageConstants",function(a,b,c){b.success(function(b){a.components=[],angular.forEach(b.components,function(b){var d=c[b.type];if(d){var e={templateUrl:c[b.type],model:b};a.components.push(e)}else Uverse.console.error("template url not found for "+b.type+"!")})})}]),angular.module("uv.components-page").controller("ComponentCtrl",["$scope","ComponentData",function(a,b){a.componentData=b.getData(a.component),a.jsSrc=UvJsOptions.jsSrc}]).directive("component",function(){return{restrict:"E",scope:{component:"="},controller:"ComponentCtrl",replace:!0,template:'<div ng-include="component.templateUrl"></div>'}}),angular.module("uv.components-page").factory("ComponentData",["ComponentDataCache",function(a){return{getData:function(b){return a.getData(b.model.dataEndpoint,b.model.data)}}}]),angular.module("uv.components-page").factory("ComponentsPageRequest",["$http",function(a){var b=a({method:"GET",url:"/rest/componentPage/page?url="+Uverse.config.componentPageUrl});return b}]),angular.module("uv.components-page").constant("ComponentsPageConstants",{BANNER_CAMPAIGN:UvJsOptions.jsSrc+"uv/components/banner-campaign/templates/banner-campaign.tpl",SLIDE_COMPONENT:UvJsOptions.jsSrc+"uv/components/slide-component/templates/slide-component.tpl",PAGE_TITLE:UvJsOptions.jsSrc+"uv/components/page-title/templates/page-title.tpl",TV_PACKAGES:UvJsOptions.jsSrc+"uv/components/tv-packages/templates/tv-packages.tpl",PACKAGE_ADDON:UvJsOptions.jsSrc+"uv/components/package-addons/templates/package-addons.tpl",STANDARD_MARKETING:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketing.tpl",COUPON_TABS:UvJsOptions.jsSrc+"uv/components/coupon-tabs/templates/coupon-tabs.tpl",CARD_CONTAINER_COMPONENT:UvJsOptions.jsSrc+"uv/components/card-container/templates/card-container.tpl",COLLECTION_COMPONENT:UvJsOptions.jsSrc+"uv/components/collection-filter/templates/collection-filter.tpl",COLLEGE_SPORTS_SCHEDULE_COMPONENT:UvJsOptions.jsSrc+"uv/components/sec-football-rush-tour-2014/templates/sec-football-rush-tour-2014.tpl"}),angular.module("uv.components-shared",[]),angular.module("uv.components-shared").directive("componentHeader",function(){return{replace:!0,restrict:"E",templateUrl:UvJsOptions.jsSrc+"uv/components-shared/templates/header.tpl",scope:{headerData:"="}}}),angular.module("uv.components",[,"uv.components.page-title","uv.components.tv-packages","uv.components.banner-campaign","uv.components.slide-component","uv.components.coupon-tabs","uv.components.package-addons","uv.components.marketing","uv.components.card-container","uv.components.collection-filter","uv.components.sec-football-rush-tour-2014","uv.components-shared","ngAnimate","common-modules.animations"]),angular.module("uv.components.banner-campaign",["common-modules.site-utils"]),angular.module("uv.components.banner-campaign").controller("BannerCampaignCtrl",["$scope","BannerCampaignHelper","BrowserHelper","BannerCampaignConstants",function(a,b,c,d){function e(c){var d=b.getBanner(c);d.then(function(b){a.banner=f(b)},function(){a.banner=null})}function f(a){var b={image:a.imageUrl,link:a.link,target:a.externalLink?"_blank":null,alt:a.bannerAlt||d.defaultAlt};return b}a.componentData.then(function(g){var h,i,j=c.getUnsupportedBrowserName(navigator.userAgent,document.documentMode);if(j)h=d.campaignIds[j]||d.campaignIds.Default,i=e(h);else if(g.campaigns){var k=b.getBannerFromResponse(g.campaigns);a.banner=f(k)}else h=g.campaignId,i=e(h)})}]),angular.module("uv.components.banner-campaign").factory("BannerCampaignHelper",["UserHelper","UvConstants","$q","$http",function(a,b,c,d){function e(a){var c={campaignId:a};return d.get(b.urls.banners.bannerCampaign,{params:c})}function f(b){var c=a.uversePackage()||"NONE",d=_.find(b,function(a){return _.contains(a.packages.split(","),c)});return d?d.banners:null}function g(a){if(!a)return null;var b=_.random(1,100),c=0,d=a[0],e=0,f=!1;do b>c&&b<=c+a[e].percentage?(d=a[e],f=!0):(c+=a[e].percentage,e++);while(!f);return d}var h={getBanner:function(a){var b=e(a).then(function(a){var b=f(a.data.campaigns),d=g(b);return d?d:c.reject()});return b},getBannerFromResponse:function(a){var b=f(a),d=g(b);return d?d:c.reject()}};return h}]),angular.module("uv.components.banner-campaign").constant("BannerCampaignConstants",{campaignIds:{"Internet Explorer 1":"Unsupported/Unsupported Campaign - IE1","Internet Explorer 2":"Unsupported/Unsupported Campaign - IE2","Internet Explorer 3":"Unsupported/Unsupported Campaign - IE3","Internet Explorer 4":"Unsupported/Unsupported Campaign - IE4","Internet Explorer 5":"Unsupported/Unsupported Campaign - IE5","Internet Explorer 6":"Unsupported/Unsupported Campaign - IE6","Internet Explorer 7":"Unsupported/Unsupported Campaign - IE7","Internet Explorer 8":"Unsupported/Unsupported Campaign - IE8","Firefox 1":"Unsupported/Unsupported Campaign - Firefox1","Firefox 2":"Unsupported/Unsupported Campaign - Firefox2","Firefox 3":"Unsupported/Unsupported Campaign - Firefox3","Firefox 4":"Unsupported/Unsupported Campaign - Firefox4","Firefox 5":"Unsupported/Unsupported Campaign - Firefox5","Firefox 6":"Unsupported/Unsupported Campaign - Firefox6",Android:"Unsupported/Unsupported Campaign - Android",iPad:"Unsupported/Unsupported Campaign - iPad","Safari 4":"Unsupported/Unsupported Campaign - Safari4",Default:"Unsupported/Unsupported Campaign - Default"},defaultAlt:"Uverse Banner"}),angular.module("uv.components.card-container",[]),angular.module("uv.components.card-container").controller("CardContainerCtrl",["$scope",function(a){a.header={},a.cards=[],a.componentData.then(function(b){a.header=b.header,a.cards=b.cards})}]),angular.module("uv.components.collection-filter",["ngAnimate","common-modules.animations"]),angular.module("uv.components.collection-filter").controller("CollectionFilterCtrl",["$scope",function(a){var b=this;b.currentIndex=-1,a.componentData.then(function(c){a.groups=c.groups,b.currentIndex=c.groups.length>1?-1:0,a.pageLogo=c.pageLogo,a.pageLogoAlt=c.pageLogoAlt})}]),angular.module("uv.components.coupon-tabs",["uv.components-shared"]),angular.module("uv.components.coupon-tabs").controller("CouponTabsCtrl",["$scope","UserHelper","CouponTabsConstants",function(a,b,c){a.isUverseUser=b.isUverseUser(),a.header={},a.tabs=[],a.componentData.then(function(b){a.header=b.header;var d=b.tabs;_.forEach(d,function(b){var d=c[b.type];if(d){var e={templateUrl:d,model:b};a.tabs.push(e)}})})}]),angular.module("uv.components.coupon-tabs").controller("CouponsCtrl",["$scope","CouponData",function(a,b){b.getCoupons(a.tab.model.dataEndpoint,a.tab.model.data).then(function(b){a.couponCards=b})}]),angular.module("uv.components.coupon-tabs").controller("PurchaseHistoryCtrl",["$scope","PurchaseHistoryData","UserHelper",function(a,b,c){function d(b){a.purchases=b,_.hasContent(b)&&(a.disabled=!1)}function e(a){Uverse.console.warn("[PurchaseHistoryCtrl] "+a)}c.isUverseUser()&&(a.disabled=!0,b.getData(a.tab.model.dataEndpoint,a.tab.model.data).then(d,e))}]),angular.module("uv.components.coupon-tabs").controller("SavedCouponsCtrl",["$scope","CouponData","UserHelper",function(a,b,c){c.isUverseUser()&&(a.savedCouponsCount=0,b.getSavedCoupons(a.tab.model.dataEndpoint,a.tab.model.data).then(function d(b){a.savedCoupons=b,a.savedCouponsCount=b.length}),a.$watch(function(){return b.savedCoupons},function(b){a.savedCoupons=b,a.savedCouponsCount=b.length},!0),a.$watch("savedCouponsCount",function(b){a.disabled=0===b}))}]),angular.module("uv.components.coupon-tabs").factory("PurchaseHistoryData",["ComponentDataCache",function(a){function b(a){var b=a.purchases;return _.forEach(b,function(a){a.couponCode=a.couponCode||UvJsOptions.purchaseHistory.couponCodeDefault}),b}function c(a){return"Purchase History could not be retrieved."}var d={getData:function(d,e){return a.getData(d,e).then(b,c)}};return d}]),angular.module("uv.components.coupon-tabs").constant("CouponTabsConstants",{COUPON:UvJsOptions.jsSrc+"uv/components/coupon-tabs/templates/coupons.tpl",SAVED_COUPONS:UvJsOptions.jsSrc+"uv/components/coupon-tabs/templates/saved-coupons.tpl",COUPON_PURCHASE_HISTORY:UvJsOptions.jsSrc+"uv/components/coupon-tabs/templates/purchase-history.tpl"}),angular.module("uv.components.marketing",["ngSanitize","uv.components-shared"]),angular.module("uv.components.marketing").controller("MarketingCountdownCtrl",["$scope","$interval",function(a,b){function c(){a.state=g.DURING_EVENT;var b=e();b||f()}function d(){return a.state===g.PRE_EVENT}function e(){var b=_.now()-a.item.body.countdown.eventTimes.end>=0;return b?(a.onEventCompleted(),!0):!1}function f(){i=b(function(){var a=e();a&&b.cancel(i)},h)}var g={PRE_EVENT:0,DURING_EVENT:1},h=5e3;a.state=g.PRE_EVENT,a.changeToDuringEvent=c,a.isPreEvent=d;var i=null}]),angular.module("uv.components.marketing").controller("MarketingCtrl",["$scope","MarketingHelper",function(a,b){function c(c){return c.options?(a.data=c.options,a.header=c.options.header,void(a.data.marketingItems=b.getMarketingItems(c.options.standardMarketingItems))):void Uverse.console.log("[Marketing Component]","Marketing Data was empty.")}function d(){Uverse.console.log("[Marketing Component]","Marketing Data could not be retrieved.")}function e(b){a.data.marketingItems=_.without(a.data.marketingItems,b)}a.data={},a.header={},a.removeItem=e,a.componentData.then(c,d)}]),angular.module("uv.components.marketing").directive("marketingBody",[function(){var a={MARKETING_STANDARD:{templatePath:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketingStandard.tpl","class":"marketing-standard"},MARKETING_FOUR_BY_FOUR:{templatePath:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketingFourByFour.tpl","class":"marketing-four-by-four"},MARKETING_COUNTDOWN:{templatePath:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketingCountdown.tpl","class":"marketing-countdown"}};return{restrict:"E",replace:!0,scope:{item:"=",onRemoveSelf:"="},template:"<div class=\"marketing-body\" ng-include=\"templateUrl\" ng-class=\"[templateClass, (item.hero.position === 'LEFT' ? 'hero-left' : 'hero-right')]\"></div>",link:function(b){var c=a[b.item.body.type];b.templateUrl=c.templatePath,b.templateClass=c.class,b.onEventCompleted=function(){b.onRemoveSelf(b.item)}}}}]),angular.module("uv.components.marketing").directive("marketingCta",[function(){return{restrict:"E",replace:!0,scope:{cta:"="},templateUrl:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketingCTA.tpl",link:function(a){a.getLinkTarget=function(a){return a?"_blank":"_self"}}}}]),angular.module("uv.components.marketing").directive("marketingCountdownTimer",["$interval","$timeout",function(a,b){var c={ACTIVE:0,EXPIRED:1};return{restrict:"E",replace:!0,templateUrl:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketingCountdownTimer.tpl",scope:{onExpire:"=",expireTime:"="},link:function(d){var e=null,f=function(a){a===c.EXPIRED&&d.onExpire()},g=function(a){var b=(new Date).diff(new Date(a),"second"),c=86400,d=b-c;return 0>=d&&(d=1),{isStartTimeLessThan24Hours:c>b,secondsTo24HoursBeforeProgramStart:d,secondsToOnline:b,formattedTimes:{greaterThan24Hours:moment(a).format("MMM D")}}},h=function(a){var b=new Date(a),c=i(b,{labelsOn:!1}),e=i(b,{separator:" ",labelsOn:!0,names:[" sec"," min"," hr"," dy"," yr"],displayNames:[!1,!0,!0,!1,!1]}),f=m(c,e);0===f.exact.actual?d.onExpire():d.timeRemaining=f.exact.formatted},i=function(a,b){var c=new Date;null==a&&(a=new Date);var d=((a-c)/1e3).floor(),e=l(d,b);return j(d,e)},j=function(a,b){return{timeRemaining:a,formattedTimeRemaining:b}},k=function(b){var c;return b>0?c=b:(c=0,a.cancel(p)),c},l=function(a,b){var c={separator:":",names:["s","m","h","d","y"],displayNames:[!0,!0,!0,!1,!1],leadingZeros:[!0,!0,!1,!1,!1],zeroPlaceholders:[!0,!0,!0,!1,!1]};Object.merge(c,b);for(var d=[],e=[60,60,24,365,0],f,g,h=0;h<e.length;h++){var i=!1;if(h&&!a&&c.zeroPlaceholders[h]){var j=c.labelsOn?c.names[h]||"":"";d.unshift("00"+j),i=!0}if(f=a,(g=e[h])&&(f=a%g,a=(a/g).floor()),c.leadingZeros[h]&&10>f&&(f="0"+f),c.displayNames[h]&&!i){var j=c.labelsOn?c.names[h]||"":"";d.unshift(f+j)}}return d.join(c.separator)},m=function(a,b){var c={};return a&&(c.exact={formatted:a.formattedTimeRemaining,actual:k(a.timeRemaining)}),c.rounded=n(b,c.exact),c},n=function(a,b){return a?{formatted:a.formattedTimeRemaining,actual:k(a.timeRemaining)}:b},o=function(){var c=g(d.expireTime);if(c.isStartTimeLessThan24Hours)p=a(h.bind(null,d.expireTime),1e3);else{var e=j(c.secondsToOnline,c.formattedTimes.greaterThan24Hours);d.timeRemaining=m(e).exact.formatted,b(o,1e3*c.secondsTo24HoursBeforeProgramStart)}};f(c.ACTIVE);var p=null;o()}}}]),angular.module("uv.components.marketing").directive("marketingHero",["$sce",function(a){function b(a){var b={HERO_IMAGE:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketingHeroImage.tpl",HERO_HTML:UvJsOptions.jsSrc+"uv/components/marketing/templates/marketingHeroHtml.tpl"};return b[a.item.hero.type]}function c(b){b.item.hero.html&&(b.item.hero.html=a.trustAsHtml(b.item.hero.html))}return{restrict:"E",replace:!0,template:'<div class="marketing-hero" ng-include="templateUrl" ng-style="{width: heroWidth}"></div>',link:function(a){c(a),a.templateUrl=b(a),a.heroWidth=a.item.hero.width+"px"}}}]),angular.module("uv.components.marketing").factory("MarketingHelper",function(){var a={getMarketingItems:function(a){return a=_.forEach(a,function(a){_.isEmpty(a.body.links)||(a.body.links=_.each(a.body.links,function(a){a.target=a.externalLink?"_blank":"_self"}))})}};return a}),angular.module("uv.components.package-addons",["uv.components-shared"]),angular.module("uv.components.package-addons").controller("PackageAddonsCtrl",["$scope","UserHelper",function(a,b){a.componentData.then(function(b){a.packageAddons=b,a.header=b.header}),a.userHasAddon=function(a){var c=a.user_package,d=c?c.split(","):"",e=b.hasPackageAddon(d);return a.checked=e,e};var c=4;a.isFirstColumn=function(a){return a%c===0}}]),angular.module("uv.components.page-title",[]),angular.module("uv.components.page-title").controller("PageTitleCtrl",["$scope",function(a){a.componentData.then(function(b){a.title=b.title})}]),angular.module("uv.components.sec-football-rush-tour-2014",["ngSanitize","uv.components-shared"]),angular.module("uv.components.sec-football-rush-tour-2014").controller("SecFootballRushTour2014Ctrl",["$scope",function(a){a.componentData.then(function(b){a.data=JSON.parse(b.scheduleJsonData),a.months=a.data.months})}]),angular.module("uv.components.slide-component",["ngSanitize","common-modules.animations"]),angular.module("uv.components.slide-component").controller("SlideComponentCtrl",["$scope","$interval","SlideComponentConstants","PlayVideo",function(a,b,c,d){function e(){h=b(a.goToNextSlide,4e3)}function f(){b.cancel(h)}function g(){e()}var h;a.slides=[],a.currentSlideIndex=0,a.componentData.then(function(b){a.slides=b.items,a.imagePosition=b.imagePosition,a.imageHasLeftAlignment=b.imagePosition===c.IMAGE_POSITION.LEFT,a.hasMoreThanOneSlide()&&e()}),a.getLinkTarget=function(a){return a?"_blank":"_self"},a.goToSelectedSlide=function(b){a.currentSlideIndex=b},a.goToPreviousSlide=function(){0===a.currentSlideIndex?a.currentSlideIndex=a.slides.length-1:a.currentSlideIndex--},a.goToNextSlide=function(){a.currentSlideIndex===a.slides.length-1?a.currentSlideIndex=0:a.currentSlideIndex++},a.onSlideComponentHover=function(a,b){b?f():g()},a.hasMoreThanOneSlide=function(){return a.slides.length>1},a.isPlayLink=function(a){return a.contains("?play=")},a.playVideo=function(a){var b={videoTitle:this.slide.title,videoSubtitle:this.slide.subtitle,videoDescription:this.slide.description,videoNetwork:this.slide.networkUrl};d.playUrl(a,b)}}]),angular.module("uv.components.slide-component").directive("slideComponent",["jsAnimate",function(a){return{restrict:"A",link:function(b,c){b.$watch("$parent.currentSlideIndex",function(d,e){d===b.$index?a.fadeIn(c,500,"linear"):e===b.$index&&a.fadeOut(c,500,"linear")})}}}]),angular.module("uv.components.slide-component").constant("SlideComponentConstants",{IMAGE_POSITION:{LEFT:"LEFT",RIGHT:"RIGHT"}}),angular.module("uv.components.tv-packages",["uv.components-shared"]),angular.module("uv.components.tv-packages").controller("TVPackagesCtrl",["$scope","UserHelper",function(a,b){a.componentData.then(function(b){a.tvPackages=b,a.header=b.header}),a.getTarget=function(a){return a?"_blank":"_self"},a.isUserPackage=function(a){return b.isUverseUser()&&-1!==b.uversePackage().indexOf(a)}}]),angular.module("uv").service("GlobalEvents",["$window","$rootScope",function(a,b){var c=_.throttle(function(a){b.$broadcast("windowResize",a)},100);angular.element(a).on("resize",c)}]),angular.module("uv").config([function(){}]).value("$anchorScroll",angular.noop).value("$location",angular.noop),angular.module("uv").controller("UvMainCtrl",[function(){}]),angular.module("uv").directive("aWrap",["$compile","$parse",function(a,b){return{restrict:"E",replace:!0,transclude:!0,template:"<a ng-transclude></a>",link:function(c,d,e,f,g){var h,i=d;g(function(b){h=a(b)(c)}),e.$observe("if",function(a){d.replaceWith(b(a)(c)?i:h)})}}}]),angular.module("uv").directive("leftArrow",function(){return{restrict:"A",template:'<svg xmlns="http://www.w3.org/2000/svg" class="navigation-arrow left" width="21.565001" height="33.994999" viewBox="0 0 21.565001 33.994999"><path d="M 9.488,16.997 21.565,4.794 16.821,0 4.744,12.203 l 0,0 -1.133,1.145 -1.599,1.616 0,0 L 0,16.997 16.821,33.995 21.565,29.201 z"></path></svg>'}}),angular.module("uv").directive("rightArrow",function(){return{restrict:"A",template:'<svg xmlns="http://www.w3.org/2000/svg" class="navigation-arrow right" width="21.565001" height="33.994999" viewBox="0 0 21.565001 33.994999"><path d="M 12.077,16.998 0,29.201 l 4.744,4.794 12.077,-12.203 0,0 1.133,-1.145 1.599,-1.616 0,0 2.012,-2.033 L 4.744,0 0,4.794 z"></path></svg>'}}),angular.module("uv").directive("uvButton",function(){return{restrict:"E",replace:!0,scope:{url:"=",text:"=",buttonTarget:"="},template:'<a class="button blue" uv-href="{{url}}" target="{{buttonTarget}}"><span class="btn-text" ng-bind-html="text"></span></a>'}}),angular.module("uv").controller("CarouselCtrl",["TransitionHelper","GlobalEvents","$rootScope",function(a,b,c){function d(){var a=f.scrollWidth,b=g.clientWidth,c=b-a;return c}var e=0,f,g;this.slideAdjust=0,this.setContentElem=function(b){f=b,a.translateX(f,0)},this.setContainerElem=function(a){g=a},this.move=function(b){var c=g.clientWidth,h=d();"left"==b.direction?this.canMoveLeft()&&(e+=c+this.slideAdjust):this.canMoveRight()&&(e-=c+this.slideAdjust),e>0&&(e=0),h>e&&(e=h),a.translateX(f,e)},this.canMoveLeft=function(){return 0>e},this.canMoveRight=function(){return e>d()},c.$on("windowResize",function(){var b=d();b>e&&(e=b,a.translateX(f,e))})}]).directive("carousel",[function(){return{restrict:"A",controller:"CarouselCtrl",transclude:!0,scope:{enabled:"&carousel",slideAdjust:"@"},templateUrl:UvJsOptions.jsSrc+"uv/templates/carousel.tpl",link:function(a,b,c,d,e){a.enabled()?(d.setContainerElem(b[0]),d.slideAdjust=+a.slideAdjust||0,a.canMoveLeft=!1,a.$watch(function(){return d.canMoveLeft()},function(b){a.canMoveLeft=b}),a.canMoveRight=!1,a.$watch(function(){return d.canMoveRight()},function(b){a.canMoveRight=b})):e(function(a){b.replaceWith(a)})}}}]).directive("carouselContent",[function(){return{restrict:"E",require:"^carousel",replace:!0,template:'<div class="carousel-content" ng-transclude></div>',link:function(a,b,c,d){d.setContentElem(b[0])}}}]).directive("carouselButton",[function(){return{restrict:"E",scope:{direction:"@"},require:"^carousel",replace:!0,transclude:!0,template:'<div class="carousel-button" ng-class="direction" ng-click="move()" ng-transclude  data-track-component="\'Carousel\'" data-track-metadata="\'{{direction}}\'"></div>',link:function(a,b,c,d){a.move=function(){d.move(a)}}}}]),angular.module("uv").directive("hover",["$parse",function(a){return{restrict:"A",compile:function(b,c){var d=a(c.hover);return function(a,b,c){b.on("mouseenter",function(b){a.$apply(function(){d(a,{$event:b,hover:!0})})}),b.on("mouseleave",function(b){a.$apply(function(){d(a,{$event:b,hover:!1})})})}}}}]),angular.module("uv").controller("ToolTipIconCtrl",["$scope","Flyout","Tracking",function(a,b,c){var d=null;this.iconEl=null;var e=this;a.isExpanded=!1,a.isHovered=!1,a.jsSrc=UvJsOptions.jsSrc,a.setHovered=function(a,b){this.isHovered=b,b&&c.trackElement(e.iconEl,{defaults:{action:"hover"},requires:"metadata"})},a.$watch("isHovered",function(c){if(c&&!d){var f=a.headerData;f.flyoutType="TOOLTIP",d=b.newFlyout(e.iconEl,f)}d&&(c?d.open():d.close())}),a.$watch("flyout.isOpen",function(b){b&&(a.isExpanded=!1)})}]).directive("toolTipIcon",function(){return{replace:!0,restrict:"E",template:"<div></div>",controller:"ToolTipIconCtrl",link:function(a,b,c,d){d.iconEl=b}}}),angular.module("uv").directive("uvTarget",[function(){return{restrict:"A",link:function(a,b,c){c.$observe("uvTarget",function(a){if(a){var b="";b="true"==a?"_blank":"false"==a?"_self":a,c.$set("target",b)}})}}}]),angular.module("uv").filter("cardDuration",["DurationHelper",function(a){return function b(c,d){var e;switch(d){case"hh:mm:ss":var f=a.getDurationObj(c),g=f.hours()?f.hours()+":":"",h=f.hours()?a.pad(f.minutes()):f.minutes(),i=":"+a.pad(f.seconds());e=g+h+i;break;case"m":default:e=Math.round(c/60)}return e}}]),angular.module("uv").filter("price",function(){return function(a){return"$"+(+a).toFixed(2)}}),angular.module("uv").filter("time",["TimeHelper",function(a){return function(b){var c=moment.unix(b/1e3);return a.adjustedTime(c).format("LT")}}]).filter("timespan",["TimeHelper",function(a){return function(b,c){var d=moment.unix(b[0]/1e3),e=moment.unix(b[1]/1e3),f="h:mm",g="LT";if(c&&(isNaN(d)||isNaN(e)))return"";d=a.adjustedTime(d),e=a.adjustedTime(e);var h=d.format(d.format("A")===e.format("A")?f:g),i=e.format(g);return h+" - "+i}}]).filter("date",["TimeHelper",function(a){return function(b,c){if(!b)return"";var d="",e=moment(new Date(b));switch(e=a.adjustedTime(e),c){case"short":d=e.format("ddd MMM D");break;case"long":d=e.format("MMM D, YYYY");break;default:d=c?e.format(c):e.calendar()}return d}}]).filter("datespan",[function(){return function(a,b){var c=moment.unix(a[0]/1e3),d=moment.unix(a[1]/1e3),e="M/D",f="M/D/YY";if(b&&(isNaN(c)||isNaN(d)))return"";var g=c.isSame(d,"year")?e:f,h=c.format(g),i=d.format(g);return h+" - "+i}}]),angular.module("uv.flyouts",["common-modules.site-utils","uv.flyouts.flyout-components","common-modules.player"]),angular.module("uv.flyouts").controller("CardFlyoutCtrl",["$scope","PlayVideo","UvConstants",function(a,b,c){var d=a.flyout.data,e={videoTitle:d.categoryTitle,videoSubtitle:d.flyoutTitle,videoDescription:d.flyoutDescription,videoNetwork:""};a.contentTypes=c.contentTypes,a.flyoutHovered=function(b,c){c?a.flyout.open():a.flyout.close()},a.jsSrc=UvJsOptions.jsSrc,a.playVideo=function(a){b.playUrl(a,e)}}]),angular.module("uv.flyouts").controller("CategoryCtrl",["$scope","UserHelper","Bookmark","PlayVideo","UvConstants","EntitlementHelper","EntitlementStatus",function(a,b,c,d,e,f,g){var h=a.flyout.data;a.isSignedIn=b.isSignedIn(),a.showFavorite=a.isSignedIn&&!!h.favoritesId&&h.contentType!==a.contentTypes.live,a.hasBookmark=!1,a.isExpanded=!1,a.$watch("flyout.isOpen",function(b){if(b&&(a.isExpanded=!1,a.isSignedIn&&a.flyout.data.assetSafeVideoKey)){a.hasBookmark=c.hasBookmark(h.assetSafeVideoKey);var d=e.urlParams.resume;a.hasBookmark?(a.bookmarkProgress=c.getBookmarkProgress(a.flyout.data.assetSafeVideoKey),a.originalPlayUrl===h.flyoutUrl&&(a.playUrl=a.originalPlayUrl+d,a.buttonText=a.buttons[0].text=UvJsOptions.flyouts.buttons.resume)):a.originalPlayUrl===h.flyoutUrl&&(a.playUrl=a.originalPlayUrl,a.buttonText=a.buttons[0].text=a.originalButtonText),a.buttons[0].playUrl=a.thumbnail.playUrl=a.playUrl}}),a.hasEntitledFullContent=f.getEntitlementStatus(h.entitlementLevel)===g.ALLOWED&&h.numFulls>0&&!!h.flyoutUrl,a.playUrl=a.hasEntitledFullContent?h.flyoutUrl:h.assetPromoUrl,a.buttonText=a.hasEntitledFullContent?"movies"==h.contentType?UvJsOptions.flyouts.buttons.movies:UvJsOptions.flyouts.buttons.episode:"movies"==h.contentType?UvJsOptions.flyouts.buttons.trailer:UvJsOptions.flyouts.buttons.clip,a.originalButtonText=a.buttonText,a.originalPlayUrl=a.playUrl,a.playUrl&&(a.buttons=[{text:a.buttonText,playUrl:a.playUrl}]),h.assetImageUrl&&(a.thumbnail={imgSrc:h.assetImageUrl,playUrl:a.playUrl})}]),angular.module("uv.flyouts").controller("CouponCtrl",["$scope","PlayVideo","UserHelper","CouponData",function(a,b,c,d){var e=a.flyout.data;a.isExpanded=!1,a.isCouponSaved=d.isSavedCoupon(e.couponCode),a.isUverseUser=c.isUverseUser(),a.saveCoupon=function(){a.isCouponSaved=!0,d.saveCoupon(e.couponCode)},a.$watch("flyout.isOpen",function(b){b&&(a.isExpanded=!1)}),e.trailerUrl&&(a.buttons=[{text:UvJsOptions.flyouts.buttons.trailer,playUrl:e.trailerUrl}]),e.assetImageUrl&&(a.thumbnail={imgSrc:e.assetImageUrl,playUrl:e.trailerUrl})}]),angular.module("uv.flyouts").directive("cardFlyout",function(){return{transclude:!0,replace:!0,restrict:"E",templateUrl:UvJsOptions.jsSrc+"uv/flyouts/templates/cardFlyout.tpl"}}),angular.module("uv.flyouts.flyout-components",["common-modules.site-utils","common-modules.user"]),angular.module("uv.flyouts.flyout-components").controller("FlyoutFavoriteCtrl",["$scope","Favorite",function(a,b){a.isFavorited=b.isFavorited(a.flyout.data.favoritesId),a.toggleFavorite=function(c){a.isFavorited=!c,b.toggleFavorite(a.flyout.data.favoritesId)}}]),angular.module("uv.flyouts.flyout-components").controller("FlyoutFooterCtrl",["$scope","$interpolate","$sce","UserHelper","EntitlementHelper","EntitlementStatus","FooterEntitlement",function(a,b,c,d,e,f,g){var h=e.getEntitlementStatus(a.flyout.data.entitlementLevel),i=g.messages[h],j={};j[a.contentTypes.movies]=0,j[a.contentTypes.tv]=1;var k;if(h===f.SIGNIN){var l=d.signInUrl(window.location.href);k=j[a.flyout.data.contentType],i=b(i)({contentChoice:k,signinLink:l})}else if(h===f.UPGRADE){var m=a.flyout.data.packageUpgradeUrl;k=j[a.flyout.data.contentType],i=b(i)({contentChoice:k,upgradeUrl:m})}a.entitlementClass=g.classes[h],a.entitlementMessage=c.trustAsHtml(i)}]),angular.module("uv.flyouts.flyout-components").controller("RentalFooterCtrl",["$scope",function(a){a.orderLink=UvJsOptions.flyouts.footer.rentalOrderLink}]),angular.module("uv.flyouts.flyout-components").directive("flyoutHeader",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:UvJsOptions.jsSrc+"uv/flyouts/flyout-components/templates/header.tpl",scope:{flyoutTitle:"@",flyoutUrl:"@"}}}),angular.module("uv.flyouts.flyout-components").value("FooterEntitlement",{classes:{SIGNIN:"footer-signin",UPGRADE:"footer-upgrade",BROADBAND:"footer-upgrade",HDPREM:"footer-upgrade",HDUPGRADE:"footer-upgrade",ALLOWED:"footer-allowed"},messages:{SIGNIN:UvJsOptions.flyouts.footer.signin,UPGRADE:UvJsOptions.flyouts.footer.upgrade,BROADBAND:UvJsOptions.flyouts.footer.broadband,HDPREM:UvJsOptions.flyouts.footer.hdprem,HDUPGRADE:UvJsOptions.flyouts.footer.hdupgrade,ALLOWED:""}}),angular.module("uv.flyouts").factory("Flyout",["$q","$templateCache","$compile","$timeout","$document","FlyoutPosition","FlyoutConfig","FlyoutTypes","PostDigest","jsAnimate",function(a,b,c,d,e,f,g,h,i,j){function k(b,c,d){this.el=null,this.parentEl=b,this.scope=null,this.timeout=null,this.shouldOpen=null,this.initialized=null,this.config=d||g.default,this.dataPromise=a.when(c),this.public={open:this.open.bind(this),close:this.close.bind(this),data:null,isOpen:!1,side:this.config.side}}function l(){this.initialize=function(){var a=this;this.initialized=this.dataPromise.then(function(b){a.scope=a.parentEl.scope().$new(),a.scope.flyout=a.public,a.public.data=b})},this.compile=function(){var a=this.public.data.flyoutType.toUpperCase();if(!m[a]){var d=b.get(h[a].templateUrl);m[a]=c(d)}var f=this;m[a](this.scope,function(a){f.el=a,e[0].body.appendChild(f.el[0])})},this.resetTimeout=function(){return this.timeout?(d.cancel(this.timeout),this.timeout=null,!0):!1},this.open=function(){if(this.shouldOpen=!0,!this.resetTimeout()){this.initialized||this.initialize(),this.timeout=d(_.noop,this.config.delayOpen);var b=a.all([this.timeout,this.initialized]),c=this;b.then(function(){c.shouldOpen&&(c.el?(f.setPosition(c),j.fadeIn(c.el,250,"sine:in:out")):(c.compile(),i(function(){f.setPosition(c),c.scope.$apply(),j.fadeIn(c.el,250,"sine:in:out")})),c.public.isOpen=!0,c.timeout=null)})}},this.close=function(){if(this.shouldOpen=!1,!this.resetTimeout()&&this.initialized){var a=this;this.timeout=d(function(){a.shouldOpen||(j.fadeOut(a.el,150,"sine:in:out"),a.public.isOpen=!1,a.timeout=null)},this.config.delayClose)
}}}var m={};return k.prototype=new l,k.prototype.constructor=k,{newFlyout:function(a,b,c){var d=new k(a,b,c);return{open:function(){d.open()},close:function(){d.close()}}}}}]),angular.module("uv.flyouts").factory("FlyoutPosition",["UvConstants","$document",function(a,b){function c(c){function d(a){a=a||c.config.side;var b=c.config.top+m.top-l.top,d="right"==a?m.right+-1*c.config.left:m.left-c.el[0].offsetWidth+c.config.left;return"TOOLTIP"===k&&(d+=25,b-=46),{x:d,y:b}}function e(a){c.el.css({left:a.x+"px",top:a.y+"px"})}function f(){j=c.el[0].getBoundingClientRect();var a=b[0].body.offsetWidth;return j.right>a||j.left<0}function g(){return j=j||c.el[0].getBoundingClientRect(),j.top<a.header.height}function h(){var a="right"==c.config.side?"left":"right";e(d(a)),c.public.side=a}function i(){var b=d(c.public.side);b.y=a.header.height-l.top,e(b)}var j=null,k=c.scope.flyout.data.flyoutType,l=document.body.getBoundingClientRect(),m=c.parentEl[0].getBoundingClientRect();c.public.side=c.config.side,e(d()),f()&&h(),g()&&i()}return{setPosition:c}}]),angular.module("uv.flyouts").constant("FlyoutConfig",{"default":{delayOpen:500,delayClose:200,side:"right",top:-10,left:10}}),angular.module("uv.flyouts").constant("FlyoutTypes",{COUPON:{templateUrl:UvJsOptions.jsSrc+"uv/flyouts/templates/coupon.tpl"},TOOLTIP:{templateUrl:UvJsOptions.jsSrc+"uv/flyouts/templates/toolTip.tpl"},CATEGORY:{templateUrl:UvJsOptions.jsSrc+"uv/flyouts/templates/category.tpl"}}),angular.module("uv").service("Bookmark",["$http",function(a){var b=!1,c={};this._onUverseData=function(){c=Uverse.page.getPersonalizationData("bookmarks")},Uverse.page.addMemoryEvent("Bookmarks-ready",this._onUverseData),this.hasBookmark=function(a){return c.hasOwnProperty(a)&&!_.isEmpty(c[a])},this.getBookmark=function(a){return c[a]},this.getBookmarkProgress=function(a){var b=this.getBookmark(a);return Math.round(100*b.position/b.totalTime)+"%"},this.getBookmarkRemaining=function(a){var b=this.getBookmark(a);return Math.round((b.totalTime-b.position)/60)}}]),angular.module("uv").factory("ComponentDataCache",["$http","$q",function(a,b){function c(a,c){var e=b.defer(),f=g[a];return f?e.resolve(f):_.isEmpty(c)?d(e,a):e.resolve(c),e.promise}function d(b,c){c?a.get(c).then(e.bind(this,b,c),f.bind(this,b,c)):f(b,c)}function e(a,b,c){g[b]=c.data,a.resolve(c.data)}function f(a,b){var c="Ajax request to the following endpoint failed: "+b;Uverse.console.warn("[ComponentDataCache] "+c),a.reject(c)}var g={};return{getData:c}}]),angular.module("uv").service("CouponData",["$q","$http","ComponentDataCache","UvConstants",function(a,b,c,d){var e=this,f=null;this.savedCoupons=[],this._addSavedCoupons=function(a){var b=_.filter(f,function(b){return-1!=a.indexOf(b.code)});this.savedCoupons=null!==this.savedCoupons?this.savedCoupons.concat(b):b},this.isSavedCoupon=function(a){return-1!==this.savedCoupons.map(function(a){return a.code}).indexOf(a)},this.saveCoupon=function(c){e._addSavedCoupons([c]);var f={code:c,noCache:(new Date).getTime()};return b.post(d.urls.coupons.save,null,{params:f}).then(function g(b){if(!b.data.errorMessage)return b.data;var c="Post to "+d.urls.coupons.save+" returned an error: "+b.data.errorMessage;Uverse.console.warn("[CouponData] "+c),a.reject(b.data)})},this.getCoupons=function(a,b){return c.getData(a,b).then(function d(a){return f=a,a})},this.getSavedCoupons=function(a,b){return c.getData(a,b).then(function d(a){return _.isArray(a.couponCodes)&&e._addSavedCoupons(a.couponCodes),e.savedCoupons})}}]),angular.module("uv").service("Favorite",["$http","UvConstants",function(a,b){var c=!1,d=[];this._onUverseData=function(){d=Uverse.page.getPersonalizationData("library")},Uverse.page.addMemoryEvent("Favorite-assetList",this._onUverseData),this.isFavorited=function(a){return-1!==d.indexOf(a)},this.toggleFavorite=function(c){var e;this.isFavorited(c)?(e=b.urls.favorites.remove,_.pull(d,c)):(e=b.urls.favorites.save,d.push(c));var f="showPath="+encodeURIComponent(c),g={noCache:(new Date).getTime()};return a.post(e,f,{params:g}).then(function h(a){return a.data},function i(a){var b="Post to "+e+" returned an error: "+a.status;Uverse.console.warn("[Favorite] "+b)})}}]);
//# sourceMappingURL=uv.combined.min.map.js
}());
