/*!CK:2613971639!*//*1398291044,178183207*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Su+4M"]); }

__d("CollapseExposedTextOnTransition",["CSS","DOMQuery","csx"],function(a,b,c,d,e,f,g,h,i){function j(){"use strict";}j.prototype.init=function(k){"use strict";this.$CollapseExposedTextOnTransition0=k;this.$CollapseExposedTextOnTransition0.getArbiter().subscribe('onBeforeTransition',this.$CollapseExposedTextOnTransition1.bind(this));};j.prototype.$CollapseExposedTextOnTransition1=function(k,l){"use strict";var m=h.scry(l.item.ad,"div._5pbx .text_exposed.text_exposed_root");m.forEach(function(n){g.removeClass(n,'text_exposed');});};e.exports=j;});
__d("DesktopHscrollUnit",["Arbiter","CSS","DOM","DOMQuery","Locale","PixelNumConverter","Style","csx","cx","getStyleProperty","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r="_2_tg",s=300,t="_2_th",u="_2_ti",v="_2_tj",w="_hy9",x='DesktopHScrollUnit/itemInserted',y='DesktopHScrollUnit/itemShown';function z(aa,ba,ca,da,ea,fa,ga,ha){"use strict";this.$DesktopHscrollUnit0=aa;this.$DesktopHscrollUnit1=ba;this.$DesktopHscrollUnit2=ca;this.$DesktopHscrollUnit3=da;this.$DesktopHscrollUnit4=fa;this.$DesktopHscrollUnit5=0;this.$DesktopHscrollUnit6=1+fa.length;this.$DesktopHscrollUnit7=[ea];this.$DesktopHscrollUnit8=ga;this.$DesktopHscrollUnit9=new g();this.$DesktopHscrollUnita=0;this.$DesktopHscrollUnitb=j.find(aa,"^div._5jmm");this.$DesktopHscrollUnitc=this.$DesktopHscrollUnitb.getAttribute('data-ft');this.$DesktopHscrollUnit2.initPager(this,this.$DesktopHscrollUnit3);ha.forEach(function(ia){ia.init(this);},this);h.addClass(ea.ad,t);if(ea.subheader)this.$DesktopHscrollUnitd(ea.subheader);this.$DesktopHscrollUnite(this.$DesktopHscrollUnit5);h.addClass(this.$DesktopHscrollUnitb,"_sf6");h.conditionClass(this.$DesktopHscrollUnitb,"_2_tl",this.$DesktopHscrollUnit8);this.$DesktopHscrollUnitf();}z.prototype.getArbiter=function(){"use strict";return this.$DesktopHscrollUnit9;};z.prototype.getAdContainer=function(){"use strict";return this.$DesktopHscrollUnit0;};z.prototype.getPager=function(){"use strict";return this.$DesktopHscrollUnit2;};z.prototype.getSelectedItem=function(){"use strict";return this.$DesktopHscrollUnit7[this.$DesktopHscrollUnit5];};z.prototype.getSelectedIndex=function(){"use strict";return this.$DesktopHscrollUnit5;};z.prototype.getNumItems=function(){"use strict";return this.$DesktopHscrollUnit6;};z.prototype.getID=function(){"use strict";return this.$DesktopHscrollUnitb.id;};z.prototype.scrollNext=function(){"use strict";if(this.$DesktopHscrollUnit5+1<this.$DesktopHscrollUnit6)this.$DesktopHscrollUnitg(this.$DesktopHscrollUnit5+1);};z.prototype.scrollPrevious=function(){"use strict";if(this.$DesktopHscrollUnit5-1>=0)this.$DesktopHscrollUnitg(this.$DesktopHscrollUnit5-1);};z.prototype.addOffscreenItems=function(aa){"use strict";this.$DesktopHscrollUnit4.push.apply(this.$DesktopHscrollUnit4,aa);this.$DesktopHscrollUnit6+=aa.length;this.$DesktopHscrollUnit9.inform('onAdditionalItemsAdded',{});};z.prototype.$DesktopHscrollUnite=function(aa){"use strict";var ba=this.$DesktopHscrollUnit7[aa];if(this.$DesktopHscrollUnit8&&ba.subheader){i.remove(ba.subheader);i.appendContent(this.$DesktopHscrollUnit1,ba.subheader);this.$DesktopHscrollUnit1.offsetHeight;}this.$DesktopHscrollUnit7.forEach(function(ca,da){var ea=da==aa;h.conditionClass(ca.ad,v,ea);h.conditionClass(ca.ad,w,!ea);if(ca.subheader)h.conditionClass(ca.subheader,v,ea);});this.$DesktopHscrollUnit9.inform('onShow',{item:ba,index:aa},g.BEHAVIOR_EVENT);g.inform(y);};z.prototype.$DesktopHscrollUnitg=function(aa){"use strict";this.$DesktopHscrollUnit9.inform('onBeforeTransition',{item:this.$DesktopHscrollUnit7[this.$DesktopHscrollUnit5]},g.BEHAVIOR_EVENT);while(this.$DesktopHscrollUnit4.length>0&&aa>=this.$DesktopHscrollUnit7.length)this.$DesktopHscrollUnith(this.$DesktopHscrollUnit4.shift());this.$DesktopHscrollUnite(aa);if(this.$DesktopHscrollUnit8){this.$DesktopHscrollUnita++;h.addClass(this.$DesktopHscrollUnit0,r);setTimeout(function(){if(--this.$DesktopHscrollUnita===0)h.removeClass(this.$DesktopHscrollUnit0,r);}.bind(this),s);this.$DesktopHscrollUnit9.inform('onAnimate',{item:this.$DesktopHscrollUnit7[aa]},g.BEHAVIOR_EVENT);var ba,ca;q(function(){ba=l.numValue(p(this.$DesktopHscrollUnit0,'padding-bottom'));ca=this.$DesktopHscrollUnit0.offsetHeight;}.bind(this),function(){m.set(this.$DesktopHscrollUnit0,'min-height',l.pixelValue(ca-ba));m.set(this.$DesktopHscrollUnit7[0].ad,k.isRTL()?'margin-right':'margin-left',(aa*-100)+'%');}.bind(this));}this.$DesktopHscrollUnit5=aa;this.$DesktopHscrollUnitf();};z.prototype.$DesktopHscrollUnith=function(aa){"use strict";h.addClass(aa.ad,t);i.appendContent(this.$DesktopHscrollUnit0,aa.ad);g.inform(x);if(aa.subheader){this.$DesktopHscrollUnitd(aa.subheader);i.appendContent(this.$DesktopHscrollUnit1,aa.subheader);}this.$DesktopHscrollUnit7.push(aa);};z.prototype.$DesktopHscrollUnitf=function(){"use strict";var aa=JSON.parse(this.$DesktopHscrollUnit7[this.$DesktopHscrollUnit5].ad.getAttribute('data-ft')),ba=JSON.parse(this.$DesktopHscrollUnitc);for(var ca in aa)ba[ca]=aa[ca];this.$DesktopHscrollUnitb.setAttribute('data-ft',JSON.stringify(ba));g.inform('FeedAdsClickLogger/refreshTrackingData',{});};z.prototype.$DesktopHscrollUnitd=function(aa){"use strict";h.addClass(aa,u);if(this.$DesktopHscrollUnit8){var ba=i.create('div');h.addClass(ba,"_2_tm");i.appendContent(aa,ba);}};z.HSCROLL_ITEM_SHOWN_EVENT=y;z.HSCROLL_ITEM_INSERTED_EVENT=x;e.exports=z;});
__d("FormatLinkShareAttachmentExtension",["Arbiter","CSS","DOM","DOMQuery","LitestandEllipsis","csx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=22,n=2;function o(){"use strict";}o.prototype.init=function(p){"use strict";this.$FormatLinkShareAttachmentExtension0={0:true};this.$FormatLinkShareAttachmentExtension1=p;this.$FormatLinkShareAttachmentExtension1.getArbiter().subscribe('onShow',this.$FormatLinkShareAttachmentExtension2.bind(this),g.SUBSCRIBE_NEW);};o.prototype.$FormatLinkShareAttachmentExtension2=function(p,q){"use strict";if(this.$FormatLinkShareAttachmentExtension0[q.index])return;this.$FormatLinkShareAttachmentExtension0[q.index]=true;var r=i.find(q.item.ad,"div._6m2");if(!r)return;var s=i.find(r,"._6m6"),t=s.offsetHeight/m;if(t>=n){k.add(s,n*m);var u=j.scry(r,"._6m7")[0];h.hide(u);}};e.exports=o;});
__d("PadMessageOnAnimateExtension",["Arbiter","CSS","DOM","DOMQuery","PixelNumConverter","Style","csx","getStyleProperty","queryThenMutateDOM"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p="div._5pbx",q="div._329q",r="div._6m2";function s(){"use strict";}s.prototype.init=function(t){"use strict";this.$PadMessageOnAnimateExtension0=t;this.$PadMessageOnAnimateExtension0.getArbiter().subscribe('onAnimate',this.$PadMessageOnAnimateExtension1.bind(this),g.SUBSCRIBE_NEW);};s.prototype.$PadMessageOnAnimateExtension1=function(t,u){"use strict";var v=j.scry(u.item.ad,p)[0];if(!v)return;var w=j.scry(u.item.ad,q)[0]||j.scry(u.item.ad,r)[0];if(!w)return;var x=j.scry(u.item.ad,"div._5pbx .text_exposed_root")[0],y,z,aa,ba;o(function(){y=k.numValue(n(this.$PadMessageOnAnimateExtension0.getAdContainer(),'padding-bottom'));aa=this.$PadMessageOnAnimateExtension0.getAdContainer().offsetHeight;z=v.offsetHeight;ba=u.item.ad.offsetHeight;}.bind(this),function(){var ca=aa-y-ba;if(x&&!h.hasClass(x,'text_exposed')){h.addClass(x,'text_exposed');var da=v.offsetHeight-z;if(da<=ca){ca-=da;this.$PadMessageOnAnimateExtension2(x);}else h.removeClass(x,'text_exposed');}l.set(v,'min-height',k.pixelValue(z+ca));}.bind(this));};s.prototype.$PadMessageOnAnimateExtension2=function(t){"use strict";j.scry(t,'.text_exposed_hide').forEach(function(u){i.remove(u);});j.scry(t,'.text_exposed_link').forEach(function(u){i.remove(u);});j.scry(t,'.text_exposed_show').forEach(function(u){i.replace(u,u.childNodes);});h.removeClass(t,'text_exposed_root');h.removeClass(t,'text_exposed');};e.exports=s;});
__d("ScrollOnReturnExtension",["CSS","DOMQuery","Event","csx","cx"],function(a,b,c,d,e,f,g,h,i,j,k){var l="_3mrw",m=750;function n(){"use strict";}n.prototype.init=function(o){"use strict";this.$ScrollOnReturnExtension0=o;this.$ScrollOnReturnExtension0.getArbiter().subscribe('onShow',this.$ScrollOnReturnExtension1.bind(this));this.$ScrollOnReturnExtension2=false;i.listen(window,'focus',this.$ScrollOnReturnExtension3.bind(this));};n.prototype.$ScrollOnReturnExtension1=function(o,p){"use strict";this.$ScrollOnReturnExtension2=false;if(g.hasClass(p.item.ad,l))return;var q=h.find(p.item.ad,"div._6m2");if(!q)return;i.listen(q,'click',this.$ScrollOnReturnExtension4.bind(this));g.addClass(p.item.ad,l);};n.prototype.$ScrollOnReturnExtension4=function(o){"use strict";this.$ScrollOnReturnExtension2=true;};n.prototype.$ScrollOnReturnExtension3=function(){"use strict";if(!this.$ScrollOnReturnExtension2)return;this.$ScrollOnReturnExtension2=false;var o=this.$ScrollOnReturnExtension0.getSelectedIndex();setTimeout(function(){if(this.$ScrollOnReturnExtension0.getSelectedIndex()===o)this.$ScrollOnReturnExtension0.scrollNext();}.bind(this),m);};e.exports=n;});
__d("HideUFIOnTransitionExtension",["Arbiter","CSS","DOMQuery","csx"],function(a,b,c,d,e,f,g,h,i,j){function k(){"use strict";}k.prototype.init=function(l){"use strict";this.$HideUFIOnTransitionExtension0=l;this.$HideUFIOnTransitionExtension0.getArbiter().subscribe('onBeforeTransition',this.$HideUFIOnTransitionExtension1.bind(this),g.SUBSCRIBE_NEW);};k.prototype.$HideUFIOnTransitionExtension1=function(l,m){"use strict";var n=i.scry(m.item.ad,"form.commentable_item");n.forEach(function(o){h.addClass(o,'collapsed_comments');h.addClass(o,'hidden_add_comment');});};e.exports=k;});
__d("PageLikeAdScrollOnLikeExtension",["Arbiter","Button","PageLikeButton"],function(a,b,c,d,e,f,g,h,i){var j=750;function k(){"use strict";}k.prototype.init=function(l){"use strict";this.$PageLikeAdScrollOnLikeExtension0=l;var m=this.$PageLikeAdScrollOnLikeExtension0.getPager().getPagerButtons().getRoot().childNodes;this.$PageLikeAdScrollOnLikeExtension1=m[m.length-1];g.subscribe(i.LIKED,this.$PageLikeAdScrollOnLikeExtension2.bind(this),g.SUBSCRIBE_NEW);};k.prototype.$PageLikeAdScrollOnLikeExtension2=function(l,m){"use strict";var n=this.$PageLikeAdScrollOnLikeExtension0.getSelectedItem().ad.getAttribute('data-oid');if(m.profile_id!=n||!h.isEnabled(this.$PageLikeAdScrollOnLikeExtension1))return;var o=this.$PageLikeAdScrollOnLikeExtension0.getPager();o.fetchAdditionalAdsIfNecessary&&o.fetchAdditionalAdsIfNecessary();setTimeout(function(){h.setDepressed(this.$PageLikeAdScrollOnLikeExtension1,true);}.bind(this),j/2);setTimeout(function(){h.setDepressed(this.$PageLikeAdScrollOnLikeExtension1,false);this.$PageLikeAdScrollOnLikeExtension0.getPager().getPagerButtons().inform('next');}.bind(this),j);};e.exports=k;});